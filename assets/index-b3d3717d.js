var lm=Object.defineProperty;var hm=(t,e,n)=>e in t?lm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ya=(t,e,n)=>(hm(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Mt(){}function nh(t){return t()}function qs(){return Object.create(null)}function sn(t){t.forEach(nh)}function rh(t){return typeof t=="function"}function He(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dm(t){return Object.keys(t).length===0}function B(t,e){t.appendChild(e)}function bt(t,e,n){t.insertBefore(e,n||null)}function pt(t){t.parentNode&&t.parentNode.removeChild(t)}function Ef(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function j(t){return document.createElement(t)}function mt(t){return document.createTextNode(t)}function st(){return mt(" ")}function ih(){return mt("")}function se(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function ut(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pm(t){return t===""?null:+t}function gm(t){return Array.from(t.childNodes)}function Xr(t,e){e=""+e,t.data!==e&&(t.data=e)}function ei(t,e){t.value=e??""}function nn(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Jn(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Af(t){const e=t.querySelector(":checked");return e&&e.__value}let ni;function jr(t){ni=t}function oh(){if(!ni)throw new Error("Function called outside component initialization");return ni}function ah(t){oh().$$.on_mount.push(t)}function bi(t){oh().$$.after_update.push(t)}const Qn=[],rn=[];let ir=[];const Ys=[],mm=Promise.resolve();let Cf=!1;function ym(){Cf||(Cf=!0,mm.then(fh))}function sr(t){ir.push(t)}const Wa=new Set;let Hn=0;function fh(){if(Hn!==0)return;const t=ni;do{try{for(;Hn<Qn.length;){const e=Qn[Hn];Hn++,jr(e),bm(e.$$)}}catch(e){throw Qn.length=0,Hn=0,e}for(jr(null),Qn.length=0,Hn=0;rn.length;)rn.pop()();for(let e=0;e<ir.length;e+=1){const n=ir[e];Wa.has(n)||(Wa.add(n),n())}ir.length=0}while(Qn.length);for(;Ys.length;)Ys.pop()();Cf=!1,Wa.clear(),jr(t)}function bm(t){if(t.fragment!==null){t.update(),sn(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(sr)}}function _m(t){const e=[],n=[];ir.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ir=e}const fo=new Set;let wn;function Jo(){wn={r:0,c:[],p:wn}}function ta(){wn.r||sn(wn.c),wn=wn.p}function _t(t,e){t&&t.i&&(fo.delete(t),t.i(e))}function xt(t,e,n,r){if(t&&t.o){if(fo.has(t))return;fo.add(t),wn.c.push(()=>{fo.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function tr(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Gt(t){t&&t.c()}function Ot(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),sr(()=>{const o=t.$$.on_mount.map(nh).filter(rh);t.$$.on_destroy?t.$$.on_destroy.push(...o):sn(o),t.$$.on_mount=[]}),i.forEach(sr)}function Bt(t,e){const n=t.$$;n.fragment!==null&&(_m(n.after_update),sn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wm(t,e){t.$$.dirty[0]===-1&&(Qn.push(t),ym(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ge(t,e,n,r,i,o,a=null,f=[-1]){const c=ni;jr(t);const s=t.$$={fragment:null,ctx:[],props:o,update:Mt,not_equal:i,bound:qs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:qs(),dirty:f,skip_bound:!1,root:e.target||c.$$.root};a&&a(s.root);let u=!1;if(s.ctx=n?n(t,e.props||{},(h,l,...d)=>{const p=d.length?d[0]:l;return s.ctx&&i(s.ctx[h],s.ctx[h]=p)&&(!s.skip_bound&&s.bound[h]&&s.bound[h](p),u&&wm(t,h)),l}):[],s.update(),u=!0,sn(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const h=gm(e.target);s.fragment&&s.fragment.l(h),h.forEach(pt)}else s.fragment&&s.fragment.c();e.intro&&_t(t.$$.fragment),Ot(t,e.target,e.anchor),fh()}jr(c)}class Ve{constructor(){Ya(this,"$$");Ya(this,"$$set")}$destroy(){Bt(this,1),this.$destroy=Mt}$on(e,n){if(!rh(n))return Mt;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!dm(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vm="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vm);const xm="modulepreload",Mm=function(t){return"/"+t},Ws={},Gn=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Mm(o),o in Ws)return;Ws[o]=!0;const a=o.endsWith(".css"),f=a?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===o&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${f}`))return;const s=document.createElement("link");if(s.rel=a?"stylesheet":xm,a||(s.as="script",s.crossOrigin=""),s.href=o,document.head.appendChild(s),a)return new Promise((u,h)=>{s.addEventListener("load",u),s.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function $m(t){if(t){if(t=new Uint8Array(t.buffer||t),Tm(t))return"wav";if(Sm(t))return"mp3";if(Em(t))return"flac";if(Am(t))return"m4a";if(Cm(t))return"opus";if(km(t))return"oga";if(Nm(t))return"qoa"}}function Sm(t){if(!(!t||t.length<3))return t[0]===73&&t[1]===68&&t[2]===51||t[0]===255&&(t[1]&224)===224||t[0]===84&&t[1]===65&&t[2]===71}function Tm(t){if(!(!t||t.length<12))return t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70&&t[8]===87&&t[9]===65&&t[10]===86&&t[11]===69}function km(t){if(!(!t||t.length<4))return t[0]===79&&t[1]===103&&t[2]===103&&t[3]===83}function Em(t){if(!(!t||t.length<4))return t[0]===102&&t[1]===76&&t[2]===97&&t[3]===67}function Am(t){if(!(!t||t.length<8))return t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112||t[0]===77&&t[1]===52&&t[2]===65&&t[3]===32}function Cm(t){if(!(!t||t.length<36))return t[0]===79&&t[1]===103&&t[2]===103&&t[3]===83&&t[28]===79&&t[29]===112&&t[30]===117&&t[31]===115&&t[32]===72&&t[33]===101&&t[34]===97&&t[35]===100}function Nm(t){if(t)return t[0]===113&&t[1]===111&&t[2]===97&&t[3]===102}let Dm=class{constructor(e){if(!e)throw TypeError("options argument is required");if(!e.sampleRate)throw TypeError("options.sampleRate is required");if(e.sampleRate<3e3||e.sampleRate>768e3)throw TypeError("options.sampleRate must be within 3000..768000");if(!e.length)throw TypeError("options.length must be more than 0");this.sampleRate=e.sampleRate,this.numberOfChannels=e.numberOfChannels||1,this.length=e.length|0,this.duration=this.length/this.sampleRate,this._data=new Float32Array(this.length*this.numberOfChannels),this._channelData=[];for(let n=0;n<this.numberOfChannels;n++)this._channelData.push(this._data.subarray(n*this.length,(n+1)*this.length))}getChannelData(e){if(e>=this.numberOfChannels||e<0||e==null)throw Error("Cannot getChannelData: channel number ("+e+") exceeds number of channels ("+this.numberOfChannels+")");return this._channelData[e]}copyFromChannel(e,n,r){r==null&&(r=0);for(var i=this._channelData[n],o=r,a=0;o<this.length&&a<e.length;o++,a++)e[a]=i[o]}copyToChannel(e,n,r){var i=this._channelData[n];r||(r=0);for(var o=r,a=0;o<this.length&&a<e.length;o++,a++)i[o]=e[a]}};const Lm=globalThis.AudioBuffer||Dm;async function Rm(t){if(!t&&!(t.length||t.buffer))throw Error("Bad decode target");t=new Uint8Array(t.buffer||t);let e=$m(t);if(!e)throw Error("Cannot detect audio format");if(!Je[e])throw Error("Missing decoder for "+e+" format");return Je[e](t)}const Je={async oga(t){let{OggVorbisDecoder:e}=await Gn(()=>import("./index-b39e3156.js"),["assets/index-b39e3156.js","assets/utilities-2519cc85.js","assets/index-0047a0ad.js"]);const n=new e;return await n.ready,(Je.oga=async r=>r&&Vn(await n.decodeFile(r)))(t)},async mp3(t){const{MPEGDecoder:e}=await Gn(()=>import("./index-5d06dc60.js"),["assets/index-5d06dc60.js","assets/utilities-2519cc85.js"]),n=new e;return await n.ready,(Je.mp3=r=>r&&Vn(n.decode(r)))(t)},async flac(t){const{FLACDecoder:e}=await Gn(()=>import("./index-b7e16be1.js"),["assets/index-b7e16be1.js","assets/utilities-2519cc85.js","assets/index-0047a0ad.js"]),n=new e;return await n.ready,(Je.mp3=async r=>r&&Vn(await n.decode(r)))(t)},async opus(t){const{OggOpusDecoder:e}=await Gn(()=>import("./index-2282445a.js"),["assets/index-2282445a.js","assets/utilities-2519cc85.js","assets/index-0047a0ad.js"]),n=new e;return await n.ready,(Je.opus=async r=>r&&Vn(await n.decodeFile(r)))(t)},async wav(t){let e=await Gn(()=>import("./index-5e0e52e5.js").then(r=>r.i),[]),{decode:n}=e.default;return(Je.wav=r=>r&&Vn(n(r)))(t)},async qoa(t){let{decode:e}=await Gn(()=>import("./index-334570fa.js"),[]);return(Je.qoa=n=>n&&Vn(e(n)))(t)}};function Vn({channelData:t,sampleRate:e}){let n=new Lm({sampleRate:e,length:t[0].length,numberOfChannels:t.length});for(let r=0;r<t.length;r++)n.getChannelData(r).set(t[r]);return n}var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ch(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fm=Im;function Im(t,e){e=e||{};var n=t.numberOfChannels,r=t.sampleRate,i=e.float32?3:1,o=i===3?32:16,a;return n===2?a=Um(t.getChannelData(0),t.getChannelData(1)):a=t.getChannelData(0),Pm(a,i,r,n,o)}function Pm(t,e,n,r,i){var o=i/8,a=r*o,f=new ArrayBuffer(44+t.length*o),c=new DataView(f);return zi(c,0,"RIFF"),c.setUint32(4,36+t.length*o,!0),zi(c,8,"WAVE"),zi(c,12,"fmt "),c.setUint32(16,16,!0),c.setUint16(20,e,!0),c.setUint16(22,r,!0),c.setUint32(24,n,!0),c.setUint32(28,n*a,!0),c.setUint16(32,a,!0),c.setUint16(34,i,!0),zi(c,36,"data"),c.setUint32(40,t.length*o,!0),e===1?Bm(c,44,t):Om(c,44,t),f}function Um(t,e){for(var n=t.length+e.length,r=new Float32Array(n),i=0,o=0;i<n;)r[i++]=t[o],r[i++]=e[o],o++;return r}function Om(t,e,n){for(var r=0;r<n.length;r++,e+=4)t.setFloat32(e,n[r],!0)}function Bm(t,e,n){for(var r=0;r<n.length;r++,e+=2){var i=Math.max(-1,Math.min(1,n[r]));t.setInt16(e,i<0?i*32768:i*32767,!0)}}function zi(t,e,n){for(var r=0;r<n.length;r++)t.setUint8(e+r,n.charCodeAt(r))}const zm=ch(Fm);function sh(t=16,e=.5,n=0,r=0,i=!1,o=0){const a=[];for(let f=0;f<t;++f){let c;i?c=f>=n?r:0:c=f===n?r:0,a.push(f*e+o+c)}return a}async function uh(t){const n=await(await fetch(t)).arrayBuffer();return await Rm(n)}function lh(t,e){const n=e.at(-1)+1,r=t.getChannelData(0),i=new Float32Array(Math.ceil(n*t.sampleRate));for(const o of e){const a=Math.round(o*t.sampleRate);for(let f=0;f<r.length;++f)i[a+f]=r[f]}return i}function qm(t,e,n){const r=new AudioBuffer({sampleRate:e,length:t.length});r.copyToChannel(t,0);const i=new Blob([zm(r)],{type:"audio/wav"});n.src=window.URL.createObjectURL(i)}function Yt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _i(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ea(t){let e,n,r;t.length!==2?(e=Yt,n=(f,c)=>Yt(t(f),c),r=(f,c)=>t(f)-c):(e=t===Yt||t===_i?t:Ym,n=t,r=t);function i(f,c,s=0,u=f.length){if(s<u){if(e(c,c)!==0)return u;do{const h=s+u>>>1;n(f[h],c)<0?s=h+1:u=h}while(s<u)}return s}function o(f,c,s=0,u=f.length){if(s<u){if(e(c,c)!==0)return u;do{const h=s+u>>>1;n(f[h],c)<=0?s=h+1:u=h}while(s<u)}return s}function a(f,c,s=0,u=f.length){const h=i(f,c,s,u-1);return h>s&&r(f[h-1],c)>-r(f[h],c)?h-1:h}return{left:i,center:a,right:o}}function Ym(){return 0}function hh(t){return t===null?NaN:+t}function*Wm(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Hm=ea(Yt),Gm=Hm.right;ea(hh).center;const na=Gm;function Ec(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function Vm(t){return t.length|0}function Xm(t){return!(t>0)}function jm(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Zm(t){return e=>t(...e)}function Km(...t){const e=typeof t[t.length-1]=="function"&&Zm(t.pop());t=t.map(jm);const n=t.map(Vm),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Xm))return o;for(;;){o.push(i.map((f,c)=>t[c][f]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function Qm(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function dh(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function ph(t,e){const n=dh(t,e);return n&&Math.sqrt(n)}function Jt(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class En{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,f=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);f&&(n[r++]=f),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class An extends Map{constructor(e,n=yh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Nf(this,e))}has(e){return super.has(Nf(this,e))}set(e,n){return super.set(gh(this,e),n)}delete(e){return super.delete(mh(this,e))}}class ra extends Set{constructor(e,n=yh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Nf(this,e))}add(e){return super.add(gh(this,e))}delete(e){return super.delete(mh(this,e))}}function Nf({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gh({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mh({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function yh(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Df(t){return t}function ia(t,...e){return Ac(t,Df,Df,e)}function or(t,e,...n){return Ac(t,Df,e,n)}function Jm(t,e,...n){return Ac(t,Array.from,e,n)}function Ac(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const f=new An,c=r[a++];let s=-1;for(const u of o){const h=c(u,++s,o),l=f.get(h);l?l.push(u):f.set(h,[u])}for(const[u,h]of f)f.set(u,i(h,a));return e(f)}(t,0)}function t2(t,e){return Array.from(e,n=>t[n])}function ri(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const f=go(a[i],a[o]);if(f)return f}})):(n=t.map(n),r.sort((i,o)=>go(n[i],n[o]))),t2(t,r)}return t.sort(bh(n))}function bh(t=Yt){if(t===Yt)return go;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function go(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Cc(t,e,n){return(e.length!==2?ri(or(t,e,n),([r,i],[o,a])=>Yt(i,a)||Yt(r,o)):ri(ia(t,n),([r,i],[o,a])=>e(i,a)||Yt(r,o))).map(([r])=>r)}const e2=Math.sqrt(50),n2=Math.sqrt(10),r2=Math.sqrt(2);function mo(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=e2?10:o>=n2?5:o>=r2?2:1;let f,c,s;return i<0?(s=Math.pow(10,-i)/a,f=Math.round(t*s),c=Math.round(e*s),f/s<t&&++f,c/s>e&&--c,s=-s):(s=Math.pow(10,i)*a,f=Math.round(t/s),c=Math.round(e/s),f*s<t&&++f,c*s>e&&--c),c<f&&.5<=n&&n<2?mo(t,e,n*2):[f,c,s]}function ii(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?mo(e,t,n):mo(t,e,n);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(a<0)for(let s=0;s<f;++s)c[s]=(o-s)/-a;else for(let s=0;s<f;++s)c[s]=(o-s)*a;else if(a<0)for(let s=0;s<f;++s)c[s]=(i+s)/-a;else for(let s=0;s<f;++s)c[s]=(i+s)*a;return c}function yo(t,e,n){return e=+e,t=+t,n=+n,mo(t,e,n)[2]}function Lf(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?yo(e,t,n):yo(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function i2(t){return Math.max(1,Math.ceil(Math.log(Ec(t))/Math.LN2)+1)}function ue(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function o2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Oe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function a2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function _h(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?go:bh(i);r>n;){if(r-n>600){const c=r-n+1,s=e-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*h*(c-h)/c)*(s-c/2<0?-1:1),d=Math.max(n,Math.floor(e-s*h/c+l)),p=Math.min(r,Math.floor(e+(c-s)*h/c+l));_h(t,e,d,p,i)}const o=t[e];let a=n,f=r;for(Lr(t,n,e),i(t[r],o)>0&&Lr(t,n,r);a<f;){for(Lr(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[n],o)===0?Lr(t,n,f):(++f,Lr(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function Lr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wh(t,e=Yt){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?Yt(a,i)>0:Yt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function ur(t,e,n){if(t=Float64Array.from(Wm(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Oe(t);if(e>=1)return ue(t);var r,i=(r-1)*e,o=Math.floor(i),a=ue(_h(t,o).subarray(0,o+1)),f=Oe(t.subarray(o+1));return a+(f-a)*(i-o)}}function f2(t,e,n=hh){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),f=+n(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function c2(t,e,n){const r=Ec(t),i=ur(t,.75)-ur(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function vh(t,e,n){const r=Ec(t),i=ph(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function s2(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Rf(t,e){return ur(t,.5,e)}function*u2(t){for(const e of t)yield*e}function xh(t){return Array.from(u2(t))}function l2(t,e){const n=new An;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function h2(t,e=d2){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function d2(t,e){return[t,e]}function Ff(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function on(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function bo(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function p2(t){return t}var Ha=1,Ga=2,If=3,qi=4,Hs=1e-6;function g2(t){return"translate("+t+",0)"}function m2(t){return"translate(0,"+t+")"}function y2(t){return e=>+t(e)}function b2(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function _2(){return!this.__axis}function w2(t,e){var n=[],r=null,i=null,o=6,a=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===Ha||t===qi?-1:1,u=t===qi||t===Ga?"x":"y",h=t===Ha||t===If?g2:m2;function l(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,n):p2),m=Math.max(o,0)+f,b=e.range(),y=+b[0]+c,v=+b[b.length-1]+c,_=(e.bandwidth?b2:y2)(e.copy(),c),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),$=w.selectAll(".tick").data(p,e).order(),E=$.exit(),k=$.enter().append("g").attr("class","tick"),A=$.select("line"),M=$.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(k),A=A.merge(k.append("line").attr("stroke","currentColor").attr(u+"2",s*o)),M=M.merge(k.append("text").attr("fill","currentColor").attr(u,s*m).attr("dy",t===Ha?"0em":t===If?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),$=$.transition(d),A=A.transition(d),M=M.transition(d),E=E.transition(d).attr("opacity",Hs).attr("transform",function(L){return isFinite(L=_(L))?h(L+c):this.getAttribute("transform")}),k.attr("opacity",Hs).attr("transform",function(L){var F=this.parentNode.__axis;return h((F&&isFinite(F=F(L))?F:_(L))+c)})),E.remove(),x.attr("d",t===qi||t===Ga?a?"M"+s*a+","+y+"H"+c+"V"+v+"H"+s*a:"M"+c+","+y+"V"+v:a?"M"+y+","+s*a+"V"+c+"H"+v+"V"+s*a:"M"+y+","+c+"H"+v),$.attr("opacity",1).attr("transform",function(L){return h(_(L)+c)}),A.attr(u+"2",s*o),M.attr(u,s*m).text(g),w.filter(_2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ga?"start":t===qi?"end":"middle"),w.each(function(){this.__axis=_})}return l.scale=function(d){return arguments.length?(e=d,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),l):n.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(f=+d,l):f},l.offset=function(d){return arguments.length?(c=+d,l):c},l}function v2(t){return w2(If,t)}var x2={value:()=>{}};function Mh(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new co(n)}function co(t){this._=t}function M2(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}co.prototype=Mh.prototype={constructor:co,on:function(t,e){var n=this._,r=M2(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=$2(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Gs(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Gs(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new co(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function $2(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Gs(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=x2,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Pf="http://www.w3.org/1999/xhtml";const lr={svg:"http://www.w3.org/2000/svg",xhtml:Pf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oa(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lr.hasOwnProperty(e)?{space:lr[e],local:t}:t}function S2(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Pf&&e.documentElement.namespaceURI===Pf?e.createElement(t):e.createElementNS(n,t)}}function T2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function aa(t){var e=oa(t);return(e.local?T2:S2)(e)}function k2(){}function Nc(t){return t==null?k2:function(){return this.querySelector(t)}}function E2(t){typeof t!="function"&&(t=Nc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=new Array(a),c,s,u=0;u<a;++u)(c=o[u])&&(s=t.call(c,c.__data__,u,o))&&("__data__"in c&&(s.__data__=c.__data__),f[u]=s);return new Xt(r,this._parents)}function A2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function C2(){return[]}function $h(t){return t==null?C2:function(){return this.querySelectorAll(t)}}function N2(t){return function(){return A2(t.apply(this,arguments))}}function D2(t){typeof t=="function"?t=N2(t):t=$h(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&(r.push(t.call(c,c.__data__,s,a)),i.push(c));return new Xt(r,i)}function Sh(t){return function(){return this.matches(t)}}function Th(t){return function(e){return e.matches(t)}}var L2=Array.prototype.find;function R2(t){return function(){return L2.call(this.children,t)}}function F2(){return this.firstElementChild}function I2(t){return this.select(t==null?F2:R2(typeof t=="function"?t:Th(t)))}var P2=Array.prototype.filter;function U2(){return Array.from(this.children)}function O2(t){return function(){return P2.call(this.children,t)}}function B2(t){return this.selectAll(t==null?U2:O2(typeof t=="function"?t:Th(t)))}function z2(t){typeof t!="function"&&(t=Sh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new Xt(r,this._parents)}function kh(t){return new Array(t.length)}function q2(){return new Xt(this._enter||this._groups.map(kh),this._parents)}function _o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}_o.prototype={constructor:_o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Y2(t){return function(){return t}}function W2(t,e,n,r,i,o){for(var a=0,f,c=e.length,s=o.length;a<s;++a)(f=e[a])?(f.__data__=o[a],r[a]=f):n[a]=new _o(t,o[a]);for(;a<c;++a)(f=e[a])&&(i[a]=f)}function H2(t,e,n,r,i,o,a){var f,c,s=new Map,u=e.length,h=o.length,l=new Array(u),d;for(f=0;f<u;++f)(c=e[f])&&(l[f]=d=a.call(c,c.__data__,f,e)+"",s.has(d)?i[f]=c:s.set(d,c));for(f=0;f<h;++f)d=a.call(t,o[f],f,o)+"",(c=s.get(d))?(r[f]=c,c.__data__=o[f],s.delete(d)):n[f]=new _o(t,o[f]);for(f=0;f<u;++f)(c=e[f])&&s.get(l[f])===c&&(i[f]=c)}function G2(t){return t.__data__}function V2(t,e){if(!arguments.length)return Array.from(this,G2);var n=e?H2:W2,r=this._parents,i=this._groups;typeof t!="function"&&(t=Y2(t));for(var o=i.length,a=new Array(o),f=new Array(o),c=new Array(o),s=0;s<o;++s){var u=r[s],h=i[s],l=h.length,d=X2(t.call(u,u&&u.__data__,s,r)),p=d.length,g=f[s]=new Array(p),m=a[s]=new Array(p),b=c[s]=new Array(l);n(u,h,g,m,b,d,e);for(var y=0,v=0,_,w;y<p;++y)if(_=g[y]){for(y>=v&&(v=y+1);!(w=m[v])&&++v<p;);_._next=w||null}}return a=new Xt(a,r),a._enter=f,a._exit=c,a}function X2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j2(){return new Xt(this._exit||this._groups.map(kh),this._parents)}function Z2(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function K2(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),f=new Array(i),c=0;c<a;++c)for(var s=n[c],u=r[c],h=s.length,l=f[c]=new Array(h),d,p=0;p<h;++p)(d=s[p]||u[p])&&(l[p]=d);for(;c<i;++c)f[c]=n[c];return new Xt(f,this._parents)}function Q2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function J2(t){t||(t=ty);function e(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],f=a.length,c=i[o]=new Array(f),s,u=0;u<f;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new Xt(i,this._parents).order()}function ty(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ey(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ny(){return Array.from(this)}function ry(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function iy(){let t=0;for(const e of this)++t;return t}function oy(){return!this.node()}function ay(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function fy(t){return function(){this.removeAttribute(t)}}function cy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sy(t,e){return function(){this.setAttribute(t,e)}}function uy(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ly(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function hy(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function dy(t,e){var n=oa(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?cy:fy:typeof e=="function"?n.local?hy:ly:n.local?uy:sy)(n,e))}function Eh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function py(t){return function(){this.style.removeProperty(t)}}function gy(t,e,n){return function(){this.style.setProperty(t,e,n)}}function my(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function yy(t,e,n){return arguments.length>1?this.each((e==null?py:typeof e=="function"?my:gy)(t,e,n??"")):hr(this.node(),t)}function hr(t,e){return t.style.getPropertyValue(e)||Eh(t).getComputedStyle(t,null).getPropertyValue(e)}function by(t){return function(){delete this[t]}}function _y(t,e){return function(){this[t]=e}}function wy(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function vy(t,e){return arguments.length>1?this.each((e==null?by:typeof e=="function"?wy:_y)(t,e)):this.node()[t]}function Ah(t){return t.trim().split(/^|\s+/)}function Dc(t){return t.classList||new Ch(t)}function Ch(t){this._node=t,this._names=Ah(t.getAttribute("class")||"")}Ch.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Nh(t,e){for(var n=Dc(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Dh(t,e){for(var n=Dc(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function xy(t){return function(){Nh(this,t)}}function My(t){return function(){Dh(this,t)}}function $y(t,e){return function(){(e.apply(this,arguments)?Nh:Dh)(this,t)}}function Sy(t,e){var n=Ah(t+"");if(arguments.length<2){for(var r=Dc(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?$y:e?xy:My)(n,e))}function Ty(){this.textContent=""}function ky(t){return function(){this.textContent=t}}function Ey(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ay(t){return arguments.length?this.each(t==null?Ty:(typeof t=="function"?Ey:ky)(t)):this.node().textContent}function Cy(){this.innerHTML=""}function Ny(t){return function(){this.innerHTML=t}}function Dy(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ly(t){return arguments.length?this.each(t==null?Cy:(typeof t=="function"?Dy:Ny)(t)):this.node().innerHTML}function Ry(){this.nextSibling&&this.parentNode.appendChild(this)}function Fy(){return this.each(Ry)}function Iy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Py(){return this.each(Iy)}function Uy(t){var e=typeof t=="function"?t:aa(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Oy(){return null}function By(t,e){var n=typeof t=="function"?t:aa(t),r=e==null?Oy:typeof e=="function"?e:Nc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zy(){var t=this.parentNode;t&&t.removeChild(this)}function qy(){return this.each(zy)}function Yy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wy(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hy(t){return this.select(t?Wy:Yy)}function Gy(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Vy(t){return function(e){t.call(this,e,this.__data__)}}function Xy(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function jy(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Zy(t,e,n){return function(){var r=this.__on,i,o=Vy(e);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ky(t,e,n){var r=Xy(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,s=f.length,u;c<s;++c)for(i=0,u=f[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(f=e?Zy:jy,i=0;i<o;++i)this.each(f(r[i],e,n));return this}function Lh(t,e,n){var r=Eh(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Qy(t,e){return function(){return Lh(this,t,e)}}function Jy(t,e){return function(){return Lh(this,t,e.apply(this,arguments))}}function tb(t,e){return this.each((typeof e=="function"?Jy:Qy)(t,e))}function*eb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Rh=[null];function Xt(t,e){this._groups=t,this._parents=e}function wi(){return new Xt([[document.documentElement]],Rh)}function nb(){return this}Xt.prototype=wi.prototype={constructor:Xt,select:E2,selectAll:D2,selectChild:I2,selectChildren:B2,filter:z2,data:V2,enter:q2,exit:j2,join:Z2,merge:K2,selection:nb,order:Q2,sort:J2,call:ey,nodes:ny,node:ry,size:iy,empty:oy,each:ay,attr:dy,style:yy,property:vy,classed:Sy,text:Ay,html:Ly,raise:Fy,lower:Py,append:Uy,insert:By,remove:qy,clone:Hy,datum:Gy,on:Ky,dispatch:tb,[Symbol.iterator]:eb};function Zr(t){return typeof t=="string"?new Xt([[document.querySelector(t)]],[document.documentElement]):new Xt([[t]],Rh)}function rb(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ib(t,e){if(t=rb(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function $r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function un(){}var Cn=.7,dr=1/Cn,ar="\\s*([+-]?\\d+)\\s*",oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ob=/^#([0-9a-f]{3,8})$/,ab=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),fb=new RegExp(`^rgb\\(${Me},${Me},${Me}\\)$`),cb=new RegExp(`^rgba\\(${ar},${ar},${ar},${oi}\\)$`),sb=new RegExp(`^rgba\\(${Me},${Me},${Me},${oi}\\)$`),ub=new RegExp(`^hsl\\(${oi},${Me},${Me}\\)$`),lb=new RegExp(`^hsla\\(${oi},${Me},${Me},${oi}\\)$`),Vs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$r(un,Nn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xs,formatHex:Xs,formatHex8:hb,formatHsl:db,formatRgb:js,toString:js});function Xs(){return this.rgb().formatHex()}function hb(){return this.rgb().formatHex8()}function db(){return Fh(this).formatHsl()}function js(){return this.rgb().formatRgb()}function Nn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ob.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zs(e):n===3?new Et(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ab.exec(t))?new Et(e[1],e[2],e[3],1):(e=fb.exec(t))?new Et(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cb.exec(t))?Yi(e[1],e[2],e[3],e[4]):(e=sb.exec(t))?Yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ub.exec(t))?Js(e[1],e[2]/100,e[3]/100,1):(e=lb.exec(t))?Js(e[1],e[2]/100,e[3]/100,e[4]):Vs.hasOwnProperty(t)?Zs(Vs[t]):t==="transparent"?new Et(NaN,NaN,NaN,0):null}function Zs(t){return new Et(t>>16&255,t>>8&255,t&255,1)}function Yi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Et(t,e,n,r)}function Lc(t){return t instanceof un||(t=Nn(t)),t?(t=t.rgb(),new Et(t.r,t.g,t.b,t.opacity)):new Et}function an(t,e,n,r){return arguments.length===1?Lc(t):new Et(t,e,n,r??1)}function Et(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$r(Et,an,vi(un,{brighter(t){return t=t==null?dr:Math.pow(dr,t),new Et(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new Et(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Et(Sn(this.r),Sn(this.g),Sn(this.b),wo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ks,formatHex:Ks,formatHex8:pb,formatRgb:Qs,toString:Qs}));function Ks(){return`#${vn(this.r)}${vn(this.g)}${vn(this.b)}`}function pb(){return`#${vn(this.r)}${vn(this.g)}${vn(this.b)}${vn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qs(){const t=wo(this.opacity);return`${t===1?"rgb(":"rgba("}${Sn(this.r)}, ${Sn(this.g)}, ${Sn(this.b)}${t===1?")":`, ${t})`}`}function wo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vn(t){return t=Sn(t),(t<16?"0":"")+t.toString(16)}function Js(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fe(t,e,n,r)}function Fh(t){if(t instanceof fe)return new fe(t.h,t.s,t.l,t.opacity);if(t instanceof un||(t=Nn(t)),!t)return new fe;if(t instanceof fe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,f=o-i,c=(o+i)/2;return f?(e===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-e)/f+2:a=(e-n)/f+4,f/=c<.5?o+i:2-o-i,a*=60):f=c>0&&c<1?0:a,new fe(a,f,c,t.opacity)}function Uf(t,e,n,r){return arguments.length===1?Fh(t):new fe(t,e,n,r??1)}function fe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$r(fe,Uf,vi(un,{brighter(t){return t=t==null?dr:Math.pow(dr,t),new fe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new fe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Et(Va(t>=240?t-240:t+120,i,r),Va(t,i,r),Va(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fe(tu(this.h),Wi(this.s),Wi(this.l),wo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wo(this.opacity);return`${t===1?"hsl(":"hsla("}${tu(this.h)}, ${Wi(this.s)*100}%, ${Wi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tu(t){return t=(t||0)%360,t<0?t+360:t}function Wi(t){return Math.max(0,Math.min(1,t||0))}function Va(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ih=Math.PI/180,Ph=180/Math.PI,vo=18,Uh=.96422,Oh=1,Bh=.82521,zh=4/29,fr=6/29,qh=3*fr*fr,gb=fr*fr*fr;function Yh(t){if(t instanceof $e)return new $e(t.l,t.a,t.b,t.opacity);if(t instanceof Ie)return Wh(t);t instanceof Et||(t=Lc(t));var e=Ka(t.r),n=Ka(t.g),r=Ka(t.b),i=Xa((.2225045*e+.7168786*n+.0606169*r)/Oh),o,a;return e===n&&n===r?o=a=i:(o=Xa((.4360747*e+.3850649*n+.1430804*r)/Uh),a=Xa((.0139322*e+.0971045*n+.7141733*r)/Bh)),new $e(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Of(t,e,n,r){return arguments.length===1?Yh(t):new $e(t,e,n,r??1)}function $e(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}$r($e,Of,vi(un,{brighter(t){return new $e(this.l+vo*(t??1),this.a,this.b,this.opacity)},darker(t){return new $e(this.l-vo*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Uh*ja(e),t=Oh*ja(t),n=Bh*ja(n),new Et(Za(3.1338561*e-1.6168667*t-.4906146*n),Za(-.9787684*e+1.9161415*t+.033454*n),Za(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Xa(t){return t>gb?Math.pow(t,1/3):t/qh+zh}function ja(t){return t>fr?t*t*t:qh*(t-zh)}function Za(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ka(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function mb(t){if(t instanceof Ie)return new Ie(t.h,t.c,t.l,t.opacity);if(t instanceof $e||(t=Yh(t)),t.a===0&&t.b===0)return new Ie(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ph;return new Ie(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Bf(t,e,n,r){return arguments.length===1?mb(t):new Ie(t,e,n,r??1)}function Ie(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Wh(t){if(isNaN(t.h))return new $e(t.l,0,0,t.opacity);var e=t.h*Ih;return new $e(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}$r(Ie,Bf,vi(un,{brighter(t){return new Ie(this.h,this.c,this.l+vo*(t??1),this.opacity)},darker(t){return new Ie(this.h,this.c,this.l-vo*(t??1),this.opacity)},rgb(){return Wh(this).rgb()}}));var Hh=-.14861,Rc=1.78277,Fc=-.29227,fa=-.90649,ai=1.97294,eu=ai*fa,nu=ai*Rc,ru=Rc*Fc-fa*Hh;function yb(t){if(t instanceof Tn)return new Tn(t.h,t.s,t.l,t.opacity);t instanceof Et||(t=Lc(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ru*r+eu*e-nu*n)/(ru+eu-nu),o=r-i,a=(ai*(n-i)-Fc*o)/fa,f=Math.sqrt(a*a+o*o)/(ai*i*(1-i)),c=f?Math.atan2(a,o)*Ph-120:NaN;return new Tn(c<0?c+360:c,f,i,t.opacity)}function Se(t,e,n,r){return arguments.length===1?yb(t):new Tn(t,e,n,r??1)}function Tn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$r(Tn,Se,vi(un,{brighter(t){return t=t==null?dr:Math.pow(dr,t),new Tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new Tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Ih,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Et(255*(e+n*(Hh*r+Rc*i)),255*(e+n*(Fc*r+fa*i)),255*(e+n*(ai*r)),this.opacity)}}));function bb(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function _b(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<e-1?t[r+2]:2*o-i;return bb((n-r/e)*e,a,i,o,f)}}const ca=t=>()=>t;function Gh(t,e){return function(n){return t+n*e}}function wb(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ic(t,e){var n=e-t;return n?Gh(t,n>180||n<-180?n-360*Math.round(n/360):n):ca(isNaN(t)?e:t)}function vb(t){return(t=+t)==1?Rt:function(e,n){return n-e?wb(e,n,t):ca(isNaN(e)?n:e)}}function Rt(t,e){var n=e-t;return n?Gh(t,n):ca(isNaN(t)?e:t)}const Dn=function t(e){var n=vb(e);function r(i,o){var a=n((i=an(i)).r,(o=an(o)).r),f=n(i.g,o.g),c=n(i.b,o.b),s=Rt(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r}(1);function xb(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,f;for(a=0;a<n;++a)f=an(e[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var Mb=xb(_b);function $b(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Sb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tb(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=xi(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function kb(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Lt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Eb(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=xi(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var zf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qa=new RegExp(zf.source,"g");function Ab(t){return function(){return t}}function Cb(t){return function(e){return t(e)+""}}function Vh(t,e){var n=zf.lastIndex=Qa.lastIndex=0,r,i,o,a=-1,f=[],c=[];for(t=t+"",e=e+"";(r=zf.exec(t))&&(i=Qa.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,c.push({i:a,x:Lt(r,i)})),n=Qa.lastIndex;return n<e.length&&(o=e.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?c[0]?Cb(c[0].x):Ab(e):(e=c.length,function(s){for(var u=0,h;u<e;++u)f[(h=c[u]).i]=h.x(s);return f.join("")})}function xi(t,e){var n=typeof e,r;return e==null||n==="boolean"?ca(e):(n==="number"?Lt:n==="string"?(r=Nn(e))?(e=r,Dn):Vh:e instanceof Nn?Dn:e instanceof Date?kb:Sb(e)?$b:Array.isArray(e)?Tb:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Eb:Lt)(t,e)}function Pc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var iu=180/Math.PI,qf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xh(t,e,n,r,i,o){var a,f,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,c/=f),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*iu,skewX:Math.atan(c)*iu,scaleX:a,scaleY:f}}var Hi;function Nb(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qf:Xh(e.a,e.b,e.c,e.d,e.e,e.f)}function Db(t){return t==null||(Hi||(Hi=document.createElementNS("http://www.w3.org/2000/svg","g")),Hi.setAttribute("transform",t),!(t=Hi.transform.baseVal.consolidate()))?qf:(t=t.matrix,Xh(t.a,t.b,t.c,t.d,t.e,t.f))}function jh(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function o(s,u,h,l,d,p){if(s!==h||u!==l){var g=d.push("translate(",null,e,null,n);p.push({i:g-4,x:Lt(s,h)},{i:g-2,x:Lt(u,l)})}else(h||l)&&d.push("translate("+h+e+l+n)}function a(s,u,h,l){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Lt(s,u)})):u&&h.push(i(h)+"rotate("+u+r)}function f(s,u,h,l){s!==u?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Lt(s,u)}):u&&h.push(i(h)+"skewX("+u+r)}function c(s,u,h,l,d,p){if(s!==h||u!==l){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:Lt(s,h)},{i:g-2,x:Lt(u,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(s,u){var h=[],l=[];return s=t(s),u=t(u),o(s.translateX,s.translateY,u.translateX,u.translateY,h,l),a(s.rotate,u.rotate,h,l),f(s.skewX,u.skewX,h,l),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,h,l),s=u=null,function(d){for(var p=-1,g=l.length,m;++p<g;)h[(m=l[p]).i]=m.x(d);return h.join("")}}}var Lb=jh(Nb,"px, ","px)","deg)"),Rb=jh(Db,", ",")",")");function Fb(t){return function(e,n){var r=t((e=Uf(e)).h,(n=Uf(n)).h),i=Rt(e.s,n.s),o=Rt(e.l,n.l),a=Rt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=o(f),e.opacity=a(f),e+""}}}const Ib=Fb(Ic);function Pb(t,e){var n=Rt((t=Of(t)).l,(e=Of(e)).l),r=Rt(t.a,e.a),i=Rt(t.b,e.b),o=Rt(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function Ub(t){return function(e,n){var r=t((e=Bf(e)).h,(n=Bf(n)).h),i=Rt(e.c,n.c),o=Rt(e.l,n.l),a=Rt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=o(f),e.opacity=a(f),e+""}}}const Ob=Ub(Ic);function Zh(t){return function e(n){n=+n;function r(i,o){var a=t((i=Se(i)).h,(o=Se(o)).h),f=Rt(i.s,o.s),c=Rt(i.l,o.l),s=Rt(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=f(u),i.l=c(Math.pow(u,n)),i.opacity=s(u),i+""}}return r.gamma=e,r}(1)}Zh(Ic);var Uc=Zh(Rt);function sa(t,e){e===void 0&&(e=t,t=xi);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function le(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var pr=0,Br=0,Rr=0,Kh=1e3,xo,zr,Mo=0,Ln=0,ua=0,fi=typeof performance=="object"&&performance.now?performance:Date,Qh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Oc(){return Ln||(Qh(Bb),Ln=fi.now()+ua)}function Bb(){Ln=0}function $o(){this._call=this._time=this._next=null}$o.prototype=Jh.prototype={constructor:$o,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Oc():+n)+(e==null?0:+e),!this._next&&zr!==this&&(zr?zr._next=this:xo=this,zr=this),this._call=t,this._time=n,Yf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yf())}};function Jh(t,e,n){var r=new $o;return r.restart(t,e,n),r}function zb(){Oc(),++pr;for(var t=xo,e;t;)(e=Ln-t._time)>=0&&t._call.call(void 0,e),t=t._next;--pr}function ou(){Ln=(Mo=fi.now())+ua,pr=Br=0;try{zb()}finally{pr=0,Yb(),Ln=0}}function qb(){var t=fi.now(),e=t-Mo;e>Kh&&(ua-=e,Mo=t)}function Yb(){for(var t,e=xo,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:xo=n);zr=t,Yf(r)}function Yf(t){if(!pr){Br&&(Br=clearTimeout(Br));var e=t-Ln;e>24?(t<1/0&&(Br=setTimeout(ou,t-fi.now()-ua)),Rr&&(Rr=clearInterval(Rr))):(Rr||(Mo=fi.now(),Rr=setInterval(qb,Kh)),pr=1,Qh(ou))}}function au(t,e,n){var r=new $o;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Wb=Mh("start","end","cancel","interrupt"),Hb=[],td=0,fu=1,Wf=2,so=3,cu=4,Hf=5,uo=6;function la(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Gb(t,n,{name:e,index:r,group:i,on:Wb,tween:Hb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:td})}function Bc(t,e){var n=ge(t,e);if(n.state>td)throw new Error("too late; already scheduled");return n}function Te(t,e){var n=ge(t,e);if(n.state>so)throw new Error("too late; already running");return n}function ge(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Gb(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Jh(o,0,n.time);function o(s){n.state=fu,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var u,h,l,d;if(n.state!==fu)return c();for(u in r)if(d=r[u],d.name===n.name){if(d.state===so)return au(a);d.state===cu?(d.state=uo,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<e&&(d.state=uo,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(au(function(){n.state===so&&(n.state=cu,n.timer.restart(f,n.delay,n.time),f(s))}),n.state=Wf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wf){for(n.state=so,i=new Array(l=n.tween.length),u=0,h=-1;u<l;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function f(s){for(var u=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(c),n.state=Hf,1),h=-1,l=i.length;++h<l;)i[h].call(t,u);n.state===Hf&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=uo,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function Vb(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Wf&&r.state<Hf,r.state=uo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Xb(t){return this.each(function(){Vb(this,t)})}function jb(t,e){var n,r;return function(){var i=Te(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Zb(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Te(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=f;break}c===s&&i.push(f)}o.tween=i}}function Kb(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ge(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?jb:Zb)(n,t,e))}function zc(t,e,n){var r=t._id;return t.each(function(){var i=Te(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ge(i,r).value[e]}}function ed(t,e){var n;return(typeof e=="number"?Lt:e instanceof Nn?Dn:(n=Nn(e))?(e=n,Dn):Vh)(t,e)}function Qb(t){return function(){this.removeAttribute(t)}}function Jb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function t_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function e_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function n_(t,e,n){var r,i,o;return function(){var a,f=n(this),c;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,f)))}}function r_(t,e,n){var r,i,o;return function(){var a,f=n(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,f)))}}function i_(t,e){var n=oa(t),r=n==="transform"?Rb:ed;return this.attrTween(t,typeof e=="function"?(n.local?r_:n_)(n,r,zc(this,"attr."+t,e)):e==null?(n.local?Jb:Qb)(n):(n.local?e_:t_)(n,r,e))}function o_(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function a_(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function f_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&a_(t,o)),n}return i._value=e,i}function c_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&o_(t,o)),n}return i._value=e,i}function s_(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=oa(t);return this.tween(n,(r.local?f_:c_)(r,e))}function u_(t,e){return function(){Bc(this,t).delay=+e.apply(this,arguments)}}function l_(t,e){return e=+e,function(){Bc(this,t).delay=e}}function h_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?u_:l_)(e,t)):ge(this.node(),e).delay}function d_(t,e){return function(){Te(this,t).duration=+e.apply(this,arguments)}}function p_(t,e){return e=+e,function(){Te(this,t).duration=e}}function g_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?d_:p_)(e,t)):ge(this.node(),e).duration}function m_(t,e){if(typeof e!="function")throw new Error;return function(){Te(this,t).ease=e}}function y_(t){var e=this._id;return arguments.length?this.each(m_(e,t)):ge(this.node(),e).ease}function b_(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Te(this,t).ease=n}}function __(t){if(typeof t!="function")throw new Error;return this.each(b_(this._id,t))}function w_(t){typeof t!="function"&&(t=Sh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new Be(r,this._parents,this._name,this._id)}function v_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var c=e[f],s=n[f],u=c.length,h=a[f]=new Array(u),l,d=0;d<u;++d)(l=c[d]||s[d])&&(h[d]=l);for(;f<r;++f)a[f]=e[f];return new Be(a,this._parents,this._name,this._id)}function x_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function M_(t,e,n){var r,i,o=x_(e)?Bc:Te;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(e,n),a.on=i}}function $_(t,e){var n=this._id;return arguments.length<2?ge(this.node(),n).on.on(t):this.each(M_(n,t,e))}function S_(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function T_(){return this.on("end.remove",S_(this._id))}function k_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Nc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],c=f.length,s=o[a]=new Array(c),u,h,l=0;l<c;++l)(u=f[l])&&(h=t.call(u,u.__data__,l,f))&&("__data__"in u&&(h.__data__=u.__data__),s[l]=h,la(s[l],e,n,l,s,ge(u,n)));return new Be(o,this._parents,e,n)}function E_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$h(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,h=0;h<s;++h)if(u=c[h]){for(var l=t.call(u,u.__data__,h,c),d,p=ge(u,n),g=0,m=l.length;g<m;++g)(d=l[g])&&la(d,e,n,g,l,p);o.push(l),a.push(u)}return new Be(o,a,e,n)}var A_=wi.prototype.constructor;function C_(){return new A_(this._groups,this._parents)}function N_(t,e){var n,r,i;return function(){var o=hr(this,t),a=(this.style.removeProperty(t),hr(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function nd(t){return function(){this.style.removeProperty(t)}}function D_(t,e,n){var r,i=n+"",o;return function(){var a=hr(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function L_(t,e,n){var r,i,o;return function(){var a=hr(this,t),f=n(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),hr(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,f))}}function R_(t,e){var n,r,i,o="style."+e,a="end."+o,f;return function(){var c=Te(this,t),s=c.on,u=c.value[o]==null?f||(f=nd(e)):void 0;(s!==n||i!==u)&&(r=(n=s).copy()).on(a,i=u),c.on=r}}function F_(t,e,n){var r=(t+="")=="transform"?Lb:ed;return e==null?this.styleTween(t,N_(t,r)).on("end.style."+t,nd(t)):typeof e=="function"?this.styleTween(t,L_(t,r,zc(this,"style."+t,e))).each(R_(this._id,t)):this.styleTween(t,D_(t,r,e),n).on("end.style."+t,null)}function I_(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function P_(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&I_(t,a,n)),r}return o._value=e,o}function U_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,P_(t,e,n??""))}function O_(t){return function(){this.textContent=t}}function B_(t){return function(){var e=t(this);this.textContent=e??""}}function z_(t){return this.tween("text",typeof t=="function"?B_(zc(this,"text",t)):O_(t==null?"":t+""))}function q_(t){return function(e){this.textContent=t.call(this,e)}}function Y_(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&q_(i)),e}return r._value=t,r}function W_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Y_(t))}function H_(){for(var t=this._name,e=this._id,n=rd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)if(c=a[s]){var u=ge(c,e);la(c,t,n,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Be(r,this._parents,t,n)}function G_(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var f={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var s=Te(this,r),u=s.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(c)),s.on=e}),i===0&&o()})}var V_=0;function Be(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function rd(){return++V_}var Ae=wi.prototype;Be.prototype={constructor:Be,select:k_,selectAll:E_,selectChild:Ae.selectChild,selectChildren:Ae.selectChildren,filter:w_,merge:v_,selection:C_,transition:H_,call:Ae.call,nodes:Ae.nodes,node:Ae.node,size:Ae.size,empty:Ae.empty,each:Ae.each,on:$_,attr:i_,attrTween:s_,style:F_,styleTween:U_,text:z_,textTween:W_,remove:T_,tween:Kb,delay:h_,duration:g_,ease:y_,easeVarying:__,end:G_,[Symbol.iterator]:Ae[Symbol.iterator]};function X_(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var j_={time:null,delay:0,duration:250,ease:X_};function Z_(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function K_(t){var e,n;t instanceof Be?(e=t._id,t=t._name):(e=rd(),(n=j_).time=Oc(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&la(c,t,e,s,a,n||Z_(c,e));return new Be(r,this._parents,t,e)}wi.prototype.interrupt=Xb;wi.prototype.transition=K_;const Gf=Math.PI,Vf=2*Gf,bn=1e-6,Q_=Vf-bn;function id(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function J_(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return id;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class od{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?id:J_(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,c=r-e,s=i-n,u=a-e,h=f-n,l=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>bn)if(!(Math.abs(h*c-s*u)>bn)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,p=i-f,g=c*c+s*s,m=d*d+p*p,b=Math.sqrt(g),y=Math.sqrt(l),v=o*Math.tan((Gf-Math.acos((g+l-m)/(2*b*y)))/2),_=v/y,w=v/b;Math.abs(_-1)>bn&&this._append`L${e+_*u},${n+_*h}`,this._append`A${o},${o},0,0,${+(h*d>u*p)},${this._x1=e+w*c},${this._y1=n+w*s}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),s=e+f,u=n+c,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>bn||Math.abs(this._y1-u)>bn)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%Vf+Vf),l>Q_?this._append`A${r},${r},0,1,${h},${e-f},${n-c}A${r},${r},0,1,${h},${this._x1=s},${this._y1=u}`:l>bn&&this._append`A${r},${r},0,${+(l>=Gf)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Xf(t=3){return new od(+t)}function tw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function So(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gr(t){return t=So(Math.abs(t)),t?t[1]:NaN}function ew(t,e){return function(n,r){for(var i=n.length,o=[],a=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(e)}}function nw(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var rw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ci(t){if(!(e=rw.exec(t)))throw new Error("invalid format: "+t);var e;return new qc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ci.prototype=qc.prototype;function qc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iw(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ad;function ow(t,e){var n=So(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ad=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+So(t,Math.max(0,e+o-1))[0]}function su(t,e){var n=So(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uu={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tw,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>su(t*100,e),r:su,s:ow,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lu(t){return t}var hu=Array.prototype.map,du=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aw(t){var e=t.grouping===void 0||t.thousands===void 0?lu:ew(hu.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?lu:nw(hu.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(h){h=ci(h);var l=h.fill,d=h.align,p=h.sign,g=h.symbol,m=h.zero,b=h.width,y=h.comma,v=h.precision,_=h.trim,w=h.type;w==="n"?(y=!0,w="g"):uu[w]||(v===void 0&&(v=12),_=!0,w="g"),(m||l==="0"&&d==="=")&&(m=!0,l="0",d="=");var x=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",$=g==="$"?r:/[%p]/.test(w)?a:"",E=uu[w],k=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function A(M){var L=x,F=$,P,S,U;if(w==="c")F=E(M)+F,M="";else{M=+M;var R=M<0||1/M<0;if(M=isNaN(M)?c:E(Math.abs(M),v),_&&(M=iw(M)),R&&+M==0&&p!=="+"&&(R=!1),L=(R?p==="("?p:f:p==="-"||p==="("?"":p)+L,F=(w==="s"?du[8+ad/3]:"")+F+(R&&p==="("?")":""),k){for(P=-1,S=M.length;++P<S;)if(U=M.charCodeAt(P),48>U||U>57){F=(U===46?i+M.slice(P+1):M.slice(P))+F,M=M.slice(0,P);break}}}y&&!m&&(M=e(M,1/0));var Y=L.length+M.length+F.length,I=Y<b?new Array(b-Y+1).join(l):"";switch(y&&m&&(M=e(I+M,I.length?b-F.length:1/0),I=""),d){case"<":M=L+M+F+I;break;case"=":M=L+I+M+F;break;case"^":M=I.slice(0,Y=I.length>>1)+L+M+F+I.slice(Y);break;default:M=I+L+M+F;break}return o(M)}return A.toString=function(){return h+""},A}function u(h,l){var d=s((h=ci(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(gr(l)/3)))*3,g=Math.pow(10,-p),m=du[8+p/3];return function(b){return d(g*b)+m}}return{format:s,formatPrefix:u}}var Gi,Sr,fd;fw({thousands:",",grouping:[3],currency:["$",""]});function fw(t){return Gi=aw(t),Sr=Gi.format,fd=Gi.formatPrefix,Gi}function cw(t){return Math.max(0,-gr(Math.abs(t)))}function sw(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gr(e)/3)))*3-gr(Math.abs(t)))}function uw(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gr(e)-gr(t))+1}var tt=1e-6,cd=1e-12,rt=Math.PI,wt=rt/2,pu=rt/4,jt=rt*2,Pt=180/rt,yt=rt/180,ct=Math.abs,Tr=Math.atan,ze=Math.atan2,nt=Math.cos,sd=Math.exp,To=Math.log,Ja=Math.pow,Q=Math.sin,te=Math.sign||function(t){return t>0?1:t<0?-1:0},Wt=Math.sqrt,Yc=Math.tan;function ud(t){return t>1?0:t<-1?rt:Math.acos(t)}function ie(t){return t>1?wt:t<-1?-wt:Math.asin(t)}function ee(){}function ko(t,e){t&&mu.hasOwnProperty(t.type)&&mu[t.type](t,e)}var gu={Feature:function(t,e){ko(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ko(n[r].geometry,e)}},mu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){jf(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)jf(n[r],e,0)},Polygon:function(t,e){yu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)yu(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ko(n[r],e)}};function jf(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function yu(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)jf(t[n],e,1);e.polygonEnd()}function _n(t,e){t&&gu.hasOwnProperty(t.type)?gu[t.type](t,e):ko(t,e)}function Zf(t){return[ze(t[1],t[0]),ie(t[2])]}function mr(t){var e=t[0],n=t[1],r=nt(n);return[r*nt(e),r*Q(e),Q(n)]}function Vi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Eo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function tf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Xi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Kf(t){var e=Wt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Qf(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Jf(t,e){return ct(t)>rt&&(t-=Math.round(t/jt)*jt),[t,e]}Jf.invert=Jf;function ld(t,e,n){return(t%=jt)?e||n?Qf(_u(t),wu(e,n)):_u(t):e||n?wu(e,n):Jf}function bu(t){return function(e,n){return e+=t,ct(e)>rt&&(e-=Math.round(e/jt)*jt),[e,n]}}function _u(t){var e=bu(t);return e.invert=bu(-t),e}function wu(t,e){var n=nt(t),r=Q(t),i=nt(e),o=Q(e);function a(f,c){var s=nt(c),u=nt(f)*s,h=Q(f)*s,l=Q(c),d=l*n+u*r;return[ze(h*i-d*o,u*n-l*r),ie(d*i+h*o)]}return a.invert=function(f,c){var s=nt(c),u=nt(f)*s,h=Q(f)*s,l=Q(c),d=l*i-h*o;return[ze(h*i+l*o,u*n+d*r),ie(d*n-u*r)]},a}function lw(t){t=ld(t[0]*yt,t[1]*yt,t.length>2?t[2]*yt:0);function e(n){return n=t(n[0]*yt,n[1]*yt),n[0]*=Pt,n[1]*=Pt,n}return e.invert=function(n){return n=t.invert(n[0]*yt,n[1]*yt),n[0]*=Pt,n[1]*=Pt,n},e}function hw(t,e,n,r,i,o){if(n){var a=nt(e),f=Q(e),c=r*n;i==null?(i=e+r*jt,o=e-c/2):(i=vu(a,i),o=vu(a,o),(r>0?i<o:i>o)&&(i+=r*jt));for(var s,u=i;r>0?u>o:u<o;u-=c)s=Zf([a,-f*nt(u),-f*Q(u)]),t.point(s[0],s[1])}}function vu(t,e){e=mr(e),e[0]-=t,Kf(e);var n=ud(-e[1]);return((-e[2]<0?-n:n)+jt-tt)%jt}function hd(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:ee,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function lo(t,e){return ct(t[0]-e[0])<tt&&ct(t[1]-e[1])<tt}function ji(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function dd(t,e,n,r,i){var o=[],a=[],f,c;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],b=p[g],y;if(lo(m,b)){if(!m[2]&&!b[2]){for(i.lineStart(),f=0;f<g;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}b[0]+=2*tt}o.push(y=new ji(m,p,null,!0)),a.push(y.o=new ji(m,null,y,!1)),o.push(y=new ji(b,p,null,!1)),a.push(y.o=new ji(b,null,y,!0))}}),!!o.length){for(a.sort(e),xu(o),xu(a),f=0,c=a.length;f<c;++f)a[f].e=n=!n;for(var s=o[0],u,h;;){for(var l=s,d=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(f=0,c=u.length;f<c;++f)i.point((h=u[f])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((h=u[f])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,d=!d}while(!l.v);i.lineEnd()}}}function xu(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ef(t){return ct(t[0])<=rt?t[0]:te(t[0])*((ct(t[0])+rt)%jt-rt)}function dw(t,e){var n=ef(e),r=e[1],i=Q(r),o=[Q(n),-nt(n),0],a=0,f=0,c=new En;i===1?r=wt+tt:i===-1&&(r=-wt-tt);for(var s=0,u=t.length;s<u;++s)if(l=(h=t[s]).length)for(var h,l,d=h[l-1],p=ef(d),g=d[1]/2+pu,m=Q(g),b=nt(g),y=0;y<l;++y,p=_,m=x,b=$,d=v){var v=h[y],_=ef(v),w=v[1]/2+pu,x=Q(w),$=nt(w),E=_-p,k=E>=0?1:-1,A=k*E,M=A>rt,L=m*x;if(c.add(ze(L*k*Q(A),b*$+L*nt(A))),a+=M?E+k*jt:E,M^p>=n^_>=n){var F=Eo(mr(d),mr(v));Kf(F);var P=Eo(o,F);Kf(P);var S=(M^E>=0?-1:1)*ie(P[2]);(r>S||r===S&&(F[0]||F[1]))&&(f+=M^E>=0?1:-1)}}return(a<-tt||a<tt&&c<-cd)^f&1}function pd(t,e,n,r){return function(i){var o=e(i),a=hd(),f=e(a),c=!1,s,u,h,l={point:d,lineStart:g,lineEnd:m,polygonStart:function(){l.point=b,l.lineStart=y,l.lineEnd=v,u=[],s=[]},polygonEnd:function(){l.point=d,l.lineStart=g,l.lineEnd=m,u=xh(u);var _=dw(s,r);u.length?(c||(i.polygonStart(),c=!0),dd(u,gw,_,n,i)):_&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(_,w){t(_,w)&&i.point(_,w)}function p(_,w){o.point(_,w)}function g(){l.point=p,o.lineStart()}function m(){l.point=d,o.lineEnd()}function b(_,w){h.push([_,w]),f.point(_,w)}function y(){f.lineStart(),h=[]}function v(){b(h[0][0],h[0][1]),f.lineEnd();var _=f.clean(),w=a.result(),x,$=w.length,E,k,A;if(h.pop(),s.push(h),h=null,!!$){if(_&1){if(k=w[0],(E=k.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<E;++x)i.point((A=k[x])[0],A[1]);i.lineEnd()}return}$>1&&_&2&&w.push(w.pop().concat(w.shift())),u.push(w.filter(pw))}}return l}}function pw(t){return t.length>1}function gw(t,e){return((t=t.x)[0]<0?t[1]-wt-tt:wt-t[1])-((e=e.x)[0]<0?e[1]-wt-tt:wt-e[1])}const Mu=pd(function(){return!0},mw,bw,[-rt,-wt]);function mw(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?rt:-rt,c=ct(o-e);ct(c-rt)<tt?(t.point(e,n=(n+a)/2>0?wt:-wt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(o,n),i=0):r!==f&&c>=rt&&(ct(e-r)<tt&&(e-=r*tt),ct(o-f)<tt&&(o-=f*tt),n=yw(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=o,n=a),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function yw(t,e,n,r){var i,o,a=Q(t-n);return ct(a)>tt?Tr((Q(e)*(o=nt(r))*Q(n)-Q(r)*(i=nt(e))*Q(t))/(i*o*a)):(e+r)/2}function bw(t,e,n,r){var i;if(t==null)i=n*wt,r.point(-rt,i),r.point(0,i),r.point(rt,i),r.point(rt,0),r.point(rt,-i),r.point(0,-i),r.point(-rt,-i),r.point(-rt,0),r.point(-rt,i);else if(ct(t[0]-e[0])>tt){var o=t[0]<e[0]?rt:-rt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function _w(t){var e=nt(t),n=6*yt,r=e>0,i=ct(e)>tt;function o(u,h,l,d){hw(d,t,n,l,u,h)}function a(u,h){return nt(u)*nt(h)>e}function f(u){var h,l,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(m,b){var y=[m,b],v,_=a(m,b),w=r?_?0:s(m,b):_?s(m+(m<0?rt:-rt),b):0;if(!h&&(p=d=_)&&u.lineStart(),_!==d&&(v=c(h,y),(!v||lo(h,v)||lo(y,v))&&(y[2]=1)),_!==d)g=0,_?(u.lineStart(),v=c(y,h),u.point(v[0],v[1])):(v=c(h,y),u.point(v[0],v[1],2),u.lineEnd()),h=v;else if(i&&h&&r^_){var x;!(w&l)&&(x=c(y,h,!0))&&(g=0,r?(u.lineStart(),u.point(x[0][0],x[0][1]),u.point(x[1][0],x[1][1]),u.lineEnd()):(u.point(x[1][0],x[1][1]),u.lineEnd(),u.lineStart(),u.point(x[0][0],x[0][1],3)))}_&&(!h||!lo(h,y))&&u.point(y[0],y[1]),h=y,d=_,l=w},lineEnd:function(){d&&u.lineEnd(),h=null},clean:function(){return g|(p&&d)<<1}}}function c(u,h,l){var d=mr(u),p=mr(h),g=[1,0,0],m=Eo(d,p),b=Vi(m,m),y=m[0],v=b-y*y;if(!v)return!l&&u;var _=e*b/v,w=-e*y/v,x=Eo(g,m),$=Xi(g,_),E=Xi(m,w);tf($,E);var k=x,A=Vi($,k),M=Vi(k,k),L=A*A-M*(Vi($,$)-1);if(!(L<0)){var F=Wt(L),P=Xi(k,(-A-F)/M);if(tf(P,$),P=Zf(P),!l)return P;var S=u[0],U=h[0],R=u[1],Y=h[1],I;U<S&&(I=S,S=U,U=I);var C=U-S,O=ct(C-rt)<tt,z=O||C<tt;if(!O&&Y<R&&(I=R,R=Y,Y=I),z?O?R+Y>0^P[1]<(ct(P[0]-S)<tt?R:Y):R<=P[1]&&P[1]<=Y:C>rt^(S<=P[0]&&P[0]<=U)){var W=Xi(k,(-A+F)/M);return tf(W,$),[P,Zf(W)]}}}function s(u,h){var l=r?t:rt-t,d=0;return u<-l?d|=1:u>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return pd(a,f,o,r?[0,-t]:[-rt,t-rt])}function ww(t,e,n,r,i,o){var a=t[0],f=t[1],c=e[0],s=e[1],u=0,h=1,l=c-a,d=s-f,p;if(p=n-a,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<h&&(h=p)}else if(l>0){if(p>h)return;p>u&&(u=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>h)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<h&&(h=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>u&&(u=p)}if(p=o-f,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<h&&(h=p)}return u>0&&(t[0]=a+u*l,t[1]=f+u*d),h<1&&(e[0]=a+h*l,e[1]=f+h*d),!0}}}}}var qr=1e9,Zi=-qr;function gd(t,e,n,r){function i(s,u){return t<=s&&s<=n&&e<=u&&u<=r}function o(s,u,h,l){var d=0,p=0;if(s==null||(d=a(s,h))!==(p=a(u,h))||c(s,u)<0^h>0)do l.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==p);else l.point(u[0],u[1])}function a(s,u){return ct(s[0]-t)<tt?u>0?0:3:ct(s[0]-n)<tt?u>0?2:1:ct(s[1]-e)<tt?u>0?1:0:u>0?3:2}function f(s,u){return c(s.x,u.x)}function c(s,u){var h=a(s,1),l=a(u,1);return h!==l?h-l:h===0?u[1]-s[1]:h===1?s[0]-u[0]:h===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,h=hd(),l,d,p,g,m,b,y,v,_,w,x,$={point:E,lineStart:L,lineEnd:F,polygonStart:A,polygonEnd:M};function E(S,U){i(S,U)&&u.point(S,U)}function k(){for(var S=0,U=0,R=d.length;U<R;++U)for(var Y=d[U],I=1,C=Y.length,O=Y[0],z,W,J=O[0],Z=O[1];I<C;++I)z=J,W=Z,O=Y[I],J=O[0],Z=O[1],W<=r?Z>r&&(J-z)*(r-W)>(Z-W)*(t-z)&&++S:Z<=r&&(J-z)*(r-W)<(Z-W)*(t-z)&&--S;return S}function A(){u=h,l=[],d=[],x=!0}function M(){var S=k(),U=x&&S,R=(l=xh(l)).length;(U||R)&&(s.polygonStart(),U&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),R&&dd(l,f,S,o,s),s.polygonEnd()),u=s,l=d=p=null}function L(){$.point=P,d&&d.push(p=[]),w=!0,_=!1,y=v=NaN}function F(){l&&(P(g,m),b&&_&&h.rejoin(),l.push(h.result())),$.point=E,_&&u.lineEnd()}function P(S,U){var R=i(S,U);if(d&&p.push([S,U]),w)g=S,m=U,b=R,w=!1,R&&(u.lineStart(),u.point(S,U));else if(R&&_)u.point(S,U);else{var Y=[y=Math.max(Zi,Math.min(qr,y)),v=Math.max(Zi,Math.min(qr,v))],I=[S=Math.max(Zi,Math.min(qr,S)),U=Math.max(Zi,Math.min(qr,U))];ww(Y,I,t,e,n,r)?(_||(u.lineStart(),u.point(Y[0],Y[1])),u.point(I[0],I[1]),R||u.lineEnd(),x=!1):R&&(u.lineStart(),u.point(S,U),x=!1)}y=S,v=U,_=R}return $}}const tc=t=>t;var nf=new En,ec=new En,md,yd,nc,rc,tn={point:ee,lineStart:ee,lineEnd:ee,polygonStart:function(){tn.lineStart=vw,tn.lineEnd=Mw},polygonEnd:function(){tn.lineStart=tn.lineEnd=tn.point=ee,nf.add(ct(ec)),ec=new En},result:function(){var t=nf/2;return nf=new En,t}};function vw(){tn.point=xw}function xw(t,e){tn.point=bd,md=nc=t,yd=rc=e}function bd(t,e){ec.add(rc*t-nc*e),nc=t,rc=e}function Mw(){bd(md,yd)}const $u=tn;var yr=1/0,Ao=yr,si=-yr,Co=si,$w={point:Sw,lineStart:ee,lineEnd:ee,polygonStart:ee,polygonEnd:ee,result:function(){var t=[[yr,Ao],[si,Co]];return si=Co=-(Ao=yr=1/0),t}};function Sw(t,e){t<yr&&(yr=t),t>si&&(si=t),e<Ao&&(Ao=e),e>Co&&(Co=e)}const No=$w;var ic=0,oc=0,Yr=0,Do=0,Lo=0,er=0,ac=0,fc=0,Wr=0,_d,wd,_e,we,ce={point:Rn,lineStart:Su,lineEnd:Tu,polygonStart:function(){ce.lineStart=Ew,ce.lineEnd=Aw},polygonEnd:function(){ce.point=Rn,ce.lineStart=Su,ce.lineEnd=Tu},result:function(){var t=Wr?[ac/Wr,fc/Wr]:er?[Do/er,Lo/er]:Yr?[ic/Yr,oc/Yr]:[NaN,NaN];return ic=oc=Yr=Do=Lo=er=ac=fc=Wr=0,t}};function Rn(t,e){ic+=t,oc+=e,++Yr}function Su(){ce.point=Tw}function Tw(t,e){ce.point=kw,Rn(_e=t,we=e)}function kw(t,e){var n=t-_e,r=e-we,i=Wt(n*n+r*r);Do+=i*(_e+t)/2,Lo+=i*(we+e)/2,er+=i,Rn(_e=t,we=e)}function Tu(){ce.point=Rn}function Ew(){ce.point=Cw}function Aw(){vd(_d,wd)}function Cw(t,e){ce.point=vd,Rn(_d=_e=t,wd=we=e)}function vd(t,e){var n=t-_e,r=e-we,i=Wt(n*n+r*r);Do+=i*(_e+t)/2,Lo+=i*(we+e)/2,er+=i,i=we*t-_e*e,ac+=i*(_e+t),fc+=i*(we+e),Wr+=i*3,Rn(_e=t,we=e)}const ku=ce;function xd(t){this._context=t}xd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,jt);break}}},result:ee};var cc=new En,rf,Md,$d,Hr,Gr,Ro={point:ee,lineStart:function(){Ro.point=Nw},lineEnd:function(){rf&&Sd(Md,$d),Ro.point=ee},polygonStart:function(){rf=!0},polygonEnd:function(){rf=null},result:function(){var t=+cc;return cc=new En,t}};function Nw(t,e){Ro.point=Sd,Md=Hr=t,$d=Gr=e}function Sd(t,e){Hr-=t,Gr-=e,cc.add(Wt(Hr*Hr+Gr*Gr)),Hr=t,Gr=e}const Eu=Ro;let Au,Fo,Cu,Nu;class Du{constructor(e){this._append=e==null?Td:Dw(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Cu||this._append!==Fo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Cu=r,Fo=this._append,Nu=this._,this._=i}this._+=Nu;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Td(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Dw(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Td;if(e!==Au){const n=10**e;Au=e,Fo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Fo}function Wc(t,e){let n=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),_n(f,i(o))),o.result()}return a.area=function(f){return _n(f,i($u)),$u.result()},a.measure=function(f){return _n(f,i(Eu)),Eu.result()},a.bounds=function(f){return _n(f,i(No)),No.result()},a.centroid=function(f){return _n(f,i(ku)),ku.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,tc):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(e=null,new Du(n)):new xd(e=f),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);n=c}return e===null&&(o=new Du(n)),a},a.projection(t).digits(n).context(e)}function sc(t){return{stream:ha(t)}}function ha(t){return function(e){var n=new uc;for(var r in t)n[r]=t[r];return n.stream=e,n}}function uc(){}uc.prototype={constructor:uc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Hc(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),_n(n,t.stream(No)),e(No.result()),r!=null&&t.clipExtent(r),t}function Gc(t,e,n){return Hc(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,c])},n)}function kd(t,e,n){return Gc(t,[[0,0],e],n)}function Ed(t,e,n){return Hc(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},n)}function Ad(t,e,n){return Hc(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},n)}var Lu=16,Lw=nt(30*yt);function Ru(t,e){return+e?Fw(t,e):Rw(t)}function Rw(t){return ha({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Fw(t,e){function n(r,i,o,a,f,c,s,u,h,l,d,p,g,m){var b=s-r,y=u-i,v=b*b+y*y;if(v>4*e&&g--){var _=a+l,w=f+d,x=c+p,$=Wt(_*_+w*w+x*x),E=ie(x/=$),k=ct(ct(x)-1)<tt||ct(o-h)<tt?(o+h)/2:ze(w,_),A=t(k,E),M=A[0],L=A[1],F=M-r,P=L-i,S=y*F-b*P;(S*S/v>e||ct((b*F+y*P)/v-.5)>.3||a*l+f*d+c*p<Lw)&&(n(r,i,o,a,f,c,M,L,k,_/=$,w/=$,x,g,m),m.point(M,L),n(M,L,k,_,w,x,s,u,h,l,d,p,g,m))}}return function(r){var i,o,a,f,c,s,u,h,l,d,p,g,m={point:b,lineStart:y,lineEnd:_,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function b(E,k){E=t(E,k),r.point(E[0],E[1])}function y(){h=NaN,m.point=v,r.lineStart()}function v(E,k){var A=mr([E,k]),M=t(E,k);n(h,l,u,d,p,g,h=M[0],l=M[1],u=E,d=A[0],p=A[1],g=A[2],Lu,r),r.point(h,l)}function _(){m.point=b,r.lineEnd()}function w(){y(),m.point=x,m.lineEnd=$}function x(E,k){v(i=E,k),o=h,a=l,f=d,c=p,s=g,m.point=v}function $(){n(h,l,u,d,p,g,o,a,i,f,c,s,Lu,r),m.lineEnd=_,_()}return m}}var Iw=ha({point:function(t,e){this.stream.point(t*yt,e*yt)}});function Pw(t){return ha({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Uw(t,e,n,r,i){function o(a,f){return a*=r,f*=i,[e+t*a,n-t*f]}return o.invert=function(a,f){return[(a-e)/t*r,(n-f)/t*i]},o}function Fu(t,e,n,r,i,o){if(!o)return Uw(t,e,n,r,i);var a=nt(o),f=Q(o),c=a*t,s=f*t,u=a/t,h=f/t,l=(f*n-a*e)/t,d=(f*e+a*n)/t;function p(g,m){return g*=r,m*=i,[c*g-s*m+e,n-s*g-c*m]}return p.invert=function(g,m){return[r*(u*g-h*m+l),i*(d-h*g-u*m)]},p}function ln(t){return Cd(function(){return t})()}function Cd(t){var e,n=150,r=480,i=250,o=0,a=0,f=0,c=0,s=0,u,h=0,l=1,d=1,p=null,g=Mu,m=null,b,y,v,_=tc,w=.5,x,$,E,k,A;function M(S){return E(S[0]*yt,S[1]*yt)}function L(S){return S=E.invert(S[0],S[1]),S&&[S[0]*Pt,S[1]*Pt]}M.stream=function(S){return k&&A===S?k:k=Iw(Pw(u)(g(x(_(A=S)))))},M.preclip=function(S){return arguments.length?(g=S,p=void 0,P()):g},M.postclip=function(S){return arguments.length?(_=S,m=b=y=v=null,P()):_},M.clipAngle=function(S){return arguments.length?(g=+S?_w(p=S*yt):(p=null,Mu),P()):p*Pt},M.clipExtent=function(S){return arguments.length?(_=S==null?(m=b=y=v=null,tc):gd(m=+S[0][0],b=+S[0][1],y=+S[1][0],v=+S[1][1]),P()):m==null?null:[[m,b],[y,v]]},M.scale=function(S){return arguments.length?(n=+S,F()):n},M.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],F()):[r,i]},M.center=function(S){return arguments.length?(o=S[0]%360*yt,a=S[1]%360*yt,F()):[o*Pt,a*Pt]},M.rotate=function(S){return arguments.length?(f=S[0]%360*yt,c=S[1]%360*yt,s=S.length>2?S[2]%360*yt:0,F()):[f*Pt,c*Pt,s*Pt]},M.angle=function(S){return arguments.length?(h=S%360*yt,F()):h*Pt},M.reflectX=function(S){return arguments.length?(l=S?-1:1,F()):l<0},M.reflectY=function(S){return arguments.length?(d=S?-1:1,F()):d<0},M.precision=function(S){return arguments.length?(x=Ru($,w=S*S),P()):Wt(w)},M.fitExtent=function(S,U){return Gc(M,S,U)},M.fitSize=function(S,U){return kd(M,S,U)},M.fitWidth=function(S,U){return Ed(M,S,U)},M.fitHeight=function(S,U){return Ad(M,S,U)};function F(){var S=Fu(n,0,0,l,d,h).apply(null,e(o,a)),U=Fu(n,r-S[0],i-S[1],l,d,h);return u=ld(f,c,s),$=Qf(e,U),E=Qf(u,$),x=Ru($,w),P()}function P(){return k=A=null,M}return function(){return e=t.apply(this,arguments),M.invert=e.invert&&L,F()}}function Vc(t){var e=0,n=rt/3,r=Cd(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*yt,n=o[1]*yt):[e*Pt,n*Pt]},i}function Ow(t){var e=nt(t);function n(r,i){return[r*e,Q(i)/e]}return n.invert=function(r,i){return[r/e,ie(i*e)]},n}function Bw(t,e){var n=Q(t),r=(n+Q(e))/2;if(ct(r)<tt)return Ow(t);var i=1+n*(2*r-n),o=Wt(i)/r;function a(f,c){var s=Wt(i-2*r*Q(c))/r;return[s*Q(f*=r),o-s*nt(f)]}return a.invert=function(f,c){var s=o-c,u=ze(f,ct(s))*te(s);return s*r<0&&(u-=rt*te(f)*te(s)),[u/r,ie((i-(f*f+s*s)*r*r)/(2*r))]},a}function Io(){return Vc(Bw).scale(155.424).center([0,33.6442])}function Nd(){return Io().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zw(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function qw(){var t,e,n=Nd(),r,i=Io().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Io().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,d){c=[l,d]}};function u(l){var d=l[0],p=l[1];return c=null,r.point(d,p),c||(o.point(d,p),c)||(f.point(d,p),c)}u.invert=function(l){var d=n.scale(),p=n.translate(),g=(l[0]-p[0])/d,m=(l[1]-p[1])/d;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:n).invert(l)},u.stream=function(l){return t&&e===l?t:t=zw([n.stream(e=l),i.stream(l),a.stream(l)])},u.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),h()):n.precision()},u.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),u.translate(n.translate())):n.scale()},u.translate=function(l){if(!arguments.length)return n.translate();var d=n.scale(),p=+l[0],g=+l[1];return r=n.translate(l).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(s),o=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+tt,g+.12*d+tt],[p-.214*d-tt,g+.234*d-tt]]).stream(s),f=a.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+tt,g+.166*d+tt],[p-.115*d-tt,g+.234*d-tt]]).stream(s),h()},u.fitExtent=function(l,d){return Gc(u,l,d)},u.fitSize=function(l,d){return kd(u,l,d)},u.fitWidth=function(l,d){return Ed(u,l,d)},u.fitHeight=function(l,d){return Ad(u,l,d)};function h(){return t=e=null,u}return u.scale(1070)}function Dd(t){return function(e,n){var r=nt(e),i=nt(n),o=t(r*i);return o===1/0?[2,0]:[o*i*Q(e),o*Q(n)]}}function Mi(t){return function(e,n){var r=Wt(e*e+n*n),i=t(r),o=Q(i),a=nt(i);return[ze(e*o,r*a),ie(r&&n*o/r)]}}var Ld=Dd(function(t){return Wt(2/(1+t))});Ld.invert=Mi(function(t){return 2*ie(t/2)});function Yw(){return ln(Ld).scale(124.75).clipAngle(180-.001)}var Rd=Dd(function(t){return(t=ud(t))&&t/Q(t)});Rd.invert=Mi(function(t){return t});function Ww(){return ln(Rd).scale(79.4188).clipAngle(180-.001)}function da(t,e){return[t,To(Yc((wt+e)/2))]}da.invert=function(t,e){return[t,2*Tr(sd(e))-wt]};function Hw(){return Fd(da).scale(961/jt)}function Fd(t){var e=ln(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,f,c,s;e.scale=function(h){return arguments.length?(r(h),u()):r()},e.translate=function(h){return arguments.length?(i(h),u()):i()},e.center=function(h){return arguments.length?(n(h),u()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=f=c=s=null:(a=+h[0][0],f=+h[0][1],c=+h[1][0],s=+h[1][1]),u()):a==null?null:[[a,f],[c,s]]};function u(){var h=rt*r(),l=e(lw(e.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===da?[[Math.max(l[0]-h,a),f],[Math.min(l[0]+h,c),s]]:[[a,Math.max(l[1]-h,f)],[c,Math.min(l[1]+h,s)]])}return u()}function Ki(t){return Yc((wt+t)/2)}function Gw(t,e){var n=nt(t),r=t===e?Q(t):To(n/nt(e))/To(Ki(e)/Ki(t)),i=n*Ja(Ki(t),r)/r;if(!r)return da;function o(a,f){i>0?f<-wt+tt&&(f=-wt+tt):f>wt-tt&&(f=wt-tt);var c=i/Ja(Ki(f),r);return[c*Q(r*a),i-c*nt(r*a)]}return o.invert=function(a,f){var c=i-f,s=te(r)*Wt(a*a+c*c),u=ze(a,ct(c))*te(c);return c*r<0&&(u-=rt*te(a)*te(c)),[u/r,2*Tr(Ja(i/s,1/r))-wt]},o}function Vw(){return Vc(Gw).scale(109.5).parallels([30,30])}function Po(t,e){return[t,e]}Po.invert=Po;function Xw(){return ln(Po).scale(152.63)}function jw(t,e){var n=nt(t),r=t===e?Q(t):(n-nt(e))/(e-t),i=n/r+t;if(ct(r)<tt)return Po;function o(a,f){var c=i-f,s=r*a;return[c*Q(s),i-c*nt(s)]}return o.invert=function(a,f){var c=i-f,s=ze(a,ct(c))*te(c);return c*r<0&&(s-=rt*te(a)*te(c)),[s/r,i-te(r)*Wt(a*a+c*c)]},o}function Zw(){return Vc(jw).scale(131.154).center([0,13.9389])}var Kr=1.340264,Qr=-.081106,Jr=893e-6,ti=.003796,Uo=Wt(3)/2,Kw=12;function Id(t,e){var n=ie(Uo*Q(e)),r=n*n,i=r*r*r;return[t*nt(n)/(Uo*(Kr+3*Qr*r+i*(7*Jr+9*ti*r))),n*(Kr+Qr*r+i*(Jr+ti*r))]}Id.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,f,c;o<Kw&&(f=n*(Kr+Qr*r+i*(Jr+ti*r))-e,c=Kr+3*Qr*r+i*(7*Jr+9*ti*r),n-=a=f/c,r=n*n,i=r*r*r,!(ct(a)<cd));++o);return[Uo*t*(Kr+3*Qr*r+i*(7*Jr+9*ti*r))/nt(n),ie(Q(n)/Uo)]};function Qw(){return ln(Id).scale(177.158)}function Pd(t,e){var n=nt(e),r=nt(t)*n;return[n*Q(t)/r,Q(e)/r]}Pd.invert=Mi(Tr);function Jw(){return ln(Pd).scale(144.049).clipAngle(60)}function Ud(t,e){return[nt(e)*Q(t),Q(e)]}Ud.invert=Mi(ie);function tv(){return ln(Ud).scale(249.5).clipAngle(90+tt)}function Od(t,e){var n=nt(e),r=1+nt(t)*n;return[n*Q(t)/r,Q(e)/r]}Od.invert=Mi(function(t){return 2*Tr(t)});function ev(){return ln(Od).scale(250).clipAngle(142)}function Bd(t,e){return[To(Yc((wt+e)/2)),-t]}Bd.invert=function(t,e){return[-e,2*Tr(sd(t))-wt]};function nv(){var t=Fd(Bd),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function ke(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lc=Symbol("implicit");function Xc(){var t=new An,e=[],n=[],r=lc;function i(o){let a=t.get(o);if(a===void 0){if(r!==lc)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new An;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Xc(e,n).unknown(r)},ke.apply(i,arguments),i}function ga(){var t=Xc().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,f=!1,c=0,s=0,u=.5;delete t.unknown;function h(){var l=e().length,d=i<r,p=d?i:r,g=d?r:i;o=(g-p)/Math.max(1,l-c+s*2),f&&(o=Math.floor(o)),p+=(g-p-o*(l-c))*u,a=o*(1-c),f&&(p=Math.round(p),a=Math.round(a));var m=Ff(l).map(function(b){return p+o*b});return n(d?m.reverse():m)}return t.domain=function(l){return arguments.length?(e(l),h()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),h()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),h()):c},t.paddingOuter=function(l){return arguments.length?(s=+l,h()):s},t.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),h()):u},t.copy=function(){return ga(e(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},ke.apply(h(),arguments)}function zd(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zd(e())},t}function rv(){return zd(ga.apply(null,arguments).paddingInner(1))}function iv(t){return function(){return t}}function hc(t){return+t}var Iu=[0,1];function ne(t){return t}function dc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:iv(isNaN(e)?NaN:.5)}function ov(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function av(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=dc(i,r),o=n(a,o)):(r=dc(r,i),o=n(o,a)),function(f){return o(r(f))}}function fv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=dc(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(f){var c=na(t,f,1,r)-1;return o[c](i[c](f))}}function $i(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ma(){var t=Iu,e=Iu,n=xi,r,i,o,a=ne,f,c,s;function u(){var l=Math.min(t.length,e.length);return a!==ne&&(a=ov(t[0],t[l-1])),f=l>2?fv:av,c=s=null,h}function h(l){return l==null||isNaN(l=+l)?o:(c||(c=f(t.map(r),e,n)))(r(a(l)))}return h.invert=function(l){return a(i((s||(s=f(e,t.map(r),Lt)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,hc),u()):t.slice()},h.range=function(l){return arguments.length?(e=Array.from(l),u()):e.slice()},h.rangeRound=function(l){return e=Array.from(l),n=Pc,u()},h.clamp=function(l){return arguments.length?(a=l?!0:ne,u()):a!==ne},h.interpolate=function(l){return arguments.length?(n=l,u()):n},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,u()}}function qd(){return ma()(ne,ne)}function cv(t,e,n,r){var i=Lf(t,e,n),o;switch(r=ci(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=sw(i,a))&&(r.precision=o),fd(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=uw(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=cw(i))&&(r.precision=o-(r.type==="%")*2);break}}return Sr(r)}function Si(t){var e=t.domain;return t.ticks=function(n){var r=e();return ii(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return cv(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],f=r[o],c,s,u=10;for(f<a&&(s=a,a=f,f=s,s=i,i=o,o=s);u-- >0;){if(s=yo(a,f,n),s===c)return r[i]=a,r[o]=f,e(r);if(s>0)a=Math.floor(a/s)*s,f=Math.ceil(f/s)*s;else if(s<0)a=Math.ceil(a*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function jc(){var t=qd();return t.copy=function(){return $i(t,jc())},ke.apply(t,arguments),Si(t)}function Yd(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hc),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Yd(t).unknown(e)},t=arguments.length?Array.from(t,hc):[0,1],Si(n)}function Wd(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Pu(t){return Math.log(t)}function Uu(t){return Math.exp(t)}function sv(t){return-Math.log(-t)}function uv(t){return-Math.exp(-t)}function lv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hv(t){return t===10?lv:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dv(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ou(t){return(e,n)=>-t(-e,n)}function Hd(t){const e=t(Pu,Uu),n=e.domain;let r=10,i,o;function a(){return i=dv(r),o=hv(r),n()[0]<0?(i=Ou(i),o=Ou(o),t(sv,uv)):t(Pu,Uu),e}return e.base=function(f){return arguments.length?(r=+f,a()):r},e.domain=function(f){return arguments.length?(n(f),a()):n()},e.ticks=f=>{const c=n();let s=c[0],u=c[c.length-1];const h=u<s;h&&([s,u]=[u,s]);let l=i(s),d=i(u),p,g;const m=f==null?10:+f;let b=[];if(!(r%1)&&d-l<m){if(l=Math.floor(l),d=Math.ceil(d),s>0){for(;l<=d;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;b.push(g)}}else for(;l<=d;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;b.push(g)}b.length*2<m&&(b=ii(s,u,m))}else b=ii(l,d,Math.min(d-l,m)).map(o);return h?b.reverse():b},e.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ci(c)).precision==null&&(c.trim=!0),c=Sr(c)),f===1/0)return c;const s=Math.max(1,r*f/e.ticks().length);return u=>{let h=u/o(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=s?c(u):""}},e.nice=()=>n(Wd(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),e}function Gd(){const t=Hd(ma()).domain([1,10]);return t.copy=()=>$i(t,Gd()).base(t.base()),ke.apply(t,arguments),t}function Bu(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function zu(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Vd(t){var e=1,n=t(Bu(e),zu(e));return n.constant=function(r){return arguments.length?t(Bu(e=+r),zu(e)):e},Si(n)}function Xd(){var t=Vd(ma());return t.copy=function(){return $i(t,Xd()).constant(t.constant())},ke.apply(t,arguments)}function qu(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gv(t){return t<0?-t*t:t*t}function jd(t){var e=t(ne,ne),n=1;function r(){return n===1?t(ne,ne):n===.5?t(pv,gv):t(qu(n),qu(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Si(e)}function Zd(){var t=jd(ma());return t.copy=function(){return $i(t,Zd()).exponent(t.exponent())},ke.apply(t,arguments),t}function Kd(){var t=[],e=[],n=[],r;function i(){var a=0,f=Math.max(1,e.length);for(n=new Array(f-1);++a<f;)n[a-1]=f2(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:e[na(n,a)]}return o.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Yt),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Kd().domain(t).range(e).unknown(r)},ke.apply(o,arguments)}function Qd(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[na(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Qd().domain(t).range(e).unknown(n)},ke.apply(i,arguments)}const of=new Date,af=new Date;function St(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return c;let s;do c.push(s=new Date(+o)),e(o,f),t(o);while(s<o&&o<a);return c},i.filter=o=>St(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!o(a););else for(;--f>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(of.setTime(+o),af.setTime(+a),t(of),t(af),Math.floor(n(of,af))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Oo=St(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Oo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?St(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Oo);Oo.range;const Pe=1e3,re=Pe*60,Ue=re*60,qe=Ue*24,Zc=qe*7,Yu=qe*30,ff=qe*365,ve=St(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Pe)},(t,e)=>(e-t)/Pe,t=>t.getUTCSeconds());ve.range;const ya=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pe)},(t,e)=>{t.setTime(+t+e*re)},(t,e)=>(e-t)/re,t=>t.getMinutes());ya.range;const Ti=St(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*re)},(t,e)=>(e-t)/re,t=>t.getUTCMinutes());Ti.range;const ba=St(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pe-t.getMinutes()*re)},(t,e)=>{t.setTime(+t+e*Ue)},(t,e)=>(e-t)/Ue,t=>t.getHours());ba.range;const ki=St(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ue)},(t,e)=>(e-t)/Ue,t=>t.getUTCHours());ki.range;const Un=St(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*re)/qe,t=>t.getDate()-1);Un.range;const _a=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qe,t=>t.getUTCDate()-1);_a.range;const wa=St(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qe,t=>Math.floor(t/qe));wa.range;function On(t){return St(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*re)/Zc)}const br=On(0),ui=On(1),Jd=On(2),t0=On(3),Fn=On(4),e0=On(5),n0=On(6);br.range;ui.range;Jd.range;t0.range;Fn.range;e0.range;n0.range;function Bn(t){return St(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Zc)}const _r=Bn(0),li=Bn(1),r0=Bn(2),i0=Bn(3),In=Bn(4),o0=Bn(5),a0=Bn(6);_r.range;li.range;r0.range;i0.range;In.range;o0.range;a0.range;const Ei=St(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ei.range;const Ai=St(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ai.range;const he=St(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());he.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});he.range;const de=St(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());de.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:St(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});de.range;function f0(t,e,n,r,i,o){const a=[[ve,1,Pe],[ve,5,5*Pe],[ve,15,15*Pe],[ve,30,30*Pe],[o,1,re],[o,5,5*re],[o,15,15*re],[o,30,30*re],[i,1,Ue],[i,3,3*Ue],[i,6,6*Ue],[i,12,12*Ue],[r,1,qe],[r,2,2*qe],[n,1,Zc],[e,1,Yu],[e,3,3*Yu],[t,1,ff]];function f(s,u,h){const l=u<s;l&&([s,u]=[u,s]);const d=h&&typeof h.range=="function"?h:c(s,u,h),p=d?d.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,h){const l=Math.abs(u-s)/h,d=ea(([,,m])=>m).right(a,l);if(d===a.length)return t.every(Lf(s/ff,u/ff,h));if(d===0)return Oo.every(Math.max(Lf(s,u,h),1));const[p,g]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return p.every(g)}return[f,c]}const[mv,c0]=f0(de,Ai,_r,wa,ki,Ti),[yv,bv]=f0(he,Ei,br,Un,ba,ya);function cf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _v(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,c=t.shortMonths,s=Ir(i),u=Pr(i),h=Ir(o),l=Pr(o),d=Ir(a),p=Pr(a),g=Ir(f),m=Pr(f),b=Ir(c),y=Pr(c),v={a:R,A:Y,b:I,B:C,c:null,d:ju,e:ju,f:qv,g:Qv,G:t6,H:Ov,I:Bv,j:zv,L:s0,m:Yv,M:Wv,p:O,q:z,Q:Qu,s:Ju,S:Hv,u:Gv,U:Vv,V:Xv,w:jv,W:Zv,x:null,X:null,y:Kv,Y:Jv,Z:e6,"%":Ku},_={a:W,A:J,b:Z,B:X,c:null,d:Zu,e:Zu,f:o6,g:g6,G:y6,H:n6,I:r6,j:i6,L:l0,m:a6,M:f6,p:D,q,Q:Qu,s:Ju,S:c6,u:s6,U:u6,V:l6,w:h6,W:d6,x:null,X:null,y:p6,Y:m6,Z:b6,"%":Ku},w={a:A,A:M,b:L,B:F,c:P,d:Vu,e:Vu,f:Fv,g:Gu,G:Hu,H:Xu,I:Xu,j:Nv,L:Rv,m:Cv,M:Dv,p:k,q:Av,Q:Pv,s:Uv,S:Lv,u:$v,U:Sv,V:Tv,w:Mv,W:kv,x:S,X:U,y:Gu,Y:Hu,Z:Ev,"%":Iv};v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_);function x(N,H){return function(V){var T=[],ot=-1,G=0,at=N.length,dt,Dt,mn;for(V instanceof Date||(V=new Date(+V));++ot<at;)N.charCodeAt(ot)===37&&(T.push(N.slice(G,ot)),(Dt=Wu[dt=N.charAt(++ot)])!=null?dt=N.charAt(++ot):Dt=dt==="e"?" ":"0",(mn=H[dt])&&(dt=mn(V,Dt)),T.push(dt),G=ot+1);return T.push(N.slice(G,ot)),T.join("")}}function $(N,H){return function(V){var T=Fr(1900,void 0,1),ot=E(T,N,V+="",0),G,at;if(ot!=V.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(H&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(G=sf(Fr(T.y,0,1)),at=G.getUTCDay(),G=at>4||at===0?li.ceil(G):li(G),G=_a.offset(G,(T.V-1)*7),T.y=G.getUTCFullYear(),T.m=G.getUTCMonth(),T.d=G.getUTCDate()+(T.w+6)%7):(G=cf(Fr(T.y,0,1)),at=G.getDay(),G=at>4||at===0?ui.ceil(G):ui(G),G=Un.offset(G,(T.V-1)*7),T.y=G.getFullYear(),T.m=G.getMonth(),T.d=G.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),at="Z"in T?sf(Fr(T.y,0,1)).getUTCDay():cf(Fr(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(at+5)%7:T.w+T.U*7-(at+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,sf(T)):cf(T)}}function E(N,H,V,T){for(var ot=0,G=H.length,at=V.length,dt,Dt;ot<G;){if(T>=at)return-1;if(dt=H.charCodeAt(ot++),dt===37){if(dt=H.charAt(ot++),Dt=w[dt in Wu?H.charAt(ot++):dt],!Dt||(T=Dt(N,V,T))<0)return-1}else if(dt!=V.charCodeAt(T++))return-1}return T}function k(N,H,V){var T=s.exec(H.slice(V));return T?(N.p=u.get(T[0].toLowerCase()),V+T[0].length):-1}function A(N,H,V){var T=d.exec(H.slice(V));return T?(N.w=p.get(T[0].toLowerCase()),V+T[0].length):-1}function M(N,H,V){var T=h.exec(H.slice(V));return T?(N.w=l.get(T[0].toLowerCase()),V+T[0].length):-1}function L(N,H,V){var T=b.exec(H.slice(V));return T?(N.m=y.get(T[0].toLowerCase()),V+T[0].length):-1}function F(N,H,V){var T=g.exec(H.slice(V));return T?(N.m=m.get(T[0].toLowerCase()),V+T[0].length):-1}function P(N,H,V){return E(N,e,H,V)}function S(N,H,V){return E(N,n,H,V)}function U(N,H,V){return E(N,r,H,V)}function R(N){return a[N.getDay()]}function Y(N){return o[N.getDay()]}function I(N){return c[N.getMonth()]}function C(N){return f[N.getMonth()]}function O(N){return i[+(N.getHours()>=12)]}function z(N){return 1+~~(N.getMonth()/3)}function W(N){return a[N.getUTCDay()]}function J(N){return o[N.getUTCDay()]}function Z(N){return c[N.getUTCMonth()]}function X(N){return f[N.getUTCMonth()]}function D(N){return i[+(N.getUTCHours()>=12)]}function q(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var H=x(N+="",v);return H.toString=function(){return N},H},parse:function(N){var H=$(N+="",!1);return H.toString=function(){return N},H},utcFormat:function(N){var H=x(N+="",_);return H.toString=function(){return N},H},utcParse:function(N){var H=$(N+="",!0);return H.toString=function(){return N},H}}}var Wu={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,wv=/^%/,vv=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function xv(t){return t.replace(vv,"\\$&")}function Ir(t){return new RegExp("^(?:"+t.map(xv).join("|")+")","i")}function Pr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Mv(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $v(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sv(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Tv(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function kv(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Hu(t,e,n){var r=Ct.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Gu(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ev(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Av(t,e,n){var r=Ct.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Cv(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Vu(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Nv(t,e,n){var r=Ct.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Xu(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Dv(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Lv(t,e,n){var r=Ct.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Rv(t,e,n){var r=Ct.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Fv(t,e,n){var r=Ct.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Iv(t,e,n){var r=wv.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pv(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Uv(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ju(t,e){return ft(t.getDate(),e,2)}function Ov(t,e){return ft(t.getHours(),e,2)}function Bv(t,e){return ft(t.getHours()%12||12,e,2)}function zv(t,e){return ft(1+Un.count(he(t),t),e,3)}function s0(t,e){return ft(t.getMilliseconds(),e,3)}function qv(t,e){return s0(t,e)+"000"}function Yv(t,e){return ft(t.getMonth()+1,e,2)}function Wv(t,e){return ft(t.getMinutes(),e,2)}function Hv(t,e){return ft(t.getSeconds(),e,2)}function Gv(t){var e=t.getDay();return e===0?7:e}function Vv(t,e){return ft(br.count(he(t)-1,t),e,2)}function u0(t){var e=t.getDay();return e>=4||e===0?Fn(t):Fn.ceil(t)}function Xv(t,e){return t=u0(t),ft(Fn.count(he(t),t)+(he(t).getDay()===4),e,2)}function jv(t){return t.getDay()}function Zv(t,e){return ft(ui.count(he(t)-1,t),e,2)}function Kv(t,e){return ft(t.getFullYear()%100,e,2)}function Qv(t,e){return t=u0(t),ft(t.getFullYear()%100,e,2)}function Jv(t,e){return ft(t.getFullYear()%1e4,e,4)}function t6(t,e){var n=t.getDay();return t=n>=4||n===0?Fn(t):Fn.ceil(t),ft(t.getFullYear()%1e4,e,4)}function e6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function Zu(t,e){return ft(t.getUTCDate(),e,2)}function n6(t,e){return ft(t.getUTCHours(),e,2)}function r6(t,e){return ft(t.getUTCHours()%12||12,e,2)}function i6(t,e){return ft(1+_a.count(de(t),t),e,3)}function l0(t,e){return ft(t.getUTCMilliseconds(),e,3)}function o6(t,e){return l0(t,e)+"000"}function a6(t,e){return ft(t.getUTCMonth()+1,e,2)}function f6(t,e){return ft(t.getUTCMinutes(),e,2)}function c6(t,e){return ft(t.getUTCSeconds(),e,2)}function s6(t){var e=t.getUTCDay();return e===0?7:e}function u6(t,e){return ft(_r.count(de(t)-1,t),e,2)}function h0(t){var e=t.getUTCDay();return e>=4||e===0?In(t):In.ceil(t)}function l6(t,e){return t=h0(t),ft(In.count(de(t),t)+(de(t).getUTCDay()===4),e,2)}function h6(t){return t.getUTCDay()}function d6(t,e){return ft(li.count(de(t)-1,t),e,2)}function p6(t,e){return ft(t.getUTCFullYear()%100,e,2)}function g6(t,e){return t=h0(t),ft(t.getUTCFullYear()%100,e,2)}function m6(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function y6(t,e){var n=t.getUTCDay();return t=n>=4||n===0?In(t):In.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function b6(){return"+0000"}function Ku(){return"%"}function Qu(t){return+t}function Ju(t){return Math.floor(+t/1e3)}var Xn,Kc,Ci;_6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _6(t){return Xn=_v(t),Kc=Xn.format,Xn.parse,Ci=Xn.utcFormat,Xn.utcParse,Xn}function w6(t){return new Date(t)}function v6(t){return t instanceof Date?+t:+new Date(+t)}function Qc(t,e,n,r,i,o,a,f,c,s){var u=qd(),h=u.invert,l=u.domain,d=s(".%L"),p=s(":%S"),g=s("%I:%M"),m=s("%I %p"),b=s("%a %d"),y=s("%b %d"),v=s("%B"),_=s("%Y");function w(x){return(c(x)<x?d:f(x)<x?p:a(x)<x?g:o(x)<x?m:r(x)<x?i(x)<x?b:y:n(x)<x?v:_)(x)}return u.invert=function(x){return new Date(h(x))},u.domain=function(x){return arguments.length?l(Array.from(x,v6)):l().map(w6)},u.ticks=function(x){var $=l();return t($[0],$[$.length-1],x??10)},u.tickFormat=function(x,$){return $==null?w:s($)},u.nice=function(x){var $=l();return(!x||typeof x.range!="function")&&(x=e($[0],$[$.length-1],x??10)),x?l(Wd($,x)):u},u.copy=function(){return $i(u,Qc(t,e,n,r,i,o,a,f,c,s))},u}function x6(){return ke.apply(Qc(yv,bv,he,Ei,br,Un,ba,ya,ve,Kc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M6(){return ke.apply(Qc(mv,c0,de,Ai,_r,_a,ki,Ti,ve,Ci).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function va(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xa(){var t=0,e=.5,n=1,r=1,i,o,a,f,c,s=ne,u,h=!1,l;function d(g){return isNaN(g=+g)?l:(g=.5+((g=+u(g))-o)*(r*g<r*o?f:c),s(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e,n]=g,i=u(t=+t),o=u(e=+e),a=u(n=+n),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(s=g,d):s};function p(g){return function(m){var b,y,v;return arguments.length?([b,y,v]=m,s=sa(g,[b,y,v]),d):[s(0),s(.5),s(1)]}}return d.range=p(xi),d.rangeRound=p(Pc),d.unknown=function(g){return arguments.length?(l=g,d):l},function(g){return u=g,i=g(t),o=g(e),a=g(n),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function d0(){var t=Si(xa()(ne));return t.copy=function(){return va(t,d0())},pa.apply(t,arguments)}function p0(){var t=Hd(xa()).domain([.1,1,10]);return t.copy=function(){return va(t,p0()).base(t.base())},pa.apply(t,arguments)}function g0(){var t=Vd(xa());return t.copy=function(){return va(t,g0()).constant(t.constant())},pa.apply(t,arguments)}function m0(){var t=jd(xa());return t.copy=function(){return va(t,m0()).exponent(t.exponent())},pa.apply(t,arguments)}function et(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const $6=et("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),S6=et("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),T6=et("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),k6=et("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),E6=et("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),A6=et("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),C6=et("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),N6=et("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),D6=et("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),L6=et("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),lt=t=>Mb(t[t.length-1]);var y0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(et);const b0=lt(y0);var _0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(et);const w0=lt(_0);var v0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(et);const x0=lt(v0);var M0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(et);const $0=lt(M0);var pc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(et);const Bo=lt(pc);var S0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(et);const T0=lt(S0);var gc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(et);const zo=lt(gc);var k0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(et);const E0=lt(k0);var A0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(et);const C0=lt(A0);var N0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(et);const D0=lt(N0);var L0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(et);const R0=lt(L0);var F0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(et);const I0=lt(F0);var P0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(et);const U0=lt(P0);var O0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(et);const B0=lt(O0);var z0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(et);const q0=lt(z0);var Y0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(et);const W0=lt(Y0);var H0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(et);const G0=lt(H0);var V0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(et);const X0=lt(V0);var j0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(et);const Z0=lt(j0);var K0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(et);const Q0=lt(K0);var J0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(et);const t1=lt(J0);var e1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(et);const n1=lt(e1);var r1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(et);const i1=lt(r1);var o1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(et);const a1=lt(o1);var f1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(et);const c1=lt(f1);var s1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(et);const u1=lt(s1);var l1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(et);const h1=lt(l1);function d1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const p1=Uc(Se(300,.5,0),Se(-240,.5,1));var g1=Uc(Se(-100,.75,.35),Se(80,1.5,.8)),m1=Uc(Se(260,.75,.35),Se(80,1.5,.8)),Qi=Se();function y1(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Qi.h=360*t-100,Qi.s=1.5-1.5*e,Qi.l=.8-.9*e,Qi+""}var Ji=an(),R6=Math.PI/3,F6=Math.PI*2/3;function b1(t){var e;return t=(.5-t)*Math.PI,Ji.r=255*(e=Math.sin(t))*e,Ji.g=255*(e=Math.sin(t+R6))*e,Ji.b=255*(e=Math.sin(t+F6))*e,Ji+""}function _1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ma(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const w1=Ma(et("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var v1=Ma(et("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),x1=Ma(et("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),M1=Ma(et("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function jn(t){return function(){return t}}const $1=Math.cos,Jc=Math.min,qo=Math.sin,Tt=Math.sqrt,tl=1e-12,Yo=Math.PI,$a=2*Yo;function I6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new od(e)}function P6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function S1(t){this._context=t}S1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sa(t){return new S1(t)}function U6(t){return t[0]}function O6(t){return t[1]}function B6(t,e){var n=jn(!0),r=null,i=Sa,o=null,a=I6(f);t=typeof t=="function"?t:t===void 0?U6:jn(t),e=typeof e=="function"?e:e===void 0?O6:jn(e);function f(c){var s,u=(c=P6(c)).length,h,l=!1,d;for(r==null&&(o=i(d=a())),s=0;s<=u;++s)!(s<u&&n(h=c[s],s,c))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,s,c),+e(h,s,c));if(d)return o=null,d+""||null}return f.x=function(c){return arguments.length?(t=typeof c=="function"?c:jn(+c),f):t},f.y=function(c){return arguments.length?(e=typeof c=="function"?c:jn(+c),f):e},f.defined=function(c){return arguments.length?(n=typeof c=="function"?c:jn(!!c),f):n},f.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),f):r},f}class T1{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function z6(t){return new T1(t,!0)}function q6(t){return new T1(t,!1)}const Y6=Tt(3),k1={draw(t,e){const n=Tt(e+Jc(e/28,.75))*.59436,r=n/2,i=r*Y6;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},ts={draw(t,e){const n=Tt(e/Yo);t.moveTo(n,0),t.arc(0,0,n,0,$a)}},E1={draw(t,e){const n=Tt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},A1=Tt(1/3),W6=A1*2,C1={draw(t,e){const n=Tt(e/W6),r=n*A1;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},N1={draw(t,e){const n=Tt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},D1={draw(t,e){const n=Tt(e-Jc(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},L1={draw(t,e){const n=Tt(e),r=-n/2;t.rect(r,r,n,n)}},R1={draw(t,e){const n=Tt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},H6=.8908130915292852,F1=qo(Yo/10)/qo(7*Yo/10),G6=qo($a/10)*F1,V6=-$1($a/10)*F1,I1={draw(t,e){const n=Tt(e*H6),r=G6*n,i=V6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=$a*o/5,f=$1(a),c=qo(a);t.lineTo(c*n,-f*n),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},uf=Tt(3),P1={draw(t,e){const n=-Tt(e/(uf*3));t.moveTo(0,n*2),t.lineTo(-uf*n,-n),t.lineTo(uf*n,-n),t.closePath()}},X6=Tt(3),U1={draw(t,e){const n=Tt(e)*.6824,r=n/2,i=n*X6/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Kt=-.5,Qt=Tt(3)/2,mc=1/Tt(12),j6=(mc/2+1)*3,O1={draw(t,e){const n=Tt(e/j6),r=n/2,i=n*mc,o=r,a=n*mc+n,f=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,c),t.lineTo(Kt*r-Qt*i,Qt*r+Kt*i),t.lineTo(Kt*o-Qt*a,Qt*o+Kt*a),t.lineTo(Kt*f-Qt*c,Qt*f+Kt*c),t.lineTo(Kt*r+Qt*i,Kt*i-Qt*r),t.lineTo(Kt*o+Qt*a,Kt*a-Qt*o),t.lineTo(Kt*f+Qt*c,Kt*c-Qt*f),t.closePath()}},B1={draw(t,e){const n=Tt(e-Jc(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},Z6=[ts,E1,C1,L1,I1,P1,O1],K6=[ts,D1,B1,U1,k1,R1,N1];function fn(){}function Wo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ta(t){this._context=t}Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q6(t){return new Ta(t)}function z1(t){this._context=t}z1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J6(t){return new z1(t)}function q1(t){this._context=t}q1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t3(t){return new q1(t)}function Y1(t,e){this._basis=new Ta(t),this._beta=e}Y1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,f=-1,c;++f<=n;)c=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+c*o),this._beta*e[f]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const e3=function t(e){function n(r){return e===1?new Ta(r):new Y1(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Ho(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function es(t,e){this._context=t,this._k=(1-e)/6}es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ho(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ho(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const n3=function t(e){function n(r){return new es(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ns(t,e){this._context=t,this._k=(1-e)/6}ns.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ho(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const r3=function t(e){function n(r){return new ns(r,e)}return n.tension=function(r){return t(+r)},n}(0);function rs(t,e){this._context=t,this._k=(1-e)/6}rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ho(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const i3=function t(e){function n(r){return new rs(r,e)}return n.tension=function(r){return t(+r)},n}(0);function is(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>tl){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>tl){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*s+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function W1(t,e){this._context=t,this._alpha=e}W1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:is(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const o3=function t(e){function n(r){return e?new W1(r,e):new es(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function H1(t,e){this._context=t,this._alpha=e}H1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:is(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const a3=function t(e){function n(r){return e?new H1(r,e):new ns(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function G1(t,e){this._context=t,this._alpha=e}G1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:is(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const f3=function t(e){function n(r){return e?new G1(r,e):new rs(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function V1(t){this._context=t}V1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function c3(t){return new V1(t)}function el(t){return t<0?-1:1}function nl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(el(o)+el(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function rl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lf(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*e,o-f,a-f*n,o,a)}function Go(t){this._context=t}Go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lf(this,this._t0,rl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lf(this,rl(this,n=nl(this,t,e)),n);break;default:lf(this,this._t0,n=nl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function X1(t){this._context=new j1(t)}(X1.prototype=Object.create(Go.prototype)).point=function(t,e){Go.prototype.point.call(this,e,t)};function j1(t){this._context=t}j1.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function s3(t){return new Go(t)}function u3(t){return new X1(t)}function Z1(t){this._context=t}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=il(t),i=il(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function il(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function l3(t){return new Z1(t)}function ka(t,e){this._context=t,this._t=e}ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function h3(t){return new ka(t,.5)}function d3(t){return new ka(t,0)}function p3(t){return new ka(t,1)}function Vr(t,e,n){this.k=t,this.x=e,this.y=n}Vr.prototype={constructor:Vr,scale:function(t){return t===1?this:new Vr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Vr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Vr.prototype;function cn(t){return t!=null&&!Number.isNaN(t)}function pe(t,e){return+cn(e)-+cn(t)||Yt(t,e)}function Vo(t,e){return+cn(e)-+cn(t)||_i(t,e)}function os(t){return t!=null&&`${t}`!=""}function K1(t){return isFinite(t)?t:NaN}function as(t){return t>0&&isFinite(t)?t:NaN}function Q1(t){return t<0&&isFinite(t)?t:NaN}function g3(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${m3(t.getUTCFullYear())}-${Fe(t.getUTCMonth()+1,2)}-${Fe(t.getUTCDate(),2)}${n||r||i||o?`T${Fe(n,2)}:${Fe(r,2)}${i||o?`:${Fe(i,2)}${o?`.${Fe(o,3)}`:""}`:""}Z`:""}`}function m3(t){return t<0?`-${Fe(-t,6)}`:t>9999?`+${Fe(t,6)}`:Fe(t,4)}function Fe(t,e){return`${t}`.padStart(e,"0")}const y3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function J1(t,e){return y3.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const nr=1e3,xn=nr*60,Mn=xn*60,Ye=Mn*24,be=Ye*7,kn=Ye*30,Qe=Ye*365,hf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",nr],["5 seconds",5*nr],["15 seconds",15*nr],["30 seconds",30*nr],["minute",xn],["5 minutes",5*xn],["15 minutes",15*xn],["30 minutes",30*xn],["hour",Mn],["3 hours",3*Mn],["6 hours",6*Mn],["12 hours",12*Mn],["day",Ye],["2 days",2*Ye],["week",be],["2 weeks",2*be],["month",kn],["3 months",3*kn],["6 months",6*kn],["year",Qe],["2 years",2*Qe],["5 years",5*Qe],["10 years",10*Qe],["20 years",20*Qe],["50 years",50*Qe],["100 years",100*Qe]],fs=new Map([["second",nr],["minute",xn],["hour",Mn],["day",Ye],["monday",be],["tuesday",be],["wednesday",be],["thursday",be],["friday",be],["saturday",be],["sunday",be],["week",be],["month",kn],["year",Qe]]),tp=new Map([["second",ve],["minute",ya],["hour",ba],["day",Un],["monday",ui],["tuesday",Jd],["wednesday",t0],["thursday",Fn],["friday",e0],["saturday",n0],["sunday",br],["week",br],["month",Ei],["year",he]]),ep=new Map([["second",ve],["minute",Ti],["hour",ki],["day",wa],["monday",li],["tuesday",r0],["wednesday",i0],["thursday",In],["friday",o0],["saturday",a0],["sunday",_r],["week",_r],["month",Ai],["year",de]]),Ni=Symbol("intervalDuration"),Ea=Symbol("intervalType");for(const[t,e]of tp)e[Ni]=fs.get(t),e[Ea]="time";for(const[t,e]of ep)e[Ni]=fs.get(t),e[Ea]="utc";const b3=[["year",de,"utc"],["year",he,"time"],["month",Ai,"utc"],["month",Ei,"time"],["day",wa,"utc",6*kn],["day",Un,"time",6*kn],["hour",ki,"utc",3*Ye],["minute",Ti,"utc",6*Mn],["second",ve,"utc",30*xn]];function np(t,e,n){let r=`${t}`.toLowerCase();r.endsWith("s")&&(r=r.slice(0,-1));let i=1;const o=/^(?:(\d+)\s+)/.exec(r);switch(o&&(r=r.slice(o[0].length),i=+o[1]),r){case"quarter":r="month",i*=3;break;case"half":r="month",i*=6;break}let a=e.get(r);if(!a)throw new Error(`unknown interval: ${t}`);if(i>1){if(!a.every)throw new Error(`non-periodic interval: ${r}`);a=a.every(i),a[Ni]=fs.get(r)*i,a[Ea]=n}return a}function rp(t){return np(t,tp,"time")}function cs(t){return np(t,ep,"utc")}function ol(t,e){if(!(e>1))return;const n=t[Ni];if(!hf.some(([,i])=>i===n)||n%Ye===0&&Ye<n&&n<kn)return;const[r]=hf[ea(([,i])=>Math.log(i)).center(hf,Math.log(n*e))];return(t[Ea]==="time"?rp:cs)(r)}function al(t,e,n){const r=e==="time"?Kc:Ci;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=_3(n);switch(t){case"millisecond":return Zn(r(".%L"),r(":%M:%S"),i);case"second":return Zn(r(":%S"),r("%-I:%M"),i);case"minute":return Zn(r("%-I:%M"),r("%p"),i);case"hour":return Zn(r("%-I %p"),r("%b %-d"),i);case"day":return Zn(r("%-d"),r("%b"),i);case"month":return Zn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function _3(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function w3(t,e){const n=ue(h2(t,(r,i)=>Math.abs(i-r)));if(n<1e3)return al("millisecond","utc",e);for(const[r,i,o,a]of b3){if(n>a||r==="hour"&&!n)break;if(t.every(f=>i.floor(f)>=f))return al(r,o,e)}}function Zn(t,e,n){return(r,i,o)=>{const a=t(r,i),f=e(r,i),c=i-vr(o);return i!==c&&o[c]!==void 0&&f===e(o[c],c)?a:n(a,f)}}const hi=Object.getPrototypeOf(Uint8Array),v3=Object.prototype.toString,ip=Symbol("reindex");function At(t,e,n){const r=typeof e;return r==="string"?fl(t,op(e),n):r==="function"?fl(t,e,n):r==="number"||e instanceof Date||r==="boolean"?$t(t,Di(e),n):typeof(e==null?void 0:e.transform)=="function"?cl(e.transform(t),n):x3(cl(e,n),t==null?void 0:t[ip])}function x3(t,e){return e?ps(t,e):t}function fl(t,e,n){return $t(t,(n==null?void 0:n.prototype)instanceof hi?M3(e):e,n)}function cl(t,e){return e===void 0?Zt(t):t instanceof e?t:e.prototype instanceof hi&&!(t instanceof hi)?e.from(t,ls):e.from(t)}function M3(t){return(e,n)=>ls(t(e,n))}const ho=[null],op=t=>e=>e[t],ss={transform:Xe},Ft={transform:t=>t},$3=()=>1,S3=()=>!0,Ut=t=>t==null?t:`${t}`,ht=t=>t==null?t:+t,us=t=>t?t[0]:void 0,yc=t=>t?t[1]:void 0,Di=t=>()=>t;function T3(t){const e=+`${t}`.slice(1)/100;return(n,r)=>ur(n,e,r)}function wr(t){return t instanceof hi?t:$t(t,ls,Float64Array)}function ls(t){return t==null?NaN:Number(t)}function k3(t){return $t(t,ap)}function ap(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?J1(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function We(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Aa(t)?[void 0,t]:[t,void 0]}function Vt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function fp(t,e,n){if(t!=null)return me(t,e,n)}function me(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Zt(t){return t==null||t instanceof Array||t instanceof hi?t:Array.from(t)}function $t(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function di(t,e=Array){return t instanceof e?t.slice():e.from(t)}function E3({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function cp({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function A3(t){return E3(t)||cp(t)||t.interval!==void 0}function hn(t){return(t==null?void 0:t.toString)===v3}function bc(t){return hn(t)&&(t.type!==void 0||t.domain!==void 0)}function hs(t){return hn(t)&&typeof t.transform!="function"}function pi(t){return hs(t)&&t.value===void 0&&t.channel===void 0}function C3(t,e,n,r=Ft){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function ds(t,e){return t===void 0&&e===void 0?[us,yc]:[t,e]}function sp({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=We(e)),t===void 0&&([t]=We(n)),t}function Xe(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function ps(t,e){return $t(e,n=>t[n],t.constructor)}function N3(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function $n(t){return t!==null&&typeof t=="object"?t.valueOf():t}function D3(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Xo(t){let e;return[{transform:()=>e,label:zn(t)},n=>e=n]}function Le(t){return t==null?[t]:Xo(t)}function zn(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function _c(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return Ht(r)||Ht(i)?$t(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):$t(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function up(t,e){const n=lp(e==null?void 0:e.interval,e==null?void 0:e.type);return n?$t(t,n):t}function lp(t,e){const n=gs(t,e);return n&&(r=>cn(r)?n.floor(r):r)}function gs(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Ff(Math.ceil(r*n),i*n).map(o=>o/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Ff(Math.ceil(r/n),i/n).map(o=>o*n)}}if(typeof t=="string")return(e==="time"?rp:cs)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function kr(t,e){if(t=gs(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function L3(t,e){if(t=kr(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function R3(t){return rr(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function rr(t){return typeof(t==null?void 0:t.range)=="function"}function Li(t){return t===void 0||hs(t)?t:{value:t}}function F3(t){return t==null?null:{transform:e=>At(e,t,Float64Array),label:zn(t)}}function dn(t){return t&&typeof t[Symbol.iterator]=="function"}function hp(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function sl(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Ht(t){for(const e of t)if(e!=null)return e instanceof Date}function I3(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&J1(e)}function P3(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function U3(t){for(const e of t)if(e!=null)return typeof e=="number"}function df(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const O3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Aa(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||O3.has(t))}function B3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function zt(t){return t==null||gi(t)}function gi(t){return/^\s*none\s*$/i.test(t)}function z3(t){return/^\s*round\s*$/i.test(t)}function dp(t,e){return fp(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ms(t="middle"){return dp(t,"frameAnchor")}function vr(t){if(t==null)return;const e=t[0],n=t[t.length-1];return _i(e,n)}function q3(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const o=r[i];n===t?n={...n,[i]:o}:n[i]=o}return n}function Y3(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function pp(t){return dn(t)?Y3(t):t}const xe=Symbol("position"),je=Symbol("color"),Ri=Symbol("radius"),Fi=Symbol("length"),Ii=Symbol("opacity"),Ca=Symbol("symbol"),gp=Symbol("projection"),vt=new Map([["x",xe],["y",xe],["fx",xe],["fy",xe],["r",Ri],["color",je],["opacity",Ii],["symbol",Ca],["length",Fi],["projection",gp]]);function W3(t){return t===xe||t===gp}function H3(t){return t===xe||t===Ri||t===Fi||t===Ii}const G3=Math.sqrt(3),V3=2/G3,X3={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*V3,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},mp=new Map([["asterisk",k1],["circle",ts],["cross",E1],["diamond",C1],["diamond2",N1],["hexagon",X3],["plus",D1],["square",L1],["square2",R1],["star",I1],["times",B1],["triangle",P1],["triangle2",U1],["wye",O1]]);function yp(t){return t&&typeof t.draw=="function"}function j3(t){return yp(t)?!0:typeof t!="string"?!1:mp.has(t.toLowerCase())}function ys(t){if(t==null||yp(t))return t;const e=mp.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function bs({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=bp(t)),e!=null&&!pi(e)&&(r=pf(r,wp(e))),n&&(r=pf(r,_p))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(e===null||pi(e))&&{sort:e},transform:pf(r,a)}}function jo({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=bp(t)),e!=null&&!pi(e)&&(r=gf(r,wp(e))),n&&(r=gf(r,_p))),{...i,...(e===null||pi(e))&&{sort:e},initializer:gf(r,o)}}function pf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,Zt(n),r,i)}}function gf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...o){let a,f,c,s,u,h;return{data:f=n,facets:c=r,channels:a}=t.call(this,n,r,i,...o),{data:u=f,facets:h=c,channels:s}=e.call(this,f,c,{...i,...a},...o),{data:u,facets:h,channels:{...a,...s}}}}function bp(t){return(e,n)=>{const r=At(e,t);return{data:e,facets:n.map(i=>i.filter(o=>r[o]))}}}function _p(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function wp(t){return(typeof t=="function"&&t.length!==1?Z3:K3)(t)}function Z3(t){return(e,n)=>{const r=(i,o)=>t(e[i],e[o]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function K3(t){let e,n;({channel:e,value:t,order:n}={...Li(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Vo:pe),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=pe;break;case"descending":n=Vo;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let f;if(e===void 0)f=At(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[e],!f)return{};f=f.value}const c=(s,u)=>n(f[s],f[u]);return{data:i,facets:o.map(s=>s.slice().sort(c))}}}function to(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function Q3(t,e,n=vp){const r=Object.entries(t);return e.title!=null&&t.title===void 0&&r.push(["title",o5]),e.href!=null&&t.href===void 0&&r.push(["href",ws]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?J3(i):n(i,o,e))}function vp(t,e,n,r=xp){let i;hn(e)&&"reduce"in e&&(i=e.scale,e=e.reduce);const o=r(t,e,n),[a,f]=Xo(o.label);let c;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(s){o.initialize(s),c=f([])},scope(s,u){o.scope(s,u)},reduce(s,u){c.push(o.reduce(s,u))}}}function J3(t){return{name:t,initialize(){},scope(){},reduce(){}}}function xp(t,e,n,r=_s){const i=D3(t,n),o=r(e,i);let a,f;return{label:zn(o===Zo?null:i,o.label),initialize(c){a=i===void 0?c:At(c,i),o.scope==="data"&&(f=o.reduceIndex(Xe(c),a))},scope(c,s){o.scope===c&&(f=o.reduceIndex(s,a))},reduce(c,s){return o.scope==null?o.reduceIndex(c,a,s):o.reduceIndex(c,a,f,s)}}}function ul(t,e){return e?ri(ia(t,n=>e[n]),us):[[,t]]}function _s(t,e,n=t5){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&hn(t))return r5(t);if(typeof t=="function")return i5(t);if(/^p\d{2}$/i.test(t))return Re(T3(t));switch(`${t}`.toLowerCase()){case"first":return ws;case"last":return a5;case"identity":return Mp;case"count":return Zo;case"distinct":return f5;case"sum":return e==null?Zo:c5;case"proportion":return hl(e,"data");case"proportion-facet":return hl(e,"facet");case"deviation":return Re(ph);case"min":return Re(Oe);case"min-index":return Re(a2);case"max":return Re(ue);case"max-index":return Re(o2);case"mean":return ll(s2);case"median":return ll(Rf);case"variance":return Re(dh);case"mode":return Re(l2)}return n(t)}function t5(t){throw new Error(`invalid reduce: ${t}`)}function e5(t,e){for(const n in e){const r=e[n];if(r!==void 0&&!t.some(i=>i.name===n))return r}}function n5(t,e,n){if(e){const r=e.output.transform(),i=(o,a)=>pe(r[o],r[a]);t.forEach(o=>o.sort(i))}n&&t.forEach(r=>r.reverse())}function r5(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function i5(t){return{reduceIndex(e,n,r){return t(ps(n,e),r)}}}function Re(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function ll(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return Ht(n)?new Date(r):r}}}const Mp={reduceIndex(t,e){return ps(e,t)}},ws={reduceIndex(t,e){return e[t[0]]}},o5={reduceIndex(t,e){const r=ri(or(t,o=>o.length,o=>e[o]),yc),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[5-1]=[` ${o.length.toLocaleString("en-US")} more`,on(o,yc)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},a5={reduceIndex(t,e){return e[t[t.length-1]]}},Zo={label:"Frequency",reduceIndex(t){return t.length}},f5={label:"Distinct",reduceIndex(t,e){const n=new ra;for(const r of t)n.add(e[r]);return n.size}},c5=Re(on);function hl(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>on(n,o=>r[o])/i}}function mi(t,{scale:e,type:n,value:r,filter:i,hint:o,label:a=zn(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),$p(f,{scale:e,type:n,value:At(t,r),label:a,filter:i,hint:o})}function s5(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,mi(e,r,n)]))}function u5(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:e[i];return[r,a==null?o:$t(o,a)]}));return n.channels=t,n}function $p(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&df(r,Aa)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&df(r,B3)?null:"opacity";break;case"symbol":n!==!0&&df(r,j3)?(e.scale=null,e.value=$t(r,ys)):e.scale="symbol";break;default:e.scale=vt.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!vt.has(n))throw new Error(`unknown scale: ${n}`);return e}function l5(t,e,n,r,i){const{order:o,reverse:a,reduce:f=!0,limit:c}=i;for(const s in i){if(!vt.has(s))continue;let{value:u,order:h=o,reverse:l=a,reduce:d=f,limit:p=c}=Li(i[s]);const g=u==null?void 0:u.startsWith("-");if(g&&(u=u.slice(1)),h=h===void 0?g!==(u==="width"||u==="height")?Tp:Sp:p5(h),d==null||d===!1)continue;const m=s==="fx"||s==="fy"?d5(e,r[s]):h5(n,s);if(!m)throw new Error(`missing channel for scale: ${s}`);const b=m.value,[y=0,v=1/0]=dn(p)?p:p<0?[p]:[0,p];if(u==null)m.domain=()=>{let _=Array.from(new ra(b));return l&&(_=_.reverse()),(y!==0||v!==1/0)&&(_=_.slice(y,v)),_};else{const _=u==="data"?t:u==="height"?dl(n,"y1","y2"):u==="width"?dl(n,"x1","x2"):wc(n,u,u==="y"?"y2":u==="x"?"x2":void 0),w=_s(d===!0?"max":d,_);m.domain=()=>{let x=Jm(Xe(b),$=>w.reduceIndex($,_),$=>b[$]);return h&&x.sort(h),l&&x.reverse(),(y!==0||v!==1/0)&&(x=x.slice(y,v)),x.map(us)}}}}function h5(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function d5(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const f of t[o])i[f]=a}return e}function dl(t,e,n){const r=wc(t,e),i=wc(t,n);return $t(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function wc(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function p5(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Sp;case"descending":return Tp}throw new Error(`invalid order: ${t}`)}function Sp([t,e],[n,r]){return pe(e,r)||pe(t,n)}function Tp([t,e],[n,r]){return Vo(e,r)||pe(t,n)}function pl(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function g5(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>i!==r[o]))&&(n=r,e=t(...r)),e)}const m5=g5(t=>new Intl.NumberFormat(t));function y5(t="en-US"){const e=m5(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function b5(t){return g3(t,"Invalid Date")}function _5(t="en-US"){const e=y5(t);return n=>(n instanceof Date?b5:typeof n=="number"?e:Ut)(n)}const Pn=_5();let vc=0,xc;function w5(){const t=vc;return vc=0,xc=void 0,t}function en(t){t!==xc&&(xc=t,console.warn(t),++vc)}const qt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let v5=0;function gl(){return`plot-clip-${++v5}`}function x5(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:b,mixBlendMode:y,imageFilter:v,paintOrder:_,pointerEvents:w,shapeRendering:x,channels:$},{ariaLabel:E,fill:k="currentColor",fillOpacity:A,stroke:M="none",strokeOpacity:L,strokeWidth:F,strokeLinecap:P,strokeLinejoin:S,strokeMiterlimit:U,paintOrder:R}){k===null&&(f=null,c=null),M===null&&(s=null,h=null),zt(k)?!zt(M)&&(!zt(f)||$!=null&&$.fill)&&(M="none"):zt(M)&&(!zt(s)||$!=null&&$.stroke)&&(k="none");const[Y,I]=We(f,k),[C,O]=Vt(c,A),[z,W]=We(s,M),[J,Z]=Vt(h,L),[X,D]=Vt(b);gi(W)||(u===void 0&&(u=F),d===void 0&&(d=P),l===void 0&&(l=S),p===void 0&&!z3(l)&&(p=U),!gi(I)&&_===void 0&&(_=R));const[q,N]=Vt(u);return k!==null&&(t.fill=Nt(I,"currentColor"),t.fillOpacity=Ur(O,1)),M!==null&&(t.stroke=Nt(W,"none"),t.strokeWidth=Ur(N,1),t.strokeOpacity=Ur(Z,1),t.strokeLinejoin=Nt(l,"miter"),t.strokeLinecap=Nt(d,"butt"),t.strokeMiterlimit=Ur(p,4),t.strokeDasharray=Nt(g,"none"),t.strokeDashoffset=Nt(m,"0")),t.target=Ut(a),t.ariaLabel=Ut(E),t.ariaDescription=Ut(i),t.ariaHidden=Ut(o),t.opacity=Ur(D,1),t.mixBlendMode=Nt(y,"normal"),t.imageFilter=Nt(v,"none"),t.paintOrder=Nt(_,"normal"),t.pointerEvents=Nt(w,"auto"),t.shapeRendering=Nt(x,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:Y,scale:"auto",optional:!0},fillOpacity:{value:C,scale:"auto",optional:!0},stroke:{value:z,scale:"auto",optional:!0},strokeOpacity:{value:J,scale:"auto",optional:!0},strokeWidth:{value:q,optional:!0},opacity:{value:X,scale:"auto",optional:!0}}}function M5(t,e){e&&t.filter(n=>os(e[n])).append("title").call(S5,e)}function $5(t,e){e&&t.filter(([n])=>os(e[n])).append("title").call(T5,e)}function S5(t,e){e&&t.text(n=>Pn(e[n]))}function T5(t,e){e&&t.text(([n])=>Pn(e[n]))}function qn(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:h}){r&&K(t,"aria-label",l=>r[l]),o&&K(t,"fill",l=>o[l]),a&&K(t,"fill-opacity",l=>a[l]),f&&K(t,"stroke",l=>f[l]),c&&K(t,"stroke-opacity",l=>c[l]),s&&K(t,"stroke-width",l=>s[l]),u&&K(t,"opacity",l=>u[l]),h&&Ep(t,l=>h[l],e),n||M5(t,i)}function k5(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:h}){r&&K(t,"aria-label",([l])=>r[l]),o&&K(t,"fill",([l])=>o[l]),a&&K(t,"fill-opacity",([l])=>a[l]),f&&K(t,"stroke",([l])=>f[l]),c&&K(t,"stroke-opacity",([l])=>c[l]),s&&K(t,"stroke-width",([l])=>s[l]),u&&K(t,"opacity",([l])=>u[l]),h&&Ep(t,([l])=>h[l],e),n||$5(t,i)}function E5({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:c},{tip:s}){return[t,s?void 0:e,n,r,i,o,a,f,c].filter(u=>u!==void 0)}function A5(t,e,n){const r=ia(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&en("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*C5(t,e,n,r){const{z:i}=n,{z:o}=r,a=E5(r,n),f=[...e,...a];for(const c of o?A5(t,o,i):[t]){let s,u;t:for(const h of c){for(const l of f)if(!cn(l[h])){u&&u.push(-1);continue t}if(s===void 0){u&&(yield u),s=a.map(l=>$n(l[h])),u=[h];continue}u.push(h);for(let l=0;l<a.length;++l)if($n(a[l][h])!==s[l]){yield u,s=a.map(p=>$n(p[h])),u=[h];continue t}}u&&(yield u)}}function kp(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=me(t,"clip",["frame","sphere"])),t}function N5(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":{const{width:a,height:f,marginLeft:c,marginRight:s,marginTop:u,marginBottom:h}=n,l=gl();i=`url(#${l})`,t=It("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",l).append("rect").attr("x",c).attr("y",u).attr("width",a-s-c).attr("height",f-u-h)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const f=gl();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",Wc(a)({type:"Sphere"}));break}}K(t,"aria-label",e.ariaLabel),K(t,"aria-description",e.ariaDescription),K(t,"aria-hidden",e.ariaHidden),K(t,"clip-path",i)}function Ze(t,e,n,r){N5(t,e,n,r),K(t,"fill",e.fill),K(t,"fill-opacity",e.fillOpacity),K(t,"stroke",e.stroke),K(t,"stroke-width",e.strokeWidth),K(t,"stroke-opacity",e.strokeOpacity),K(t,"stroke-linejoin",e.strokeLinejoin),K(t,"stroke-linecap",e.strokeLinecap),K(t,"stroke-miterlimit",e.strokeMiterlimit),K(t,"stroke-dasharray",e.strokeDasharray),K(t,"stroke-dashoffset",e.strokeDashoffset),K(t,"shape-rendering",e.shapeRendering),K(t,"filter",e.imageFilter),K(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;K(t,"pointer-events",i)}function Ke(t,e){D5(t,"mix-blend-mode",e.mixBlendMode),K(t,"opacity",e.opacity)}function Ep(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const o=this.ownerDocument.createElementNS(lr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(lr.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function K(t,e,n){n!=null&&t.attr(e,n)}function D5(t,e,n){n!=null&&t.style(e,n)}function Ee(t,e,{x:n,y:r},i=qt,o=qt){i+=e.dx,o+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function Nt(t,e){if((t=Ut(t))!==e)return t}function Ur(t,e){if((t=ht(t))!==e)return t}const L5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function vs(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!L5.test(t))throw new Error(`invalid class name: ${t}`);return t}function xs(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Na({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}function Ms(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:kp(n)}}function It(t,{document:e}){return Zr(aa(t).call(e.documentElement))}const Ap=Math.PI,Ce=2*Ap,ml=.618;function R5({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,s="frame";if(hn(t)){let w;if({type:t,domain:c,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:o=w!==void 0?w:o,clip:s=s,...f}=t,t==null)return}typeof t!="function"&&({type:t}=Cp(t));const{width:u,height:h,marginLeft:l,marginRight:d,marginTop:p,marginBottom:g}=a,m=u-l-d-o-r,b=h-p-g-n-i;if(t=t==null?void 0:t({width:m,height:b,clip:s,...f}),t==null)return;s=F5(s,l,p,u-d,h-g);let y=l+o,v=p+n,_;if(c!=null){const[[w,x],[$,E]]=Wc(t).bounds(c),k=Math.min(m/($-w),b/(E-x));k>0?(y-=(k*(w+$)-m)/2,v-=(k*(x+E)-b)/2,_=sc({point(A,M){this.stream.point(A*k+y,M*k+v)}})):en("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=y===0&&v===0?Np():sc({point(w,x){this.stream.point(w+y,x+v)}})),{stream:w=>t.stream(_.stream(s(w)))}}function Cp(t){switch(`${t}`.toLowerCase()){case"albers-usa":return ae(qw,.7463,.4673);case"albers":return eo(Nd,.7463,.4673);case"azimuthal-equal-area":return ae(Yw,4,4);case"azimuthal-equidistant":return ae(Ww,Ce,Ce);case"conic-conformal":return eo(Vw,Ce,Ce);case"conic-equal-area":return eo(Io,6.1702,2.9781);case"conic-equidistant":return eo(Zw,7.312,3.6282);case"equal-earth":return ae(Qw,5.4133,2.6347);case"equirectangular":return ae(Xw,Ce,Ap);case"gnomonic":return ae(Jw,3.4641,3.4641);case"identity":return{type:Np};case"reflect-y":return{type:I5};case"mercator":return ae(Hw,Ce,Ce);case"orthographic":return ae(tv,2,2);case"stereographic":return ae(ev,2,2);case"transverse-mercator":return ae(nv,Ce,Ce);default:throw new Error(`unknown projection type: ${t}`)}}function F5(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return gd(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function ae(t,e,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var s,u,h;const c=t();return a!=null&&((s=c.precision)==null||s.call(c,a)),o!=null&&((u=c.rotate)==null||u.call(c,o)),typeof f=="number"&&((h=c.clipAngle)==null||h.call(c,f)),c.scale(Math.min(r/e,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/e}}function eo(t,e,n){const{type:r,aspectRatio:i}=ae(t,e,n);return{type:o=>{const{parallels:a,domain:f,width:c,height:s}=o,u=r(o);return a!=null&&(u.parallels(a),f===void 0&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const Np=Di({stream:t=>t}),I5=Di(sc({point(t,e){this.stream.point(t,-e)}}));function P5(t,e,n,r){const i=n[t],o=n[e],a=i.length,f=n[t]=new Float64Array(a).fill(NaN),c=n[e]=new Float64Array(a).fill(NaN);let s;const u=r.stream({point(h,l){f[s]=h,c[s]=l}});for(s=0;s<a;++s)u.point(i[s],o[s])}function U5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(hn(t)&&(t=t.type),t!=null)}function O5(t){if(typeof(t==null?void 0:t.stream)=="function")return ml;if(hn(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=Cp(t);if(e)return e}return ml}}function B5(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(a,f){e.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)_n(a,o);return[r,i]}const Dp=new Map([["accent",S6],["category10",$6],["dark2",T6],["paired",k6],["pastel1",E6],["pastel2",A6],["set1",C6],["set2",N6],["set3",D6],["tableau10",L6]]);function z5(t){return t!=null&&Dp.has(`${t}`.toLowerCase())}const yl=new Map([...Dp,["brbg",Ne(y0,b0)],["prgn",Ne(_0,w0)],["piyg",Ne(v0,x0)],["puor",Ne(M0,$0)],["rdbu",Ne(pc,Bo)],["rdgy",Ne(S0,T0)],["rdylbu",Ne(gc,zo)],["rdylgn",Ne(k0,E0)],["spectral",Ne(A0,C0)],["burd",bl(pc,Bo)],["buylrd",bl(gc,zo)],["blues",kt(e1,n1)],["greens",kt(r1,i1)],["greys",kt(o1,a1)],["oranges",kt(l1,h1)],["purples",kt(f1,c1)],["reds",kt(s1,u1)],["turbo",De(_1)],["viridis",De(w1)],["magma",De(v1)],["inferno",De(x1)],["plasma",De(M1)],["cividis",De(d1)],["cubehelix",De(p1)],["warm",De(g1)],["cool",De(m1)],["bugn",kt(N0,D0)],["bupu",kt(L0,R0)],["gnbu",kt(F0,I0)],["orrd",kt(P0,U0)],["pubu",kt(z0,q0)],["pubugn",kt(O0,B0)],["purd",kt(Y0,W0)],["rdpu",kt(H0,G0)],["ylgn",kt(j0,Z0)],["ylgnbu",kt(V0,X0)],["ylorbr",kt(K0,Q0)],["ylorrd",kt(J0,t1)],["rainbow",_l(y1)],["sinebow",_l(b1)]]);function kt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?le(e,n):t[n])}function Ne(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?le(e,n):t[n])}function bl(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?le(r=>e(1-r),n):t[n].slice().reverse())}function De(t){return({length:e})=>le(t,Math.max(2,Math.floor(e)))}function _l(t){return({length:e})=>le(t,Math.floor(e)+1).slice(0,-1)}function Lp(t){const e=`${t}`.toLowerCase();if(!yl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return yl.get(e)}function Da(t,e){const n=Lp(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function q5(t,e="greys"){const n=new Set,[r,i]=Da(e,2);for(const o of t)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const wl=new Map([["brbg",b0],["prgn",w0],["piyg",x0],["puor",$0],["rdbu",Bo],["rdgy",T0],["rdylbu",zo],["rdylgn",E0],["spectral",C0],["burd",t=>Bo(1-t)],["buylrd",t=>zo(1-t)],["blues",n1],["greens",i1],["greys",a1],["purples",c1],["reds",u1],["oranges",h1],["turbo",_1],["viridis",w1],["magma",v1],["inferno",x1],["plasma",M1],["cividis",d1],["cubehelix",p1],["warm",g1],["cool",m1],["bugn",D0],["bupu",R0],["gnbu",I0],["orrd",U0],["pubugn",B0],["pubu",q0],["purd",W0],["rdpu",G0],["ylgnbu",X0],["ylgn",Z0],["ylorbr",Q0],["ylorrd",t1],["rainbow",y1],["sinebow",b1]]);function $s(t){const e=`${t}`.toLowerCase();if(!wl.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return wl.get(e)}const Y5=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function W5(t){return t!=null&&Y5.has(`${t}`.toLowerCase())}const Rp=t=>e=>t(1-e),mf=[0,1],vl=new Map([["number",Lt],["rgb",Dn],["hsl",Ib],["hcl",Ob],["lab",Pb]]);function Fp(t){const e=`${t}`.toLowerCase();if(!vl.has(e))throw new Error(`unknown interpolator: ${e}`);return vl.get(e)}function Pi(t,e,n,{type:r,nice:i,clamp:o,zero:a,domain:f=Pp(t,n),unknown:c,round:s,scheme:u,interval:h,range:l=vt.get(t)===Ri?e8(n,f):vt.get(t)===Fi?n8(n,f):vt.get(t)===Ii?mf:void 0,interpolate:d=vt.get(t)===je?u==null&&l!==void 0?Dn:$s(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?Pc:Lt,reverse:p}){if(h=kr(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=Fp(d)),p=!!p,l!==void 0){const g=(f=Zt(f)).length,m=(l=Zt(l)).length;if(g!==m){if(d.length===1)throw new Error("invalid piecewise interpolator");d=sa(d,l),l=void 0}}if(d.length===1?(p&&(d=Rp(d),p=!1),l===void 0&&(l=Float64Array.from(f,(g,m)=>m/(f.length-1)),l.length===2&&(l=mf)),e.interpolate((l===mf?Di:Ts)(d))):e.interpolate(d),a){const[g,m]=Jt(f);(g>0||m<0)&&(f=di(f),vr(f)!==Math.sign(g)?f[f.length-1]=0:f[0]=0)}return p&&(f=bo(f)),e.domain(f).unknown(c),i&&(e.nice(H5(i,r)),f=e.domain()),l!==void 0&&e.range(l),o&&e.clamp(o),{type:r,domain:f,range:l,scale:e,interpolate:d,interval:h}}function H5(t,e){return t===!0?void 0:typeof t=="number"?t:L3(t,e)}function G5(t,e,n){return Pi(t,jc(),e,n)}function V5(t,e,n){return Ip(t,e,{...n,exponent:.5})}function Ip(t,e,{exponent:n=1,...r}){return Pi(t,Zd().exponent(n),e,{...r,type:"pow"})}function X5(t,e,{base:n=10,domain:r=r8(e),...i}){return Pi(t,Gd().base(n),e,{...i,domain:r})}function j5(t,e,{constant:n=1,...r}){return Pi(t,Xd().constant(n),e,r)}function Z5(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=i8(e),unknown:f,interpolate:c,reverse:s}){return n===void 0&&(n=c!==void 0?le(c,i):vt.get(t)===je?Da(o,i):void 0),a.length>0&&(a=Kd(a,n===void 0?{length:i}:n).quantiles()),Ss(t,e,{domain:a,range:n,reverse:s,unknown:f})}function K5(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=Pp(t,e),unknown:a,interpolate:f,reverse:c}){const[s,u]=Jt(o);let h;return n===void 0?(h=ii(s,u,r),h[0]<=s&&h.splice(0,1),h[h.length-1]>=u&&h.pop(),r=h.length+1,n=f!==void 0?le(f,r):vt.get(t)===je?Da(i,r):void 0):(h=le(Lt(s,u),r+1).slice(1,-1),s instanceof Date&&(h=h.map(l=>new Date(l)))),vr(Zt(o))<0&&h.reverse(),Ss(t,e,{domain:h,range:n,reverse:c,unknown:a})}function Ss(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?le(o,n.length+1):vt.get(t)===je?Da(i,n.length+1):void 0,reverse:f}){n=Zt(n);const c=vr(n);if(!isNaN(c)&&!Q5(n,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=bo(a)),{type:"threshold",scale:Qd(c<0?bo(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function Q5(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const o=_i(i,i=t[n]);if(o!==0&&o!==e)return!1}return!0}function J5(t){return{type:"identity",scale:H3(vt.get(t))?Yd():e=>e}}function yi(t,e=K1){return t.length?[Oe(t,({value:n})=>n===void 0?n:Oe(n,e)),ue(t,({value:n})=>n===void 0?n:ue(n,e))]:[0,1]}function Pp(t,e){const n=vt.get(t);return(n===Ri||n===Ii||n===Fi?t8:yi)(e)}function t8(t){return[0,t.length?ue(t,({value:e})=>e===void 0?e:ue(e,K1)):1]}function e8(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=ur(t,.5,({value:a})=>a===void 0?NaN:ur(a,.25,as)),i=e.map(a=>3*Math.sqrt(a/r)),o=30/ue(i);return o<1?i.map(a=>a*o):i}function n8(t,e){const n=Rf(t,({value:o})=>o===void 0?NaN:Rf(o,Math.abs)),r=e.map(o=>12*o/n),i=60/ue(r);return i<1?r.map(o=>o*i):r}function r8(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return yi(t,as);if(n<0)return yi(t,Q1)}return[1,10]}function i8(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function Ts(t){return(e,n)=>r=>t(e+r*(n-e))}function La(t,e,n,r,{type:i,nice:o,clamp:a,domain:f=yi(r),unknown:c,pivot:s=0,scheme:u,range:h,symmetric:l=!0,interpolate:d=vt.get(t)===je?u==null&&h!==void 0?Dn:$s(u!==void 0?u:"rdbu"):Lt,reverse:p}){s=+s,f=Zt(f);let[g,m]=f;if(f.length>2&&en(`Warning: the diverging ${t} scale domain contains extra elements.`),_i(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,s),m=Math.max(m,s),typeof d!="function"&&(d=Fp(d)),h!==void 0&&(d=d.length===1?Ts(d)(...h):sa(d,h)),p&&(d=Rp(d)),l){const b=n.apply(s),y=b-n.apply(g),v=n.apply(m)-b;y<v?g=n.invert(b-v):y>v&&(m=n.invert(b+y))}return e.domain([g,s,m]).unknown(c).interpolator(d),a&&e.clamp(a),o&&e.nice(o),{type:i,domain:[g,m],pivot:s,interpolate:d,scale:e}}function o8(t,e,n){return La(t,d0(),s8,e,n)}function a8(t,e,n){return Up(t,e,{...n,exponent:.5})}function Up(t,e,{exponent:n=1,...r}){return La(t,m0().exponent(n=+n),h8(n),e,{...r,type:"diverging-pow"})}function f8(t,e,{base:n=10,pivot:r=1,domain:i=yi(e,r<0?Q1:as),...o}){return La(t,p0().base(n=+n),u8,e,{domain:i,pivot:r,...o})}function c8(t,e,{constant:n=1,...r}){return La(t,g0().constant(n=+n),d8(n),e,r)}const s8={apply(t){return t},invert(t){return t}},u8={apply:Math.log,invert:Math.exp},l8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function h8(t){return t===.5?l8:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function d8(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function Op(t,e,n,r){return Pi(t,e,n,r)}function p8(t,e,n){return Op(t,x6(),e,n)}function g8(t,e,n){return Op(t,M6(),e,n)}const Ui=Symbol("ordinal");function Bp(t,e,n,{type:r,interval:i,domain:o,range:a,reverse:f,hint:c}){return i=kr(i,r),o===void 0&&(o=qp(n,i,t)),(r==="categorical"||r===Ui)&&(r="ordinal"),f&&(o=bo(o)),o=e.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),e.range(a)),{type:r,domain:o,range:a,scale:e,hint:c,interval:i}}function m8(t,e,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:f,...c}){r=kr(r,n),i===void 0&&(i=qp(e,r,t));let s;if(vt.get(t)===Ca)s=_8(e),o=o===void 0?w8(s):$t(o,ys);else if(vt.get(t)===je&&(o===void 0&&(n==="ordinal"||n===Ui)&&(o=q5(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const u=$s(a),h=o[0],l=o[1]-o[0];o=({length:d})=>le(p=>u(h+l*p),d)}else o=Lp(a);if(f===lc)throw new Error(`implicit unknown on ${t} scale is not supported`);return Bp(t,Xc().unknown(f),e,{...c,type:n,domain:i,range:o,hint:s})}function y8(t,e,{align:n=.5,padding:r=.5,...i}){return zp(rv().align(n).padding(r),e,i,t)}function b8(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return zp(ga().align(n).paddingInner(i).paddingOuter(o),e,a,t)}function zp(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=Bp(r,t,e,n),t.round=i,t}function qp(t,e,n){const r=new ra;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,o]=Jt(r).map(e.floor,e);return e.range(i,e.offset(o))}if(r.size>1e4&&vt.get(n)===xe)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return ri(r,pe)}function xl(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function _8(t){return{fill:xl(t,"fill"),stroke:xl(t,"stroke")}}function w8(t){return zt(t.fill)?K6:Z6}function Mc(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:f,nice:c,clamp:s,zero:u,align:h,padding:l,projection:d,facet:{label:p=e}={},...g}={}){const m={};for(const[b,y]of t){const v=g[b],_=$8(b,y,{round:vt.get(b)===xe?f:void 0,nice:c,clamp:s,zero:u,align:h,padding:l,projection:d,...v});if(_){let{label:w=b==="fx"||b==="fy"?p:e,percent:x,transform:$,inset:E,insetTop:k=E!==void 0?E:b==="y"?r:0,insetRight:A=E!==void 0?E:b==="x"?i:0,insetBottom:M=E!==void 0?E:b==="y"?o:0,insetLeft:L=E!==void 0?E:b==="x"?a:0}=v||{};if($==null)$=void 0;else if(typeof $!="function")throw new Error("invalid scale transform; not a function");_.percent=!!x,_.label=w===void 0?x8(y,_):w,_.transform=$,b==="x"||b==="fx"?(_.insetLeft=+L,_.insetRight=+A):(b==="y"||b==="fy")&&(_.insetTop=+k,_.insetBottom=+M),m[b]=_}}return m}function Ml(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:c}=i;e[r]=A8(i),n[r]=o,o.type=a,f!=null&&(o.interval=f),c!=null&&(o.label=c)}return n}function v8(t,e){const{x:n,y:r,fx:i,fy:o}=t,a=i||o?ks(e):e;i&&$l(i,a),o&&Sl(o,a);const f=i||o?Yp(t,e):e;n&&$l(n,f),r&&Sl(r,f)}function x8(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Yn(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function ks(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:o,height:a}}function Yp({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=ks(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:e?e.scale.bandwidth()+r+o:c,facet:{width:f,height:c}}}function $l(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=e,f=o+n,c=i-a-r;t.range=[f,Math.max(f,c)],Yn(t)||(t.range=Hp(t)),t.scale.range(t.range)}Wp(t)}function Sl(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=e,f=o+n,c=i-a-r;t.range=[Math.max(f,c),f],Yn(t)?t.range.reverse():t.range=Hp(t),t.scale.range(t.range)}Wp(t)}function Wp(t){t.round===void 0&&T8(t)&&M8(t)<=30&&t.scale.round(!0)}function M8({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,f=Math.abs(r-n)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function Hp(t){const e=t.scale.domain().length+Gp(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,o)=>n+o/(e-1)*(r-n))}function $8(t,e=[],n={}){const r=S8(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Yn({type:r})){const i=e.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Ht)?en(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Kn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Kn(r)}".`):i.some(I3)?en(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Kn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Kn(r)}".`):i.some(P3)&&en(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Kn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Kn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=no(e,n,wr);break;case"identity":switch(vt.get(t)){case xe:n=no(e,n,wr);break;case Ca:n=no(e,n,k8);break}break;case"utc":case"time":n=no(e,n,k3);break}switch(r){case"diverging":return o8(t,e,n);case"diverging-sqrt":return a8(t,e,n);case"diverging-pow":return Up(t,e,n);case"diverging-log":return f8(t,e,n);case"diverging-symlog":return c8(t,e,n);case"categorical":case"ordinal":case Ui:return m8(t,e,n);case"cyclical":case"sequential":case"linear":return G5(t,e,n);case"sqrt":return V5(t,e,n);case"threshold":return Ss(t,e,n);case"quantile":return Z5(t,e,n);case"quantize":return K5(t,e,n);case"pow":return Ip(t,e,n);case"log":return X5(t,e,n);case"symlog":return j5(t,e,n);case"utc":return g8(t,e,n);case"time":return p8(t,e,n);case"point":return y8(t,e,n);case"band":return b8(t,e,n);case"identity":return J5(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Kn(t){return typeof t=="symbol"?t.description:t}const Tl={toString:()=>"projection"};function S8(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=Tl);for(const{type:s}of e)if(s!==void 0){if(n===void 0)n=s;else if(n!==s)throw new Error(`scale incompatible with channel: ${n} !== ${s}`)}if(n===Tl)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:s})=>s!==void 0))return;const c=vt.get(t);if(c===Ri)return"sqrt";if(c===Ii||c===Fi)return"linear";if(c===Ca)return"ordinal";if((r||i||[]).length>2)return yf(c);if(r!==void 0){if(sl(r))return yf(c);if(Ht(r))return"utc"}else{const s=e.map(({value:u})=>u).filter(u=>u!==void 0);if(s.some(sl))return yf(c);if(s.some(Ht))return"utc"}if(c===je){if(a!=null||W5(o))return"diverging";if(z5(o))return"categorical"}return"linear"}function yf(t){switch(t){case xe:return"point";case je:return Ui;default:return"ordinal"}}function Yn({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Ui}function Gp({type:t}){return t==="threshold"}function T8({type:t}){return t==="point"||t==="band"}function xr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function no(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function k8(t){return $t(t,ys)}function E8(t){return e=>{if(!vt.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function A8({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:c}){if(e==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=t.unknown?t.unknown():void 0;return{type:e,domain:di(n),...r!==void 0&&{range:di(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...s!==void 0&&{unknown:s},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:u=>t(u),...t.invert&&{invert:u=>t.invert(u)}}}function C8(t,e,n={}){let r=.5-qt,i=.5+qt,o=.5+qt,a=.5-qt;for(const{marginTop:g,marginRight:m,marginBottom:b,marginLeft:y}of e)g>r&&(r=g),m>i&&(i=m),b>o&&(o=b),y>a&&(a=y);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:o,marginLeft:h=f!==void 0?f:a}=n;c=+c,s=+s,u=+u,h=+h;let{width:l=640,height:d=N8(t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+u-o)}=n;l=+l,d=+d;const p={width:l,height:d,marginTop:c,marginRight:s,marginBottom:u,marginLeft:h};if(t.fx||t.fy){let{margin:g,marginTop:m=g!==void 0?g:c,marginRight:b=g!==void 0?g:s,marginBottom:y=g!==void 0?g:u,marginLeft:v=g!==void 0?g:h}=n.facet??{};m=+m,b=+b,y=+y,v=+v,p.facet={marginTop:m,marginRight:b,marginBottom:y,marginLeft:v}}return p}function N8({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const h=n?n.scale.domain().length:1,l=O5(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*h-.1)/(1.1*p-.1)*l,m=Math.max(.1,Math.min(10,g));return Math.round((a-u-c)*m+f+s)}const d=e?Yn(e)?e.scale.domain().length:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=kl("y",e)/(kl("x",t)*o),g=r?r.scale.bandwidth():1,m=n?n.scale.bandwidth():1,b=g*(a-u-c)-t.insetLeft-t.insetRight;return(p*b+e.insetTop+e.insetBottom)/m+f+s}return!!(e||n)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function kl(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=e.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,a]=Jt(r);return Math.abs(i(a)-i(o))}function D8(t,e){const{fx:n,fy:r}=Mc(t,e),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?Km(i,o).map(([a,f],c)=>({x:a,y:f,i:c})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function L8(t,{x:e,y:n}){return e&&(e=$c(e)),n&&(n=$c(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Es(t,{fx:e,fy:n}){const r=Xe(t),i=e==null?void 0:e.value,o=n==null?void 0:n.value;return e&&n?or(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):e?or(r,a=>(a.fx=i[a[0]],a),a=>i[a]):or(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function R8(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function F8(t){const e=[],n=new Uint32Array(on(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(n.set(o,i),i+=o.length);e.push(n.slice(0,i))}return e}const I8=new Map([["top",bf],["right",vf],["bottom",_f],["left",wf],["top-left",ro(bf,wf)],["top-right",ro(bf,vf)],["bottom-left",ro(_f,wf)],["bottom-right",ro(_f,vf)],["top-empty",O8],["right-empty",q8],["bottom-empty",B8],["left-empty",z8],["empty",Y8]]);function P8(t){if(t==null)return null;const e=I8.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const El=new WeakMap;function $c(t){let e=El.get(t);return e||El.set(t,e=new An($t(t,(n,r)=>[n,r]))),e}function pn(t,e){return $c(t).get(e)}function U8(t,e,n){return e=$n(e),n=$n(n),t.find(r=>Object.is($n(r.x),e)&&Object.is($n(r.y),n))}function Ra(t,e,n){var r;return(r=U8(t,e,n))==null?void 0:r.empty}function bf(t,{y:e},{y:n}){return e?pn(e,n)===0:!0}function _f(t,{y:e},{y:n}){return e?pn(e,n)===e.length-1:!0}function wf(t,{x:e},{x:n}){return e?pn(e,n)===0:!0}function vf(t,{x:e},{x:n}){return e?pn(e,n)===e.length-1:!0}function O8(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=pn(e,r);if(o>0)return Ra(t,n,e[o-1])}function B8(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=pn(e,r);if(o<e.length-1)return Ra(t,n,e[o+1])}function z8(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=pn(e,n);if(o>0)return Ra(t,e[o-1],r)}function q8(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=pn(e,n);if(o<e.length-1)return Ra(t,e[o+1],r)}function Y8(t,e,{empty:n}){return n}function ro(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function xf(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class oe{constructor(e,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:c,sort:s,dx:u=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:p=l,marginBottom:g=l,marginLeft:m=l,clip:b=i==null?void 0:i.clip,channels:y,tip:v,render:_}=r;if(this.data=e,this.sort=pi(s)?s:null,this.initializer=jo(r).initializer,this.transform=this.initializer?r.transform:bs(r).transform,o===null||o===!1?this.facet=null:(this.facet=me(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=e===ho&&typeof f=="string"?[f]:f,this.fy=e===ho&&typeof c=="string"?[c]:c),this.facetAnchor=P8(a),n=pp(n),y!==void 0&&(n={...W8(y),...n}),i!==void 0&&(n={...x5(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([w,x])=>{if(hs(x.value)){const{value:$,label:E=x.label,scale:k=x.scale}=x.value;x={...x,label:E,scale:k,value:$}}if(e===ho&&typeof x.value=="string"){const{value:$}=x;x={...x,value:[$]}}return[w,x]}).filter(([w,{value:x,optional:$}])=>{if(x!=null)return!0;if($)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+u,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=kp(b),this.tip=H8(v),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:x}=n[w];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}_!=null&&(this.render=Xp(_,this.render))}initialize(e,n,r){let i=Zt(this.data);e===void 0&&i!=null&&(e=[Xe(i)]);const o=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=Zt(i)),e!==void 0&&(e.original=o);const a=s5(this.channels,i);return this.sort!=null&&l5(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:o=cn}=n[i];if(o!==null){const a=r[i];e=e.filter(f=>o(a[f]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in e&&e[o].scale==="y"&&P5(i,o,n,r.projection)}}scale(e,n,r){const i=u5(e,n);return r.projection&&this.project(e,i,r),i}}function Vp(...t){return t.plot=oe.prototype.plot,t}function Xp(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,a,f){return t.call(this,n,r,i,o,a,(c,s,u,h,l)=>e.call(this,c,s,u,h,l,f))}}function W8(t){return Object.fromEntries(Object.entries(pp(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:Li(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function H8(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?me(t,"tip",["x","y","xy"]):t}function Fa(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:hn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const Al=new WeakMap;function As(t,e,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:c,...s}={}){return a=+a,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:n,y:r,channels:f,...s,render:Xp(function(u,h,l,d,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:b}=p.getMarkState(this);let y=Al.get(m);y||Al.set(m,y={sticky:!1,roots:[],renders:[]});let v=y.renders.push(W)-1;const{x:_,y:w,fx:x,fy:$}=h;let E=x?x(u.fx)-d.marginLeft:0,k=$?$(u.fy)-d.marginTop:0;_!=null&&_.bandwidth&&(E+=_.bandwidth()/2),w!=null&&w.bandwidth&&(k+=w.bandwidth()/2);const A=u.fi!=null;let M;if(A){let D=y.facetStates;D||(y.facetStates=D=new Map),M=D.get(this),M||D.set(this,M=new Map)}const[L,F]=Na(this,d),{px:P,py:S}=l,U=P?D=>P[D]:jp(l,L),R=S?D=>S[D]:Zp(l,F);let Y,I,C,O;function z(D,q){if(A)if(O&&(O=cancelAnimationFrame(O)),D==null)M.delete(u.fi);else{M.set(u.fi,q),O=requestAnimationFrame(()=>{O=null;for(const[N,H]of M)if(H<q||H===q&&N<u.fi){D=null;break}W(D)});return}W(D)}function W(D){if(Y===D&&C===y.sticky)return;Y=D,C=p.pointerSticky=y.sticky;const q=Y==null?[]:[Y];A&&(q.fx=u.fx,q.fy=u.fy,q.fi=u.fi);const N=g(q,h,l,d,p);if(I){if(A){const H=I.parentNode,V=I.getAttribute("transform"),T=N.getAttribute("transform");V?N.setAttribute("transform",V):N.removeAttribute("transform"),T?H.setAttribute("transform",T):H.removeAttribute("transform"),N.removeAttribute("aria-label"),N.removeAttribute("aria-description"),N.removeAttribute("aria-hidden")}I.replaceWith(N)}return y.roots[v]=I=N,Y==null&&(M==null?void 0:M.size)>1||p.dispatchValue(Y==null?null:b[Y]),N}function J(D){if(y.sticky||D.pointerType==="mouse"&&D.buttons===1)return;let[q,N]=ib(D);q-=E,N-=k;const H=q<d.marginLeft||q>d.width-d.marginRight?1:t,V=N<d.marginTop||N>d.height-d.marginBottom?1:e;let T=null,ot=a*a;for(const G of u){const at=H*(U(G)-q),dt=V*(R(G)-N),Dt=at*at+dt*dt;Dt<=ot&&(T=G,ot=Dt)}if(T!=null&&(t!==1||e!==1)){const G=U(T)-q,at=R(T)-N;ot=G*G+at*at}z(T,ot)}function Z(D){D.pointerType==="mouse"&&Y!=null&&(y.sticky&&y.roots.some(q=>q==null?void 0:q.contains(D.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(q=>q(null))):(y.sticky=!0,W(Y)),D.stopImmediatePropagation()))}function X(D){D.pointerType==="mouse"&&(y.sticky||z(null))}return m.addEventListener("pointerenter",J),m.addEventListener("pointermove",J),m.addEventListener("pointerdown",Z),m.addEventListener("pointerleave",X),W(null)},c)}}function G8(t){return As(1,1,t)}function V8(t){return As(1,.01,t)}function X8(t){return As(.01,1,t)}function jp({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function Zp({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function Kp(t){return Yn(t)&&t.interval===void 0?void 0:"tabular-nums"}function j8(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:h=(i-s-f)/64,tickFormat:l,fontVariant:d=Kp(t),round:p=!0,opacity:g,className:m}=e;const b=Ms(e);m=vs(m),g=Vt(g)[1],l===null&&(l=()=>null);const y=It("svg",b).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(L=>L.append("style").text(`.${m}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${m}-ramp text {
  white-space: pre;
}`)).call(xs,u);let v=L=>L.selectAll(".tick line").attr("y1",a+c-o),_;const w=p?(L,F)=>L.rangeRound(F):(L,F)=>L.range(F),{type:x,domain:$,range:E,interpolate:k,scale:A,pivot:M}=t;if(k){const L=E===void 0?k:sa(k.length===1?Ts(k):k,E);_=w(A.copy(),le(Lt(s,i-f),Math.min($.length+(M!==void 0),E===void 0?1/0:E.length)));const F=256,P=b.document.createElement("canvas");P.width=F,P.height=1;const S=P.getContext("2d");for(let U=0,R=F-1;U<F;++U)S.fillStyle=L(U/R),S.fillRect(U,0,1,1);y.append("image").attr("opacity",g).attr("x",s).attr("y",a).attr("width",i-s-f).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(x==="threshold"){const L=$,F=l===void 0?P=>P:typeof l=="string"?Sr(l):l;_=w(jc().domain([-1,E.length-1]),[s,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(E).enter().append("rect").attr("x",(P,S)=>_(S-1)).attr("y",a).attr("width",(P,S)=>_(S)-_(S-1)).attr("height",o-a-c).attr("fill",P=>P),h=$t(L,(P,S)=>S),l=P=>F(L[P],P)}else _=w(ga().domain($),[s,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data($).enter().append("rect").attr("x",_).attr("y",a).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-a-c).attr("fill",A),v=()=>{};return y.append("g").attr("transform",`translate(0,${o-c})`).call(v2(_).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Nt(d,"normal")).call(v).call(L=>L.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",s).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}const Qp=Math.PI/180;function Ia(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=Mf(n),t.markerMid=Mf(r),t.markerEnd=Mf(i)}function Mf(t){if(t==null||t===!1)return null;if(t===!0)return Nl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Cl("auto");case"arrow-reverse":return Cl("auto-start-reverse");case"dot":return Z8;case"circle":case"circle-fill":return Nl;case"circle-stroke":return K8}throw new Error(`invalid marker: ${t}`)}function Cl(t){return(e,n)=>It("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Z8(t,e){return It("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Nl(t,e){return It("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function K8(t,e){return It("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let Q8=0;function Cs(t,e,{stroke:n},r){return Jp(t,e,n&&(i=>n[i]),r)}function J8(t,e,{stroke:n},r){return Jp(t,e,n&&(([i])=>n[i]),r)}function Jp(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a){const f=new Map;function c(s){return function(u){const h=o(u);let l=f.get(s);l||f.set(s,l=new Map);let d=l.get(h);if(!d){const p=this.parentNode.insertBefore(s(h,a),this),g=`plot-marker-${++Q8}`;p.setAttribute("id",g),l.set(h,d=`url(#${g})`)}return d}}e&&t.attr("marker-start",c(e)),n&&t.attr("marker-mid",c(n)),r&&t.attr("marker-end",c(r))}function Ns({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=eg(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function tg({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=eg(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function eg(t,e,n){return t===void 0&&e===void 0&&n===void 0?qt?[1,0]:[.5,.5]:[e,n]}function ng(t,{interval:e}){return t={...Li(t)},t.interval=gs(t.interval===void 0?e:t.interval),t}function rg(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=n,{value:f,interval:c}=ng(i,n);if(f==null||c==null&&!r)return n;const s=zn(i);if(c==null){let d;const p={transform:g=>d||(d=At(g,f)),label:s};return{...n,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0?p:a}}let u,h;function l(d){return h!==void 0&&d===u?h:h=$t(At(u=d,f),p=>c.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:s}:o,[`${t}2`]:a===void 0?{transform:d=>l(d).map(p=>c.offset(p)),label:s}:a})}function ig(t,e,n){const{[t]:r}=n,{value:i,interval:o}=ng(r,n);return i==null||o==null?n:e({...n,[t]:{label:zn(r),transform:a=>{const f=$t(At(a,i),s=>o.floor(s)),c=f.map(s=>o.offset(s));return f.map(Ht(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function t4(t={}){return rg("x",Ns,t)}function og(t={}){return rg("y",tg,t)}function e4(t={}){return ig("x",Ns,t)}function n4(t={}){return ig("y",tg,t)}const ag={ariaLabel:"rule",fill:null,stroke:"currentColor"};class r4 extends oe{constructor(e,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:c=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Fa(n,"x"),ag),this.insetTop=ht(f),this.insetBottom=ht(c),Ia(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:c,y1:s,y2:u}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:b,insetBottom:y}=this;return It("svg:g",o).call(Ze,this,i,o).call(Ee,this,{x:c&&a},qt,0).call(v=>v.selectAll().data(e).enter().append("line").call(Ke,this).attr("x1",c?_=>c[_]:(g+h-p)/2).attr("x2",c?_=>c[_]:(g+h-p)/2).attr("y1",s&&!xr(f)?_=>s[_]+b:d+b).attr("y2",u&&!xr(f)?f.bandwidth?_=>u[_]+f.bandwidth()-y:_=>u[_]-y:l-m-y).call(qn,this,r).call(Cs,this,r,o)).node()}}class i4 extends oe{constructor(e,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:c=a}=n;super(e,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Fa(n,"y"),ag),this.insetRight=ht(f),this.insetLeft=ht(c),Ia(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n,{y:c,x1:s,x2:u}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:b,insetRight:y}=this;return It("svg:g",o).call(Ze,this,i,o).call(Ee,this,{y:c&&f},0,qt).call(v=>v.selectAll().data(e).enter().append("line").call(Ke,this).attr("x1",s&&!xr(a)?_=>s[_]+b:g+b).attr("x2",u&&!xr(a)?a.bandwidth?_=>u[_]+a.bandwidth()-y:_=>u[_]-y:h-p-y).attr("y1",c?_=>c[_]:(d+l-m)/2).attr("y2",c?_=>c[_]:(d+l-m)/2).call(qn,this,r).call(Cs,this,r,o)).node()}}function o4(t,e){let{x:n=Ft,y:r,y1:i,y2:o,...a}=og(e);return[i,o]=fg(r,i,o),new r4(t,{...a,x:n,y1:i,y2:o})}function Sc(t,e){let{y:n=Ft,x:r,x1:i,x2:o,...a}=t4(e);return[i,o]=fg(r,i,o),new i4(t,{...a,y:n,x1:i,x2:o})}function fg(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function cg(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const a4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},sg="";class Ds extends oe{constructor(e,n={}){const{x:r,y:i,text:o=dn(e)&&hp(e)?Ft:ss,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:b,rotate:y}=n,[v,_]=Vt(y,0),[w,x]=h4(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:F3(v),optional:!0},text:{value:o,filter:os,optional:!0}},n,a4),this.rotate=_,this.textAnchor=Nt(f,"middle"),this.lineAnchor=me(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=ug(h),this.monospace=!!l,this.fontFamily=Ut(d),this.fontSize=x,this.fontStyle=Ut(g),this.fontVariant=Ut(m),this.fontWeight=Ut(b),this.frameAnchor=ms(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=dg(this),this.clipLine=pg(this)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:c,y:s,rotate:u,text:h,title:l,fontSize:d}=r,{rotate:p}=this,[g,m]=Na(this,i);return It("svg:g",o).call(Ze,this,i,o).call(hg,this,h,i).call(Ee,this,{x:c&&a,y:s&&f}).call(b=>b.selectAll().data(e).enter().append("text").call(Ke,this).call(f4,this,h,l).attr("transform",cg`translate(${c?y=>c[y]:g},${s?y=>s[y]:m})${u?y=>` rotate(${u[y]})`:p?` rotate(${p})`:""}`).call(K,"font-size",d&&(y=>d[y])).call(qn,this,r)).node()}}function ug(t){return t==null?null:me(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function f4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:c}=e;t.each(function(s){const u=f(Pn(n[s])??"").map(c),h=u.length,l=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!u[p])continue;const g=this.ownerDocument.createElementNS(lr.svg,"tspan");g.setAttribute("x",0),p===d-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${d*o}em`),g.textContent=u[p],this.appendChild(g),d=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=u[0];if(a&&!r&&u[0]!==n[s]){const d=this.ownerDocument.createElementNS(lr.svg,"title");d.textContent=n[s],this.appendChild(d)}})}function lg(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=ds(e,n)),new Ds(t,{...r,x:e,y:n})}function c4(t,{x:e=Ft,...n}={}){return new Ds(t,n4({...n,x:e}))}function s4(t,{y:e=Ft,...n}={}){return new Ds(t,e4({...n,y:e}))}function hg(t,e,n){K(t,"text-anchor",e.textAnchor),K(t,"font-family",e.fontFamily),K(t,"font-size",e.fontSize),K(t,"font-style",e.fontStyle),K(t,"font-variant",e.fontVariant===void 0?u4(n):e.fontVariant),K(t,"font-weight",e.fontWeight)}function u4(t){return t&&(U3(t)||Ht(t))?"tabular-nums":void 0}const l4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function h4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),l4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function d4(t,e,n){const r=[];let i,o=0;for(const[a,f,c]of p4(t)){if(i===void 0&&(i=a),o>i&&n(t,i,f)>e&&(r.push(t.slice(i,o)+(t[o-1]===sg?"-":"")),i=a),c){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*p4(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case sg:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const Dl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Ls(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Er(t,i))r+=Dl[t[i]]??(mg(t,i)?120:Dl.e);return r}function Rs(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Er(t,i))r+=mg(t,i)?200:100;return r}function dg({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?Rs:Ls,i=e*100;return o=>d4(o,i,r)}function pg({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return o=>o;const r=t?Rs:Ls,i=e*100;switch(n){case"clip-start":return o=>Rl(o,i,r,"");case"clip-end":return o=>Ll(o,i,r,"");case"ellipsis-start":return o=>Rl(o,i,r,cr);case"ellipsis-middle":return o=>g4(o,i,r,cr);case"ellipsis-end":return o=>Ll(o,i,r,cr)}}const cr="";function Mr(t,e,n,r){const i=[];let o=0;for(let a=0,f=0,c=t.length;a<c;a=f){f=Er(t,a);const s=n(t,a,f);if(o+s>e){for(o+=r;o>e&&a>0;)f=a,a=i.pop(),o-=n(t,a,f);return[a,e-o]}o+=s,i.push(a)}return[-1,0]}function Ll(t,e,n,r){t=t.trim();const i=n(r),[o]=Mr(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function g4(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[a,f]=Mr(t,e/2,n,o),[c]=Mr(t,i-e/2-f+o,n,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(Er(t,c)).trimStart()}function Rl(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r),[a]=Mr(t,i-e+o,n,-o);return a<0?r:r+t.slice(Er(t,a)).trimStart()}const Tc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Fl=/\p{Extended_Pictographic}/uy;function Er(t,e){return e+=m4(t,e)?2:1,b4(t,e)&&(e=Tc.lastIndex),y4(t,e)?Er(t,e+1):e}function gg(t,e){return t.charCodeAt(e)<128}function m4(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function y4(t,e){return t.charCodeAt(e)===8205}function b4(t,e){return gg(t,e)?!1:(Tc.lastIndex=e,Tc.test(t))}function mg(t,e){return gg(t,e)?!1:(Fl.lastIndex=e,Fl.test(t))}const _4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},yg=3.5,w4=yg*5,bg={draw(t,e,n){const r=e*n/w4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},v4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},x4=new Map([["arrow",bg],["spike",v4]]);function M4(t){return t&&typeof t.draw=="function"}function $4(t){if(M4(t))return t;const e=x4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class _g extends oe{constructor(e,n={}){const{x:r,y:i,r:o=yg,length:a,rotate:f,shape:c=bg,anchor:s="middle",frameAnchor:u}=n,[h,l]=Vt(a,12),[d,p]=Vt(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,_4),this.r=+o,this.length=l,this.rotate=p,this.shape=$4(c),this.anchor=me(s,"anchor",["start","middle","end"]),this.frameAnchor=ms(u)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:c,y:s,length:u,rotate:h}=r,{length:l,rotate:d,anchor:p,shape:g,r:m}=this,[b,y]=Na(this,i);return It("svg:g",o).call(Ze,this,i,o).call(Ee,this,{x:c&&a,y:s&&f}).call(v=>v.selectAll().data(e).enter().append("path").call(Ke,this).attr("transform",cg`translate(${c?_=>c[_]:b},${s?_=>s[_]:y})${h?_=>` rotate(${h[_]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?u?_=>` translate(0,${u[_]})`:` translate(0,${l})`:u?_=>` translate(0,${u[_]/2})`:` translate(0,${l/2})`}`).attr("d",u?_=>{const w=Xf();return g.draw(w,u[_],m),w}:(()=>{const _=Xf();return g.draw(_,l,m),_})()).call(qn,this,r)).node()}}function S4(t,e={}){const{x:n=Ft,...r}=e;return new _g(t,{...r,x:n})}function T4(t,e={}){const{y:n=Ft,...r}=e;return new _g(t,{...r,y:n})}function gn(t,e){return arguments.length<2&&!dn(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Pa({anchor:t}={},e){return t===void 0?e[0]:me(t,"anchor",e)}function wg(t){return Pa(t,["left","right"])}function vg(t){return Pa(t,["right","left"])}function xg(t){return Pa(t,["bottom","top"])}function Mg(t){return Pa(t,["top","bottom"])}function $g(){const[t,e]=gn(...arguments);return Tg("y",wg(e),t,e)}function k4(){const[t,e]=gn(...arguments);return Tg("fy",vg(e),t,e)}function Sg(){const[t,e]=gn(...arguments);return kg("x",xg(e),t,e)}function E4(){const[t,e]=gn(...arguments);return kg("fx",Mg(e),t,e)}function Tg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:m,x:b,margin:y,marginTop:v=y===void 0?20:y,marginRight:_=y===void 0?e==="right"?40:0:y,marginBottom:w=y===void 0?20:y,marginLeft:x=y===void 0?e==="left"?40:0:y,label:$,labelAnchor:E,labelArrow:k,labelOffset:A,...M}){return p=ht(p),g=ht(g),m=ht(m),E!==void 0&&(E=me(E,"labelAnchor",["center","top","bottom"])),k=Fg(k),Vp(p&&!zt(o)?A4(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,x:b,...M}):null,zt(c)?null:N4(t,e,n,{fill:c,fillOpacity:s,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,x:b,marginTop:v,marginRight:_,marginBottom:w,marginLeft:x,...M}),!zt(c)&&$!==null?lg([],Ng({fill:c,fillOpacity:s,...M},function(L,F,P,S,U){const R=S[t],{marginTop:Y,marginRight:I,marginBottom:C,marginLeft:O}=t==="y"&&U.inset||U,z=E??(R.bandwidth?"center":"top"),W=A??(e==="right"?I:O)-3;return z==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=z,this.frameAnchor=`${z}-${e}`,this.rotate=0),this.dy=z==="top"?3-Y:z==="bottom"?C-3:0,this.dx=e==="right"?W:-W,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Rg(t,R,{anchor:e,label:$,labelAnchor:z,labelArrow:k})]}}}})):null)}function kg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:m,y:b,margin:y,marginTop:v=y===void 0?e==="top"?30:0:y,marginRight:_=y===void 0?20:y,marginBottom:w=y===void 0?e==="bottom"?30:0:y,marginLeft:x=y===void 0?20:y,label:$,labelAnchor:E,labelArrow:k,labelOffset:A,...M}){return p=ht(p),g=ht(g),m=ht(m),E!==void 0&&(E=me(E,"labelAnchor",["center","left","right"])),k=Fg(k),Vp(p&&!zt(o)?C4(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,y:b,...M}):null,zt(c)?null:D4(t,e,n,{fill:c,fillOpacity:s,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,y:b,marginTop:v,marginRight:_,marginBottom:w,marginLeft:x,...M}),!zt(c)&&$!==null?lg([],Ng({fill:c,fillOpacity:s,...M},function(L,F,P,S,U){const R=S[t],{marginTop:Y,marginRight:I,marginBottom:C,marginLeft:O}=t==="x"&&U.inset||U,z=E??(R.bandwidth?"center":"right"),W=A??(e==="top"?Y:C)-3;return z==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${z}`,this.textAnchor=z==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-W:W,this.dx=z==="right"?I-3:z==="left"?3-O:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Rg(t,R,{anchor:e,label:$,labelAnchor:z,labelArrow:k})]}}}})):null)}function A4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:h=s,dx:l=0,y:d=t==="y"?void 0:null,...p}){return Ar(T4,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:d,...p,dx:e==="left"?+l-qt+ +u:+l+qt-h,anchor:"start",length:c,shape:e==="left"?B4:z4})}function C4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:h=s,dy:l=0,x:d=t==="x"?void 0:null,...p}){return Ar(S4,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:d,...p,dy:e==="bottom"?+l-qt-h:+l+qt+ +u,anchor:"start",length:c,shape:e==="bottom"?U4:O4})}function N4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Qp):0),text:c,textAnchor:s=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:u=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:l=0,insetLeft:d=l,insetRight:p=l,dx:g=0,y:m=t==="y"?void 0:null,...b}){return Ar(s4,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:h,rotate:a,y:m,...b,dx:e==="left"?+g-o-f+ +d:+g+ +o+ +f-p},function(y,v,_,w,x){h===void 0&&(this.fontVariant=Lg(y)),c===void 0&&(x.text=Dg(y,v,_,w,e))})}function D4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Qp):0),text:c,textAnchor:s=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:h,inset:l=0,insetTop:d=l,insetBottom:p=l,dy:g=0,x:m=t==="x"?void 0:null,...b}){return Ar(c4,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:h,rotate:a,x:m,...b,dy:e==="bottom"?+g+ +o+ +f-p:+g-o-f+ +d},function(y,v,_,w,x){h===void 0&&(this.fontVariant=Lg(y)),c===void 0&&(x.text=Dg(y,v,_,w,e))})}function L4(){const[t,e]=gn(...arguments);return Eg("y",wg(e),t,e)}function R4(){const[t,e]=gn(...arguments);return Eg("fy",vg(e),t,e)}function F4(){const[t,e]=gn(...arguments);return Ag("x",xg(e),t,e)}function I4(){const[t,e]=gn(...arguments);return Ag("fx",Mg(e),t,e)}function Eg(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:o=e==="left"?i:null,x2:a=e==="right"?i:null,...f}){return Ar(Sc,t,e,`${t}-grid`,n,{y:r,x1:o,x2:a,...Cg(f)})}function Ag(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:o=e==="top"?i:null,y2:a=e==="bottom"?i:null,...f}){return Ar(o4,t,e,`${t}-grid`,n,{x:r,y1:o,y2:a,...Cg(f)})}function Cg({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function Ng({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u=!1},h){return[,t]=We(t),[,e]=Vt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u,initializer:h}}function Ar(t,e,n,r,i,o,a){let f;function c(h,l,d,p,g,m){const b=h==null&&(e==="fx"||e==="fy"),{[e]:y}=p;if(!y)throw new Error(`missing scale: ${e}`);const v=y.domain();let{interval:_,ticks:w,tickFormat:x,tickSpacing:$=e==="x"?80:35}=o;if(typeof w=="string"&&Ig(y)&&(_=w,w=void 0),w===void 0&&(w=kr(_,y.type)??P4(y,$)),h==null){if(dn(w))h=Zt(w);else if(rr(w))h=$f(w,...Jt(v));else if(y.interval){let k=y.interval;if(y.ticks){const[A,M]=Jt(v),L=(M-A)/k[Ni];k=ol(k,L/w)??k,h=$f(k,A,M)}else{h=v;const A=h.length;k=ol(k,A/w)??k,k!==y.interval&&(h=$f(k,...Jt(h)))}if(k===y.interval){const A=Math.round(h.length/w);A>1&&(h=h.filter((M,L)=>L%A===0))}}else y.ticks?h=y.ticks(w):h=v;if(!y.ticks&&h.length&&h!==v){const k=new ra(v);h=h.filter(A=>k.has(A)),h.length||en(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?l=[Xe(h)]:f[e]={scale:e,value:Ft}}a==null||a.call(this,y,h,w,x,f);const E=Object.fromEntries(Object.entries(f).map(([k,A])=>[k,{...A,value:At(h,A.value)}]));return b&&(l=m.filterFacets(h,E)),{data:h,facets:l,channels:E}}const s=jo(o).initializer,u=t(i,jo({...o,initializer:c},s));return i==null?(f=u.channels,u.channels={}):f={},u.ariaLabel=r,u.clip===void 0&&(u.clip=!1),u}function P4(t,e){const[n,r]=Jt(t.range());return(r-n)/e}function Dg(t,e,n,r,i){return{value:Fs(t,e,n,r,i)}}function Fs(t,e,n,r,i){return typeof r=="function"?r:r===void 0&&e&&Ht(e)?w3(e,i)??Pn:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?Pn:typeof r=="string"?(Ht(t.domain())?Ci:Sr)(r):Di(r)}function $f(t,e,n){return t.range(e,t.offset(t.floor(n)))}const U4={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},O4={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},B4={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},z4={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function Lg(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function q4(t){return Math.sign(vr(t.domain()))*Math.sign(vr(t.range()))}function Rg(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Ig(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=q4(e);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function Fg(t="auto"){return zt(t)?!1:typeof t=="boolean"?t:me(t,"labelArrow",["auto","up","right","down","left"])}function Ig(t){return Ht(t.domain())}function Il(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function Y4(t,{opacity:e,...n}={}){if(!Yn(t)&&!Gp(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Pg(t,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Vt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function W4(t,{fill:e=(s=>(s=t.hint)==null?void 0:s.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(u=>(u=t.hint)==null?void 0:u.stroke)()!==void 0?t.hint.stroke:zt(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},c){const[h,l]=We(e),[d,p]=We(r),g=Il(c,h),m=Il(c,d),b=a*a*Math.PI;return n=Vt(n)[1],i=Vt(i)[1],o=Vt(o)[1],Pg(t,f,(y,v,_,w)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",w).attr("fill",h==="color"?x=>g.scale(x):l).attr("fill-opacity",n).attr("stroke",d==="color"?x=>m.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",x=>{const $=Xf();return t.scale(x).draw($,b),$}))}function Pg(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=Kp(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:c=a,marginLeft:s=0,className:u,style:h,width:l}=e;const d=Ms(e);u=vs(u),i=Fs(t.scale,t.domain,void 0,i);const p=It("div",d).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`.${u}-swatches-columns .${u}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${u}-swatches-columns .${u}-swatch::before {
  flex-shrink: 0;
}
.${u}-swatches-columns .${u}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,t,f,c).call(m=>m.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`.${u}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${u}-swatches-wrap .${u}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`.${u}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${u}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Nt(o,"normal")).call(xs,h).node()}const kc=new Map([["symbol",W4],["color",Og],["opacity",G4]]);function H4(t,e,n={}){return(r,i)=>{if(!kc.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return kc.get(r)(t[r],Ug(e,n[r],i),o=>t[o])}}function Ug({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return q3(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function Og(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return Y4(t,n);case"ramp":return j8(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function G4({type:t,interpolate:e,...n},{legend:r=!0,color:i=an(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Og({type:t,...n,interpolate:V4(i)},{legend:r,...o})}function V4(t){const{r:e,g:n,b:r}=an(t)||an(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function X4(t,e,n){const r=[];for(const[i,o]of kc){const a=n[i];if(a!=null&&a.legend&&i in t){const f=o(t[i],Ug(e,t[i],a),c=>t[c]);f!=null&&r.push(f)}}return r}const j4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Z4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class K4 extends oe{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:f=r,rx:c,ry:s}=e;super(ho,void 0,e,n==null?j4:Z4),this.anchor=fp(n,"anchor",["top","right","bottom","left"]),this.insetTop=ht(i),this.insetRight=ht(o),this.insetBottom=ht(a),this.insetLeft=ht(f),this.rx=ht(c),this.ry=ht(s)}render(e,n,r,i,o){const{marginTop:a,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:h}=i,{anchor:l,insetTop:d,insetRight:p,insetBottom:g,insetLeft:m,rx:b,ry:y}=this,v=s+m,_=u-f-p,w=a+d,x=h-c-g;return It(l?"svg:line":"svg:rect",o).datum(0).call(Ze,this,i,o).call(Ke,this).call(qn,this,r).call(Ee,this,{}).call(l==="left"?$=>$.attr("x1",v).attr("x2",v).attr("y1",w).attr("y2",x):l==="right"?$=>$.attr("x1",_).attr("x2",_).attr("y1",w).attr("y2",x):l==="top"?$=>$.attr("x1",v).attr("x2",_).attr("y1",w).attr("y2",w):l==="bottom"?$=>$.attr("x1",v).attr("x2",_).attr("y1",x).attr("y2",x):$=>$.attr("x",v).attr("y",w).attr("width",_-v).attr("height",x-w).attr("rx",b).attr("ry",y)).node()}}function Q4(t){return new K4(t)}const Sf={ariaLabel:"tip",fill:"white",stroke:"currentColor"},J4=new Set(["geometry","href","src","ariaLabel","scales"]);class t7 extends oe{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&dn(e)&&hp(e)&&(n={...n,title:Ft});const{x:r,y:i,x1:o,x2:a,y1:f,y2:c,anchor:s,monospace:u,fontFamily:h=u?"ui-monospace, monospace":void 0,fontSize:l,fontStyle:d,fontVariant:p,fontWeight:g,lineHeight:m=1,lineWidth:b=20,frameAnchor:y,format:v,textAnchor:_="start",textOverflow:w,textPadding:x=8,title:$,pointerSize:E=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:f==null},title:{value:$,optional:!0}},n,Sf),this.anchor=dp(s,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=ms(y),this.textAnchor=Nt(_,"middle"),this.textPadding=+x,this.pointerSize=+E,this.pathFilter=Ut(k),this.lineHeight=+m,this.lineWidth=+b,this.textOverflow=ug(w),this.monospace=!!u,this.fontFamily=Ut(h),this.fontSize=ht(l),this.fontStyle=Ut(d),this.fontVariant=Ut(p),this.fontWeight=Ut(g);for(const A in Sf)A in this.channels&&(this[A]=Sf[A]);this.splitLines=dg(this),this.clipLine=pg(this),this.format={...v}}render(e,n,r,i,o){const a=this,{x:f,y:c,fx:s,fy:u}=n,{ownerSVGElement:h,document:l}=o,{anchor:d,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:b,pointerSize:y,pathFilter:v}=this,{marginTop:_,marginLeft:w}=i,{x1:x,y1:$,x2:E,y2:k,x:A=x??E,y:M=$??k}=r,L=s?s(e.fx)-w:0,F=u?u(e.fy)-_:0,[P,S]=Na(this,i),U=jp(r,P),R=Zp(r,S),Y=p?Rs:Ls,I=Y(cr);let C,O;"title"in r?(C=r.channels,O=a7):(C=o7.call(this,r,n),O=f7);const z=It("svg:g",o).call(Ze,this,i,o).call(hg,this).call(Ee,this,{x:A&&f,y:M&&c}).call(Z=>Z.selectAll().data(e).enter().append("g").attr("transform",X=>`translate(${Math.round(U(X))},${Math.round(R(X))})`).call(Ke,this).call(X=>X.append("path").attr("filter",v)).call(X=>X.append("text").each(function(D){const q=Zr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const N=O.call(a,D,e,C,n,r);if(typeof N=="string")for(const H of a.splitLines(N))W(q,{value:a.clipLine(H)});else{const H=new Set;for(const V of N){const{label:T=""}=V;T&&H.has(T)||(H.add(T),W(q,V))}}})));function W(Z,{label:X,value:D,color:q,opacity:N}){X??(X=""),D??(D="");const H=q!=null||N!=null;let V,T=m*100;const[ot]=Mr(X,T,Y,I);if(ot>=0)X=X.slice(0,ot).trimEnd()+cr,V=D.trim(),D="";else{(X||!D&&!H)&&(D=" "+D);const[at]=Mr(D,T-Y(X),Y,I);at>=0&&(D=D.slice(0,at).trimEnd()+cr,V=D.trim())}const G=Z.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");X&&G.append("tspan").attr("font-weight","bold").text(X),D&&G.append(()=>l.createTextNode(D)),H&&G.append("tspan").text(" ").attr("fill",q).attr("fill-opacity",N).style("user-select","none"),V&&G.append("title").text(V)}function J(){const{width:Z,height:X}=i.facet??i;z.selectChildren().each(function(D){let{x:q,width:N,height:H}=this.getBBox();N=Math.round(N),H=Math.round(H);let V=d;if(V===void 0){V=a.previousAnchor;const G=U(D)+L,at=R(D)+F,dt=G+N+b*2<Z,Dt=G-N-b*2>0,mn=at+H+y+b*2+7<X,Oi=at-H-y-b*2>0,za=(/-left$/.test(V)?dt||!Dt:dt&&!Dt)?"left":"right",qa=(/^top-/.test(V)?mn||!Oi:mn&&!Oi)?"top":"bottom";V=a.previousAnchor=`${qa}-${za}`}const T=this.firstChild,ot=this.lastChild;if(T.setAttribute("d",i7(V,y,b,N,H)),q)for(const G of ot.childNodes)G.setAttribute("x",-q);ot.setAttribute("y",`${+n7(V,ot.childNodes.length,g).toFixed(6)}em`),ot.setAttribute("transform",`translate(${r7(V,y,b,N,H)})`)}),z.attr("visibility",null)}return e.length&&(z.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(J):typeof requestAnimationFrame<"u"&&requestAnimationFrame(J)),z.node()}}function e7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=ds(e,n)),new t7(t,{...r,x:e,y:n})}function n7(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function r7(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function i7(t,e,n,r,i){const o=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${a}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${a}h${-o}v${-a}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${a}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-o}v${a}h${o}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-a}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-a}h${-o}v${a}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-a}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${o}v${a}h${-o}v${e/2-a/2}z`}}function o7({channels:t},e){var i,o;const n={};let r=this.format;r=Pl(r,t,"x"),r=Pl(r,t,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const c=pl(t,a);c&&(n[a]=c)}}for(const a in t){if(a in n||a in r||J4.has(a))continue;const f=pl(t,a);f&&(n[a]=f)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const f=this.format[a];if(typeof f=="string"){const c=((i=n[a])==null?void 0:i.value)??((o=e[a])==null?void 0:o.domain())??[];this.format[a]=(Ht(c)?Ci:Sr)(f)}else if(f===void 0||f===!0){const c=e[a];this.format[a]=c!=null&&c.bandwidth?Fs(c,c.domain()):Pn}}return n}function Pl(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const o=Object.entries(t),a=t[n];return o.splice(o.findIndex(([f])=>f===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function a7(t,e,{title:n}){return Pn(n.value[t],t)}function*f7(t,e,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:Ko(r,n,o),value:this.format[o](e[o],t)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:Ol(r,n,"x"),value:Ul(this.format.x2,n.x1,a,t)};else if(o==="y2"&&"y1"in n)yield{label:Ol(r,n,"y"),value:Ul(this.format.y2,n.y1,a,t)};else{const f=a.value[t],c=a.scale;if(!cn(f)&&c==null)continue;yield{label:Ko(r,n,o),value:this.format[o](f,t),color:c==="color"?i[o][t]:null,opacity:c==="opacity"?i[o][t]:null}}}}function Ul(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}${t(n.value[r],r)}`}function Ol(t,e,n){const r=Ko(t,e,`${n}1`,n),i=Ko(t,e,`${n}2`,n);return r===i?r:`${r}${i}`}function Ko(t,e,n,r=n){const i=e[n],o=t[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function Cr(t={}){var I;const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,c=vs(t.className),s=t.marks===void 0?[]:zl(t.marks);s.push(...g7(s));const u=d7(e,t),h=new Map;for(const C of s){const O=ql(C,u,t);O&&h.set(C,O)}const l=new Map;u&&Or(l,[u],t),Or(l,h,t);const d=zl(m7(s,l,t));for(const C of d){const O=ql(C,u,t);O&&h.set(C,O)}s.unshift(...d);let p=D8(l,t);if(p!==void 0){const C=u?xf(p,u):void 0;for(const z of s){if(z.facet===null||z.facet==="super")continue;const W=h.get(z);W!==void 0&&(W.facetsIndex=z.fx!=null||z.fy!=null?xf(p,W):C)}const O=new Set;for(const{facetsIndex:z}of h.values())z==null||z.forEach((W,J)=>{(W==null?void 0:W.length)>0&&O.add(J)});p.forEach(0<O.size&&O.size<p.length?(z,W)=>z.empty=!O.has(W):z=>z.empty=!1);for(const z of s)if(z.facet==="exclude"){const W=h.get(z);W!==void 0&&(W.facetsIndex=F8(W.facetsIndex))}}for(const C of vt.keys())bc(t[C])&&C!=="fx"&&C!=="fy"&&l.set(C,[]);const g=new Map;for(const C of s){if(g.has(C))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:O,channels:z}=h.get(C)??{},{data:W,facets:J,channels:Z}=C.initialize(O,z,t);Is(Z,t),g.set(C,{data:W,facets:J,channels:Z})}const m=Mc(Or(l,g,t),t),b=C8(m,s,t);v8(m,b);const y=Ml(m),{fx:v,fy:_}=y,w=v||_?Yp(m,b):b,x=v||_?M7(y,b):b,$=Ms(t),E=$.document,k=aa("svg").call(E.documentElement);let A=k;$.ownerSVGElement=k,$.className=c,$.projection=R5(t,w),$.filterFacets=(C,O)=>xf(p,{channels:O,groups:Es(C,O)}),$.getMarkState=C=>{const O=g.get(C),z=h.get(C);return{...O,channels:{...O.channels,...z==null?void 0:z.channels}}},$.dispatchValue=C=>{A.value!==C&&(A.value=C,A.dispatchEvent(new Event("input",{bubbles:!0})))};const M=new Set;for(const[C,O]of g)if(C.initializer!=null){const z=C.facet==="super"?x:w,W=C.initializer(O.data,O.facets,O.channels,y,z,$);if(W.data!==void 0&&(O.data=W.data),W.facets!==void 0&&(O.facets=W.facets),W.channels!==void 0){const{fx:J,fy:Z,...X}=W.channels;h7(X),Object.assign(O.channels,X);for(const D of Object.values(X)){const{scale:q}=D;q!=null&&!W3(vt.get(q))&&(Bg(D,t),M.add(q))}(J!=null||Z!=null)&&h.set(C,!0)}}if(M.size){const C=new Map;Or(C,g,t,J=>M.has(J)),Or(l,g,t,J=>M.has(J));const O=x7(Mc(C,t),m),{scales:z,...W}=Ml(O);Object.assign(m,O),Object.assign(y,W),Object.assign(y.scales,z)}let L,F;p!==void 0&&(L={x:v==null?void 0:v.domain(),y:_==null?void 0:_.domain()},p=L8(p,L),F=R8(v,_,b));for(const[C,O]of g)O.values=C.scale(O.channels,y,$);const{width:P,height:S}=b;Zr(k).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",S).attr("viewBox",`0 0 ${P} ${S}`).attr("aria-label",a).attr("aria-description",f).call(C=>C.append("style").text(`.${c} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${c} text,
.${c} tspan {
  white-space: pre;
}`)).call(xs,n);for(const C of s){const{channels:O,values:z,facets:W}=g.get(C);if(p===void 0||C.facet==="super"){let J=null;if(W&&(J=W[0],J=C.filter(J,O,z),J.length===0))continue;const Z=C.render(J,y,z,x,$);if(Z==null)continue;k.appendChild(Z)}else{let J;for(const Z of p){if(!(((I=C.facetAnchor)==null?void 0:I.call(C,p,L,Z))??!Z.empty))continue;let X=null;if(W){const q=h.has(C);if(X=W[q?Z.i:0],X=C.filter(X,O,z),X.length===0)continue;!q&&X===W[0]&&(X=N3(X)),X.fx=Z.x,X.fy=Z.y,X.fi=Z.i}const D=C.render(X,y,z,w,$);if(D!=null){(J??(J=Zr(k).append("g"))).append(()=>D).datum(Z);for(const q of["aria-label","aria-description","aria-hidden","transform"])D.hasAttribute(q)&&(J.attr(q,D.getAttribute(q)),D.removeAttribute(q))}}J==null||J.selectChildren().attr("transform",F)}}const U=X4(m,$,t),{figure:R=r!=null||i!=null||o!=null||U.length>0}=t;R&&(A=E.createElement("figure"),A.className=`${c}-figure`,A.style.maxWidth="initial",r!=null&&A.append(Bl(E,r,"h2")),i!=null&&A.append(Bl(E,i,"h3")),A.append(...U,k),o!=null&&A.append(c7(E,o))),A.scale=E8(y.scales),A.legend=H4(m,$,t);const Y=w5();return Y>0&&Zr(k).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${Y.toLocaleString("en-US")} warning${Y===1?"":"s"}. Please check the console.`),A}function Bl(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function c7(t,e){const n=t.createElement("figcaption");return n.append(e),n}function s7({marks:t=[],...e}={}){return Cr({...e,marks:[...t,this]})}oe.prototype.plot=s7;function zl(t){return t.flat(1/0).filter(e=>e!=null).map(u7)}function u7(t){return typeof t.render=="function"?t:new l7(t)}class l7 extends oe{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Is(t,e){for(const n in t)Bg(t[n],e);return t}function Bg(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?c=>c*100:lp(a,i)}=e[n]??{};f!=null&&(t.value=$t(t.value,f),t.transform=!1)}function h7(t){for(const e in t)$p(e,t[e])}function Or(t,e,n,r=S3){var i,o;for(const{channels:a}of e.values())for(const f in a){const c=a[f],{scale:s}=c;if(s!=null&&r(s))if(s==="projection"){if(!U5(n)){const u=((i=n.x)==null?void 0:i.domain)===void 0,h=((o=n.y)==null?void 0:o.domain)===void 0;if(u||h){const[l,d]=B5(c);u&&Tf(t,"x",l),h&&Tf(t,"y",d)}}}else Tf(t,s,c)}return t}function Tf(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function d7(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=Zt(t.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=mi(i,{value:n,scale:"fx"})),r!=null&&(o.fy=mi(i,{value:r,scale:"fy"})),Is(o,e);const a=Es(i,o);return{channels:o,groups:a,data:t.data}}function ql(t,e,n){var c;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const s=Zt(t.data??r??i);if(s===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(s===null)return;const u={};return r!=null&&(u.fx=mi(s,{value:r,scale:"fx"})),i!=null&&(u.fy=mi(s,{value:i,scale:"fy"})),Is(u,n),{channels:u,groups:Es(s,u)}}if(e===void 0)return;const{channels:o,groups:a,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&((c=Zt(t.data))==null?void 0:c.length)===f.length&&en(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function p7(t,e={}){return jo({...e,x:null,y:null},(n,r,i,o,a,f)=>f.getMarkState(t))}function g7(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i}=r;i=/^x$/i.test(i)?V8:/^y$/i.test(i)?X8:G8,r=i(p7(n,r)),r.title=null;const o=e7(n.data,r);o.facet=n.facet,o.facetAnchor=n.facetAnchor,e.push(o)}}return e}function m7(t,e,n){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:h=c,grid:l}=u,x:{axis:d=c,grid:p=d===null?null:s}=i,y:{axis:g=c,grid:m=g===null?null:s}=o,fx:{axis:b=h,grid:y=b===null?null:l}=a,fy:{axis:v=h,grid:_=v===null?null:l}=f}=n;(r||!bc(i)&&!Yl("x",t))&&(d=p=null),(r||!bc(o)&&!Yl("y",t))&&(g=m=null),e.has("fx")||(b=y=null),e.has("fy")||(v=_=null),d===void 0&&(d=!ao(t,"x")),g===void 0&&(g=!ao(t,"y")),b===void 0&&(b=!ao(t,"fx")),v===void 0&&(v=!ao(t,"fy")),d===!0&&(d="bottom"),g===!0&&(g="left"),b===!0&&(b=d==="top"||d===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const w=[];return oo(w,_,R4,f),io(w,v,k4,"right","left",u,f),oo(w,y,I4,a),io(w,b,E4,"top","bottom",u,a),oo(w,m,L4,o),io(w,g,$g,"left","right",n,o),oo(w,p,F4,i),io(w,d,Sg,"bottom","top",n,i),w}function io(t,e,n,r,i,o,a){if(!e)return;const f=y7(e);a=b7(f?r:e,o,a);const{line:c}=a;(n===$g||n===Sg)&&c&&!gi(c)&&t.push(Q4(_7(a))),t.push(n(a)),f&&t.push(n({...a,anchor:i,label:null}))}function oo(t,e,n,r){!e||gi(e)||t.push(n(w7(e,r)))}function y7(t){return/^\s*both\s*$/i.test(t)}function b7(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:h,label:l=e.label,labelAnchor:d,labelArrow:p=e.labelArrow,labelOffset:g}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:h,label:l,labelAnchor:d,labelArrow:p,labelOffset:g}}function _7(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function w7(t,{stroke:e=Aa(t)?t:void 0,ticks:n=v7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function v7(t){switch(typeof t){case"number":return!0;case"string":return!Aa(t)}return dn(t)||typeof(t==null?void 0:t.range)=="function"}function ao(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Yl(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function x7(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function M7({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=ks(n),s=t&&Wl(t),u=e&&Wl(e);return{marginTop:e?u[0]:r,marginRight:t?f-s[1]:i,marginBottom:e?c-u[1]:o,marginLeft:t?s[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:c}}function Wl(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const $7=new Map([["basis",Q6],["basis-closed",J6],["basis-open",t3],["bundle",e3],["bump-x",z6],["bump-y",q6],["cardinal",n3],["cardinal-closed",r3],["cardinal-open",i3],["catmull-rom",o3],["catmull-rom-closed",a3],["catmull-rom-open",f3],["linear",Sa],["linear-closed",c3],["monotone-x",s3],["monotone-y",u3],["natural",l3],["step",h3],["step-after",p3],["step-before",d3]]);function S7(t=Sa,e){if(typeof t=="function")return t;const n=$7.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function T7(t=Qo,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Qo:S7(t,e)}function Qo(t){return Sa(t)}function k7(t={y:"count"},e={}){[t,e]=N7(t,e);const{x:n,y:r}=e;return C7(D7(n,e,Ft),null,null,r,t,Ns(e))}function E7(t,e,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=ws}=n,i={filter:null};return n[e]!=null&&(i[e]=r),n[`${e}1`]!=null&&(i[`${e}1`]=r),n[`${e}2`]!=null&&(i[`${e}2`]=r),t(i,n)}function A7(t={}){return E7(k7,"y",Fa(t,"x"))}function C7(t,e,n,r,{data:i=Mp,filter:o=Zo,sort:a,reverse:f,...c}={},s={}){t=Hl(t),e=Hl(e),c=R7(c,s),i=Yg(i,Ft),a=a==null?void 0:zg("sort",a,s),o=o==null?void 0:qg("filter",o,s),n!=null&&to(c,"x","x1","x2")&&(n=null),r!=null&&to(c,"y","y1","y2")&&(r=null);const[u,h]=Le(t),[l,d]=Le(t),[p,g]=Le(e),[m,b]=Le(e),[y,v]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[_,w]=Le(y),{x,y:$,z:E,fill:k,stroke:A,x1:M,x2:L,y1:F,y2:P,domain:S,cumulative:U,thresholds:R,interval:Y,...I}=s,[C,O]=Le(E),[z]=We(k),[W]=We(A),[J,Z]=Le(z),[X,D]=Le(W);return{..."z"in s&&{z:C||E},..."fill"in s&&{fill:J||k},..."stroke"in s&&{stroke:X||A},...bs(I,(q,N,H)=>{const V=up(At(q,y),H==null?void 0:H[v]),T=At(q,E),ot=At(q,z),G=At(q,W),at=e5(c,{z:T,fill:ot,stroke:G}),dt=[],Dt=[],mn=V&&w([]),Oi=T&&O([]),za=ot&&Z([]),qa=G&&D([]),Os=t&&h([]),im=t&&d([]),Bs=e&&g([]),om=e&&b([]),am=P7(t==null?void 0:t(q),e==null?void 0:e(q));let fm=0;for(const Wn of c)Wn.initialize(q);a&&a.initialize(q),o&&o.initialize(q);for(const Wn of N){const zs=[];for(const Nr of c)Nr.scope("facet",Wn);a&&a.scope("facet",Wn),o&&o.scope("facet",Wn);for(const[Nr,cm]of ul(Wn,at))for(const[sm,Bi]of ul(cm,V))for(const[ye,yn]of am(Bi))if(!(o&&!o.reduce(ye,yn))){zs.push(fm++),Dt.push(i.reduceIndex(ye,q,yn)),V&&mn.push(sm),T&&Oi.push(at===T?Nr:T[(ye.length>0?ye:Bi)[0]]),ot&&za.push(at===ot?Nr:ot[(ye.length>0?ye:Bi)[0]]),G&&qa.push(at===G?Nr:G[(ye.length>0?ye:Bi)[0]]),Os&&(Os.push(yn.x1),im.push(yn.x2)),Bs&&(Bs.push(yn.y1),om.push(yn.y2));for(const um of c)um.reduce(ye,yn);a&&a.reduce(ye)}dt.push(zs)}return n5(dt,a,f),{data:Dt,facets:dt}}),...!to(c,"x")&&(u?{x1:u,x2:l,x:_c(u,l)}:{x,x1:M,x2:L}),...!to(c,"y")&&(p?{y1:p,y2:m,y:_c(p,m)}:{y:$,y1:F,y2:P}),..._&&{[v]:_},...Object.fromEntries(c.map(({name:q,output:N})=>[q,N]))}}function N7({cumulative:t,domain:e,thresholds:n,interval:r,...i},o){return[i,{cumulative:t,domain:e,thresholds:n,interval:r,...o}]}function D7(t,{cumulative:e,domain:n,thresholds:r,interval:i},o){return t={...Li(t)},t.domain===void 0&&(t.domain=n),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=L7(t.thresholds,t.interval),t}function Hl(t){if(t==null)return;const{value:e,cumulative:n,domain:r=Jt,thresholds:i}=t,o=a=>{let f=At(a,e),c;if(Ht(f)||I7(i)){f=$t(f,ap,Float64Array);let[u,h]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!rr(i)?i(f,u,h):i;typeof l=="number"&&(l=c0(u,h,l)),rr(l)&&(r===Jt&&(u=l.floor(u),h=l.offset(l.floor(h))),l=l.range(u,l.offset(h))),c=l}else{f=wr(f);let[u,h]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!rr(i)?i(f,u,h):i;if(typeof l=="number")if(r===Jt){let d=yo(u,h,l);if(isFinite(d))if(d>0){let p=Math.round(u/d),g=Math.round(h/d);p*d<=u||--p,g*d>h||++g;let m=g-p+1;l=new Float64Array(m);for(let b=0;b<m;++b)l[b]=(p+b)*d}else if(d<0){d=-d;let p=Math.round(u*d),g=Math.round(h*d);p/d<=u||--p,g/d>h||++g;let m=g-p+1;l=new Float64Array(m);for(let b=0;b<m;++b)l[b]=(p+b)/d}else l=[u];else l=[u]}else l=ii(u,h,l);else rr(l)&&(r===Jt&&(u=l.floor(u),h=l.offset(l.floor(h))),l=l.range(u,l.offset(h)));c=l}const s=[];if(c.length===1)s.push([c[0],c[0]]);else for(let u=1;u<c.length;++u)s.push([c[u-1],c[u]]);return s.bin=(n<0?O7:n>0?U7:Ps)(s,c,f),s};return o.label=zn(e),o}function L7(t,e,n=Gl){if(t===void 0)return e===void 0?n:kr(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return c2;case"scott":return vh;case"sturges":return i2;case"auto":return Gl}return cs(t)}return t}function R7(t,e){return Q3(t,e,zg)}function zg(t,e,n){return vp(t,e,n,qg)}function qg(t,e,n){return xp(t,e,n,Yg)}function Yg(t,e){return _s(t,e,F7)}function F7(t){switch(`${t}`.toLowerCase()){case"x":return B7;case"x1":return q7;case"x2":return Y7;case"y":return z7;case"y1":return W7;case"y2":return H7}throw new Error(`invalid bin reduce: ${t}`)}function Gl(t,e,n){return Math.min(200,vh(t,e,n))}function I7(t){return R3(t)||dn(t)&&Ht(t)}function P7(t,e){return t&&e?function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries()){const f=e.bin(r[i]);for(const[c,[s,u]]of e.entries())yield[f[c],{x1:o,y1:s,x2:a,y2:u}]}}:t?function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries())yield[r[i],{x1:o,x2:a}]}:function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries())yield[r[i],{y1:o,y2:a}]}}function Ps(t,e,n){return e=wr(e),r=>{var o;const i=t.map(()=>[]);for(const a of r)(o=i[na(e,n[a])-1])==null||o.push(a);return i}}function U7(t,e,n){const r=Ps(t,e,n);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const c=o[a-1],s=o[a];for(const u of c)s.push(u)}return o}}function O7(t,e,n){const r=Ps(t,e,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],c=o[a];for(const s of f)c.push(s)}return o}}function Wg(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const B7={reduceIndex(t,e,{x1:n,x2:r}){return Wg(n,r)}},z7={reduceIndex(t,e,{y1:n,y2:r}){return Wg(n,r)}},q7={reduceIndex(t,e,{x1:n}){return n}},Y7={reduceIndex(t,e,{x2:n}){return n}},W7={reduceIndex(t,e,{y1:n}){return n}},H7={reduceIndex(t,e,{y2:n}){return n}};function G7(t={}){return cp(t)?t:{...t,y:Ft}}function V7(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,r=new Uint8Array(n);let i=0;for(const f of e)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:e};t=di(t);const o=t[ip]=new Uint32Array(n+i);e=e.map(f=>di(f,Uint32Array));let a=n;r.fill(0);for(const f of e)for(let c=0,s=f.length;c<s;++c){const u=f[c];r[u]?(f[c]=a,t[a]=t[u],o[a]=u,++a):o[u]=u,r[u]=1}return{data:t,facets:e}}function X7(t={},e={}){arguments.length===1&&([t,e]=Z7(t));const{x1:n,x:r=n,y:i,...o}=e,[a,f,c,s]=Q7(r,i,"x","y",t,o);return{...a,x1:n,x:f,y1:c,y2:s,y:_c(c,s)}}function j7({y:t,y1:e,y2:n,...r}={}){return r=Fa(r,"x"),e===void 0&&n===void 0?X7({y:t,...r}):([e,n]=C3(t,e,n),{...r,y1:e,y2:n})}function Z7(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const K7={length:!0};function Q7(t,e=$3,n,r,{offset:i,order:o,reverse:a},f){if(e===null)throw new Error(`stack requires ${r}`);const c=sp(f),[s,u]=Le(t),[h,l]=Xo(e),[d,p]=Xo(e);return h.hint=d.hint=K7,i=J7(i),o=n9(o,i,r),[bs(f,(g,m,b)=>{({data:g,facets:m}=V7(g,m));const y=t==null?void 0:u(up(At(g,t),b==null?void 0:b[n])),v=At(g,e,Float64Array),_=At(g,c),w=o&&o(g,y,v,_),x=g.length,$=l(new Float64Array(x)),E=p(new Float64Array(x)),k=[];for(const A of m){const M=y?Array.from(ia(A,L=>y[L]).values()):[A];if(w)for(const L of M)L.sort(w);for(const L of M){let F=0,P=0;a&&L.reverse();for(const S of L){const U=v[S];U<0?F=E[S]=($[S]=F)+U:U>0?P=E[S]=($[S]=P)+U:E[S]=$[S]=P}}k.push(M)}return i&&i(k,$,E,_),{data:g,facets:m}}),s,h,d]}function J7(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return t9;case"center":case"silhouette":return e9;case"wiggle":return Gg}throw new Error(`unknown offset: ${t}`)}}function Hg(t,e){let n=0,r=0;for(const i of t){const o=e[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function t9(t,e,n){for(const r of t)for(const i of r){const[o,a]=Hg(i,n);for(const f of i){const c=1/(a-o||1);e[f]=c*(e[f]-o),n[f]=c*(n[f]-o)}}}function e9(t,e,n){for(const r of t){for(const i of r){const[o,a]=Hg(i,n);for(const f of i){const c=(a+o)/2;e[f]-=c,n[f]-=c}}Vg(r,e,n)}Xg(t,e,n)}function Gg(t,e,n,r){for(const i of t){const o=new An;let a=0;for(const f of i){let c=-1;const s=f.map(d=>Math.abs(n[d]-e[d])),u=f.map(d=>{c=r?r[d]:++c;const p=n[d]-e[d],g=o.has(c)?p-o.get(c):0;return o.set(c,p),g}),h=[0,...Qm(u)];for(const d of f)e[d]+=a,n[d]+=a;const l=on(s);l&&(a-=on(s,(d,p)=>(u[p]/2+h[p])*d)/l)}Vg(i,e,n)}Xg(t,e,n)}function Vg(t,e,n){const r=Oe(t,i=>Oe(i,o=>e[o]));for(const i of t)for(const o of i)e[o]-=r,n[o]-=r}function Xg(t,e,n){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(Oe(f,c=>e[c])+ue(f,c=>n[c]))/2),a=Oe(o);for(let f=0;f<r;f++){const c=a-o[f];for(const s of i[f])e[s]+=c,n[s]+=c}}function n9(t,e,n){if(t===void 0&&e===Gg)return Vl(pe);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Vo:pe;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return r9(i);case"z":return i9(i);case"sum":return o9(i);case"appearance":return a9(i);case"inside-out":return Vl(i)}return Xl(op(t))}if(typeof t=="function")return(t.length===1?Xl:f9)(t);if(Array.isArray(t))return c9(t);throw new Error(`invalid order: ${t}`)}}function r9(t){return(e,n,r)=>(i,o)=>t(r[i],r[o])}function i9(t){return(e,n,r,i)=>(o,a)=>t(i[o],i[a])}function o9(t){return Ua(t,(e,n,r,i)=>Cc(Xe(e),o=>on(o,a=>r[a]),o=>i[o]))}function a9(t){return Ua(t,(e,n,r,i)=>Cc(Xe(e),o=>n[wh(o,a=>r[a])],o=>i[o]))}function Vl(t){return Ua(t,(e,n,r,i)=>{const o=Xe(e),a=Cc(o,h=>n[wh(h,l=>r[l])],h=>i[h]),f=or(o,h=>on(h,l=>r[l]),h=>i[h]),c=[],s=[];let u=0;for(const h of a)u<0?(u+=f.get(h),c.push(h)):(u-=f.get(h),s.push(h));return s.reverse().concat(c)})}function Xl(t){return e=>{const n=At(e,t);return(r,i)=>pe(n[r],n[i])}}function f9(t){return e=>(n,r)=>t(e[n],e[r])}function c9(t){return Ua(pe,()=>t)}function Ua(t,e){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new An(e(n,r,i,o).map((f,c)=>[f,c]));return(f,c)=>t(a.get(o[f]),a.get(o[c]))}}class jg extends oe{constructor(e,n,r={},i){super(e,n,r,i);const{inset:o=0,insetTop:a=o,insetRight:f=o,insetBottom:c=o,insetLeft:s=o,rx:u,ry:h}=r;this.insetTop=ht(a),this.insetRight=ht(f),this.insetBottom=ht(c),this.insetLeft=ht(s),this.rx=Nt(u,"auto"),this.ry=Nt(h,"auto")}render(e,n,r,i,o){const{rx:a,ry:f}=this;return It("svg:g",o).call(Ze,this,i,o).call(this._transform,this,n).call(c=>c.selectAll().data(e).enter().append("rect").call(Ke,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(K,"rx",a).call(K,"ry",f).call(qn,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:f}=this,c=n&&e?e.bandwidth():o-r-i;return Math.max(0,c-a-f)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:f}=this,c=n&&e?e.bandwidth():o-r-i;return Math.max(0,c-a-f)}}const s9={ariaLabel:"bar"};class u9 extends jg{constructor(e,n={}){const{x:r,y1:i,y2:o}=n;super(e,{y1:{value:i,scale:"y"},y2:{value:o,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,s9)}_transform(e,n,{y:r}){e.call(Ee,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:o}=this;return xr(e)?i+o:a=>Math.min(n[a],r[a])+o}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:f,insetBottom:c}=this;return xr(e)?a-i-o-f-c:s=>Math.max(0,Math.abs(r[s]-n[s])-f-c)}}function l9(t,e={}){return A3(e)||(e={...e,x:ss,y2:Ft}),new u9(t,j7(og(G7(e))))}const h9={ariaLabel:"cell"};class d9 extends jg{constructor(e,{x:n,y:r,...i}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,h9)}_transform(e,n){e.call(Ee,n,{},0,0)}}function p9(t,{x:e,y:n,...r}={}){return[e,n]=ds(e,n),new d9(t,{...r,x:e,y:n})}const g9={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class m9 extends oe{constructor(e,n={}){const{x:r,y:i,z:o,curve:a,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:sp(n),optional:!0}},n,g9),this.z=o,this.curve=T7(a,f),Ia(this,n)}filter(e){return e}project(e,n,r){this.curve!==Qo&&super.project(e,n,r)}render(e,n,r,i,o){const{x:a,y:f}=r,{curve:c}=this;return It("svg:g",o).call(Ze,this,i,o).call(Ee,this,n).call(s=>s.selectAll().data(C5(e,[a,f],this,r)).enter().append("path").call(Ke,this).call(k5,this,r).call(J8,this,r,o).attr("d",c===Qo&&o.projection?y9(o.projection,a,f):B6().curve(c).defined(u=>u>=0).x(u=>a[u]).y(u=>f[u]))).node()}}function y9(t,e,n){const r=Wc(t);return e=wr(e),n=wr(n),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function Zg(t,{x:e=ss,y:n=Ft,...r}={}){return new m9(t,A7({...r,x:e,y:n}))}const b9={ariaLabel:"tick",fill:null,stroke:"currentColor"};class _9 extends oe{constructor(e,n,r){super(e,n,r,b9),Ia(this,r)}render(e,n,r,i,o){return It("svg:g",o).call(Ze,this,i,o).call(this._transform,this,n).call(a=>a.selectAll().data(e).enter().append("line").call(Ke,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(qn,this,r).call(Cs,this,r,o)).node()}}class w9 extends _9{constructor(e,n={}){const{x:r,y:i,inset:o=0,insetTop:a=o,insetBottom:f=o}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=ht(a),this.insetBottom=ht(f)}_transform(e,n,{x:r}){e.call(Ee,n,{x:r},qt,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){const{insetTop:i}=this;return n&&e?o=>n[o]+i:r+i}_y2({y:e},{y:n},{height:r,marginBottom:i}){const{insetBottom:o}=this;return n&&e?a=>n[a]+e.bandwidth()-o:r-i-o}}function v9(t,{x:e=Ft,...n}={}){return new w9(t,{...n,x:e})}function x9(t){let e,n,r,i,o,a;return{c(){e=j("main"),n=j("div"),o=st(),a=j("div"),a.textContent=`Each note is represented by a tick placed at its onset time from left to
        right. A smaller gap followed by a larger one indicates an early note.`,ut(n,"width",r=t[0]+"px"),ut(n,"height",i=t[1]+"px"),nn(e,"width",t[0]+"px")},m(f,c){bt(f,e,c),B(e,n),t[4](n),B(e,o),B(e,a)},p(f,[c]){c&1&&r!==(r=f[0]+"px")&&ut(n,"width",r),c&2&&i!==(i=f[1]+"px")&&ut(n,"height",i),c&1&&nn(e,"width",f[0]+"px")},i:Mt,o:Mt,d(f){f&&pt(e),t[4](null)}}}function M9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;bi(()=>{const c=Cr({width:i,height:o,marginLeft:50,x:{axis:!1},y:{axis:!1},marks:[v9(r,{x:s=>s})]});n(2,a.textContent="",a),a.appendChild(c)});function f(c){rn[c?"unshift":"push"](()=>{a=c,n(2,a)})}return t.$$set=c=>{"pattern"in c&&n(3,r=c.pattern),"width"in c&&n(0,i=c.width),"height"in c&&n(1,o=c.height)},[i,o,a,r,f]}class Kg extends Ve{constructor(e){super(),Ge(this,e,M9,x9,He,{pattern:3,width:0,height:1})}}function $9(t){let e,n,r,i,o,a;return{c(){e=j("main"),n=j("div"),o=st(),a=j("div"),a.textContent=`For each note but the first, the bars' height shows the distance to the
    previous note. A smaller bar followed by a larger one indicates an early
    note.`,ut(n,"width",r=t[0]+"px"),ut(n,"height",i=t[1]+"px"),nn(e,"width",t[0]+"px")},m(f,c){bt(f,e,c),B(e,n),t[4](n),B(e,o),B(e,a)},p(f,[c]){c&1&&r!==(r=f[0]+"px")&&ut(n,"width",r),c&2&&i!==(i=f[1]+"px")&&ut(n,"height",i),c&1&&nn(e,"width",f[0]+"px")},i:Mt,o:Mt,d(f){f&&pt(e),t[4](null)}}}function S9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;bi(()=>{const c=r.map((u,h)=>h===0?0:u-r[h-1]),s=Cr({width:i,height:o,marginLeft:50,y:{axis:!1},marks:[l9(c,{x:(u,h)=>h+1,y:u=>u})]});n(2,a.textContent="",a),a.appendChild(s)});function f(c){rn[c?"unshift":"push"](()=>{a=c,n(2,a)})}return t.$$set=c=>{"pattern"in c&&n(3,r=c.pattern),"width"in c&&n(0,i=c.width),"height"in c&&n(1,o=c.height)},[i,o,a,r,f]}class Qg extends Ve{constructor(e){super(),Ge(this,e,S9,$9,He,{pattern:3,width:0,height:1})}}function T9(t){let e,n,r,i,o,a;return{c(){e=j("main"),n=j("div"),o=st(),a=j("div"),a.textContent=`For each note but the first, the rectangles' color shows the distance to the
    previous note. A brighter recangle followed by a darker one indicates an
    early note.`,ut(n,"width",r=t[0]+"px"),ut(n,"height",i=t[1]+"px"),nn(e,"width",t[0]+"px")},m(f,c){bt(f,e,c),B(e,n),t[4](n),B(e,o),B(e,a)},p(f,[c]){c&1&&r!==(r=f[0]+"px")&&ut(n,"width",r),c&2&&i!==(i=f[1]+"px")&&ut(n,"height",i),c&1&&nn(e,"width",f[0]+"px")},i:Mt,o:Mt,d(f){f&&pt(e),t[4](null)}}}function k9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;bi(()=>{const c=r.map((u,h)=>h===0?0:u-r[h-1]),s=Cr({width:i,height:o,marginLeft:50,y:{axis:!1},color:{label:"time since previous note",scheme:"Greys"},marks:[p9(c,{x:(u,h)=>h+1,fill:u=>u})]});n(2,a.textContent="",a),a.appendChild(s)});function f(c){rn[c?"unshift":"push"](()=>{a=c,n(2,a)})}return t.$$set=c=>{"pattern"in c&&n(3,r=c.pattern),"width"in c&&n(0,i=c.width),"height"in c&&n(1,o=c.height)},[i,o,a,r,f]}class Jg extends Ve{constructor(e){super(),Ge(this,e,k9,T9,He,{pattern:3,width:0,height:1})}}function E9(t){let e,n,r,i,o,a;return{c(){e=j("main"),n=j("div"),o=st(),a=j("div"),a.textContent=`The waveform of the audio showing the loudness over time time from left to
    right. Note onsets show up as peaks. A smaller gap between peaks followed by
    a larger one indicates an early note.`,ut(n,"width",r=t[0]+"px"),ut(n,"height",i=t[1]+"px"),nn(e,"width",t[0]+"px")},m(f,c){bt(f,e,c),B(e,n),t[6](n),B(e,o),B(e,a)},p(f,[c]){c&1&&r!==(r=f[0]+"px")&&ut(n,"width",r),c&2&&i!==(i=f[1]+"px")&&ut(n,"height",i),c&1&&nn(e,"width",f[0]+"px")},i:Mt,o:Mt,d(f){f&&pt(e),t[6](null)}}}function A9(t,e,n){let{pattern:r}=e,{audioFile:i}=e,{width:o=800}=e,{height:a=50}=e,f,c=null,s;const u=async p=>{n(5,c=await uh(p)),console.log(`Loaded ${p}, sr= ${c.sampleRate}`),s=c.sampleRate};let h=null;const l=(p,g)=>{g&&(h=lh(g,p))};bi(()=>{if(n(2,f.textContent="",f),!h)return;const p=Cr({width:o,height:a,marginLeft:0,x:{axis:!1,label:"time in seconds"},y:{axis:!1},marks:[Zg(h,{x:(g,m)=>m/s,y:g=>g})]});f.appendChild(p)});function d(p){rn[p?"unshift":"push"](()=>{f=p,n(2,f)})}return t.$$set=p=>{"pattern"in p&&n(3,r=p.pattern),"audioFile"in p&&n(4,i=p.audioFile),"width"in p&&n(0,o=p.width),"height"in p&&n(1,a=p.height)},t.$$.update=()=>{t.$$.dirty&16&&u(i),t.$$.dirty&40&&l(r,c)},[o,a,f,r,i,c,d]}class tm extends Ve{constructor(e){super(),Ge(this,e,A9,E9,He,{pattern:3,audioFile:4,width:0,height:1})}}function C9(t){let e,n,r,i,o,a;return{c(){e=j("main"),n=j("audio"),r=st(),i=j("button"),i.textContent="play audio (p)",n.controls=!1},m(f,c){bt(f,e,c),B(e,n),t[6](n),B(e,r),B(e,i),o||(a=se(i,"click",t[1]),o=!0)},p:Mt,i:Mt,o:Mt,d(f){f&&pt(e),t[6](null),o=!1,a()}}}function N9(t,e,n){let{pattern:r}=e,{audioFile:i}=e,{currentTrialNumber:o=-1}=e,a=null;const f=async d=>{n(5,a=await uh(d)),console.log(`Loaded ${d}, sr= ${a.sampleRate}`)};let c=null,s;const u=(d,p)=>{p&&s&&(c=lh(p,d),qm(c,p.sampleRate,s),console.log("rendered audio and attached to element"))},h=()=>{s&&(console.log("play"),s.pause(),n(0,s.currentTime=0,s),s.play())};ah(()=>{document.querySelector("html").addEventListener("keyup",d=>{d.key==="p"&&h()})});function l(d){rn[d?"unshift":"push"](()=>{s=d,n(0,s)})}return t.$$set=d=>{"pattern"in d&&n(2,r=d.pattern),"audioFile"in d&&n(3,i=d.audioFile),"currentTrialNumber"in d&&n(4,o=d.currentTrialNumber)},t.$$.update=()=>{t.$$.dirty&8&&f(i),t.$$.dirty&4&&console.log(r),t.$$.dirty&16&&o>-1&&window.setTimeout(h,200),t.$$.dirty&36&&u(r,a)},[s,h,r,i,o,a,l]}class em extends Ve{constructor(e){super(),Ge(this,e,N9,C9,He,{pattern:2,audioFile:3,currentTrialNumber:4})}}function jl(t,e,n){const r=t.slice();return r[8]=e[n],r}function Zl(t){let e,n=t[8].substring(0,30)+"",r;return{c(){e=j("option"),r=mt(n),e.__value=t[8],ei(e,e.__value)},m(i,o){bt(i,e,o),B(e,r)},p:Mt,d(i){i&&pt(e)}}}function D9(t){let e,n,r,i,o,a,f,c=(po*1e3).toFixed(0)+"",s,u,h,l,d,p,g,m,b=t[0].toFixed(1)+"",y,v,_=(t[2]*1e3).toFixed(1)+"",w,x,$,E,k,A,M,L,F,P,S,U,R,Y,I,C,O,z,W,J,Z=tr(t[5]),X=[];for(let D=0;D<Z.length;D+=1)X[D]=Zl(jl(t,Z,D));return F=new em({props:{pattern:t[1],audioFile:t[3]}}),S=new tm({props:{pattern:t[1],audioFile:t[3],height:100}}),R=new Kg({props:{pattern:t[1]}}),I=new Qg({props:{pattern:t[1]}}),O=new Jg({props:{pattern:t[1]}}),{c(){e=j("main"),n=j("h2"),n.textContent="Playground",r=st(),i=j("p"),i.textContent="All stimuli (audio and visualizations) and configurable deviation.",o=st(),a=j("div"),f=mt("IOI = "),s=mt(c),u=mt(" milliseconds ("),h=mt(t[4]),l=mt(` bpm)
    `),d=j("label"),p=mt(`deviation as percent of IOI
      `),g=j("input"),m=st(),y=mt(b),v=mt(`
      (`),w=mt(_),x=mt(" milliseconds)"),$=st(),E=j("label"),k=mt(`Sample:
      `),A=j("select");for(let D=0;D<X.length;D+=1)X[D].c();M=st(),L=j("div"),Gt(F.$$.fragment),P=st(),Gt(S.$$.fragment),U=st(),Gt(R.$$.fragment),Y=st(),Gt(I.$$.fragment),C=st(),Gt(O.$$.fragment),ut(g,"type","range"),ut(g,"min","-20"),ut(g,"max","20"),ut(g,"step","1"),ut(d,"class","svelte-1sot113"),t[3]===void 0&&sr(()=>t[7].call(A)),ut(E,"class","svelte-1sot113"),ut(L,"class","stimuli svelte-1sot113")},m(D,q){bt(D,e,q),B(e,n),B(e,r),B(e,i),B(e,o),B(e,a),B(a,f),B(a,s),B(a,u),B(a,h),B(a,l),B(a,d),B(d,p),B(d,g),ei(g,t[0]),B(d,m),B(d,y),B(d,v),B(d,w),B(d,x),B(a,$),B(a,E),B(E,k),B(E,A);for(let N=0;N<X.length;N+=1)X[N]&&X[N].m(A,null);Jn(A,t[3],!0),B(e,M),B(e,L),Ot(F,L,null),B(L,P),Ot(S,L,null),B(L,U),Ot(R,L,null),B(L,Y),Ot(I,L,null),B(L,C),Ot(O,L,null),z=!0,W||(J=[se(g,"change",t[6]),se(g,"input",t[6]),se(A,"change",t[7])],W=!0)},p(D,[q]){if((!z||q&16)&&Xr(h,D[4]),q&1&&ei(g,D[0]),(!z||q&1)&&b!==(b=D[0].toFixed(1)+"")&&Xr(y,b),(!z||q&4)&&_!==(_=(D[2]*1e3).toFixed(1)+"")&&Xr(w,_),q&32){Z=tr(D[5]);let G;for(G=0;G<Z.length;G+=1){const at=jl(D,Z,G);X[G]?X[G].p(at,q):(X[G]=Zl(at),X[G].c(),X[G].m(A,null))}for(;G<X.length;G+=1)X[G].d(1);X.length=Z.length}q&40&&Jn(A,D[3]);const N={};q&2&&(N.pattern=D[1]),q&8&&(N.audioFile=D[3]),F.$set(N);const H={};q&2&&(H.pattern=D[1]),q&8&&(H.audioFile=D[3]),S.$set(H);const V={};q&2&&(V.pattern=D[1]),R.$set(V);const T={};q&2&&(T.pattern=D[1]),I.$set(T);const ot={};q&2&&(ot.pattern=D[1]),O.$set(ot)},i(D){z||(_t(F.$$.fragment,D),_t(S.$$.fragment,D),_t(R.$$.fragment,D),_t(I.$$.fragment,D),_t(O.$$.fragment,D),z=!0)},o(D){xt(F.$$.fragment,D),xt(S.$$.fragment,D),xt(R.$$.fragment,D),xt(I.$$.fragment,D),xt(O.$$.fragment,D),z=!1},d(D){D&&pt(e),Ef(X,D),Bt(F),Bt(S),Bt(R),Bt(I),Bt(O),W=!1,sn(J)}}}let po=.5,L9=6,R9=3,F9=!0,I9=0;function P9(t,e,n){let r,i;const o=["./FluidR3_GM_acoustic_grand_piano-mp3_A4.mp3","./MailboxBadgerPublicDomainDrumSamples27LiveDrumsHiHat.mp3"];let a=o[0],f=5,c=[];function s(){f=pm(this.value),n(0,f)}function u(){a=Af(this),n(3,a),n(5,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(2,i=f/100*po),t.$$.dirty&6&&(n(1,c=sh(L9,po,R9,i,F9,I9)),console.log("generated pattern",c))},n(4,r=1/po*60),[f,c,i,a,r,o,s,u]}class U9 extends Ve{constructor(e){super(),Ge(this,e,P9,D9,He,{})}}var nm={exports:{}};(function(t,e){(function(n,r){r()})(Dr,function(){function n(s,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function r(s,u,h){var l=new XMLHttpRequest;l.open("GET",s),l.responseType="blob",l.onload=function(){c(l.response,u,h)},l.onerror=function(){console.error("could not download file")},l.send()}function i(s){var u=new XMLHttpRequest;u.open("HEAD",s,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function o(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Dr=="object"&&Dr.global===Dr?Dr:void 0,f=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(s,u,h){var l=a.URL||a.webkitURL,d=document.createElement("a");u=u||s.name||"download",d.download=u,d.rel="noopener",typeof s=="string"?(d.href=s,d.origin===location.origin?o(d):i(d.href)?r(s,u,h):o(d,d.target="_blank")):(d.href=l.createObjectURL(s),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){o(d)},0))}:"msSaveOrOpenBlob"in navigator?function(s,u,h){if(u=u||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(n(s,h),u);else if(i(s))r(s,u,h);else{var l=document.createElement("a");l.href=s,l.target="_blank",setTimeout(function(){o(l)})}}:function(s,u,h,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof s=="string")return r(s,u,h);var d=s.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||d&&p||f)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var v=m.result;v=g?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=v:location=v,l=null},m.readAsDataURL(s)}else{var b=a.URL||a.webkitURL,y=b.createObjectURL(s);l?l.location=y:location.href=y,l=null,setTimeout(function(){b.revokeObjectURL(y)},4e4)}});a.saveAs=c.saveAs=c,t.exports=c})})(nm);var O9=nm.exports;const B9=ch(O9);function gt(t){this.stairs={};for(const e in t){if(this.stairs[e]=t[e],this.stairs[e].name=e,typeof t[e].firstVal>"u")throw new Error("No firstVal specified for "+e);if(t[e].hasOwnProperty("firstVal")&&(this.stairs[e].firstVal=t[e].firstVal),typeof t[e].stepSizeDown>"u")throw new Error("No stepSizeDown specified for "+e);if(this.stairs[e].stepSizeDown=t[e].stepSizeDown,typeof t[e].stepSizeUp>"u")throw new Error("No stepSizeUp specified for "+e);this.stairs[e].stepSizeUp=t[e].stepSizeUp,this.stairs[e].down=t[e].down||1,this.stairs[e].up=t[e].up||1,this.stairs[e].direction=t[e].direction||-1,this.stairs[e].reversalLimit=t[e].reversalLimit||0,this.stairs[e].limits=t[e].limits||!1,this.stairs[e].operation=t[e].operation||"add",this.stairs[e].wait=t[e].wait||1,this.stairs[e].val=t[e].val||[this.stairs[e].firstVal],this.stairs[e].active=t[e].active||!1,this.stairs[e].sameStairMax=t[e].sameStairMax||-1,this.stairs[e].limitReached=t[e].limitReached||!1,this.stairs[e].reversals=t[e].reversals||0,this.stairs[e].successiveGood=t[e].successiveGood||0,this.stairs[e].successiveBad=t[e].successiveBad||0,this.stairs[e].sameStairCount=t[e].sameStairCount||0,this.stairs[e].verbosity=t[e].verbosity||0,this.stairs[e].verbosity>0&&console.log("Built staircase '"+this.stairs[e].name+"' ("+this.stairs[e].operation+"): Start="+this.stairs[e].firstVal+"; StepSize="+this.stairs[e].stepSize+"; Limits=["+this.stairs[e].limits[0]+", "+this.stairs[e].limits[1]+"]")}this.tasks={easier:{add:{noWait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]-e.stepSizeDown*(e.stepSizeDown/e.up)},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]+e.stepSizeUp*(e.stepSizeUp/e.up)}},wait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]-e.stepSizeDown:e.val[e.val.length-1]},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]+e.stepSizeUp:e.val[e.val.length-1]}}},multiply:{noWait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]/Math.pow(e.stepSizeDown,e.down/e.up)},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]*e.stepSizeUp}},wait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]/e.stepSizeDown:e.val[e.val.length-1]},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]*e.stepSizeUp:e.val[e.val.length-1]}}}},harder:{add:{wait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]+e.stepSizeUp:e.val[e.val.length-1]},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]-e.stepSizeDown:e.val[e.val.length-1]}},noWait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]+e.stepSizeUp*(e.stepSizeUp/e.down)},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]-e.stepSizeDown*(e.stepSize/e.down)}}},multiply:{wait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]*e.stepSizeUp:e.val[e.val.length-1]},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]/e.stepSizeDown:e.val[e.val.length-1]}},noWait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]*e.stepSizeUp},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]/Math.pow(e.stepSizeDown,e.up/e.down)}}}}}}gt.prototype.choose=function(t){const e=this.getActive(),n=t?"harder":"easier";t||(e.startingExplorationScale=1);const r=e.wait?"wait":"noWait";return e.verbosity>0&&console.log("Staircase '"+e.name+"' ("+e.operation+"): making test "+n+", "+r+" mode."),this.tasks[n][e.operation][r][e.direction](e)};gt.prototype.checkLimits=function(t){const e=t;e.val[e.val.length-1]<e.val[e.val.length-2]&&e.val[e.val.length-1]<e.limits[0]?(e.val[e.val.length-1]=e.limits[0],e.limitReached=!0):e.val[e.val.length-1]>e.val[e.val.length-2]&&e.val[e.val.length-1]>e.limits[1]?(e.val[e.val.length-1]=e.limits[1],e.limitReached=!0):e.limitReached=!1};gt.prototype.next=function(t){this.checkErr.ARG("next",arguments,1);const e=this.getActive();return e.val[e.val.length]=this.choose(t),this.checkLimits(e),e.val[e.val.length-1]};gt.prototype.init=function(){const t=[];for(const n in this.stairs)this.stairs[n].active&&this.deactivate(n),this.stairs[n].lock||(t[t.length]=n);const e=rm(0,t.length-1);return this.activate(t[e]),this};gt.prototype.changeActive=function(){const t=[];for(const n in this.stairs)!this.stairs[n].active&&!this.stairs[n].lock?t[t.length]=n:this.stairs[n].active&&this.deactivate(n);const e=rm(0,t.length-1);this.activate(t[e])};gt.prototype.setsameStairMax=function(t,e){return this.checkErr.ARG("setsameStairMax",arguments,2),this.checkErr.UNDEFINED(this.stairs,e),this.stairs[e].sameStairMax=t};gt.prototype.get=function(t){return this.checkErr.ARG("get",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val};gt.prototype.getLast=function(t){return this.checkErr.ARG("getLast",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val[this.stairs[t].val.length-1]};gt.prototype.getActive=function(){for(const t in this.stairs)if(this.stairs[t].active)return this.stairs[t];throw new Error("There is no active staircase. Consider initialize before using 'next' method")};gt.prototype.activate=function(t){this.checkErr.ARG("activate",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active=!0,this.stairs[t].verbosity>0&&console.log("Staircase '"+this.stairs[t].name+"' now active")};gt.prototype.deactivate=function(t){this.checkErr.ARG("deactivate",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active=!1,this.stairs[t].verbosity>0&&console.log("Staircase '"+this.stairs[t].name+"' deactivated")};gt.prototype.resetCounts=function(t){this.stairs[t].sameStairCount=0,this.stairs[t].successiveGood=0,this.stairs[t].limitReached=!1};gt.prototype.isActive=function(t){return this.checkErr.ARG("isActive",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active};gt.prototype.active=function(t){this.checkErr.ARG("active",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);for(const e in this.stairs)if(this.stairs[e].active)return e};gt.prototype.lock=function(t){this.checkErr.ARG("lock",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock=!0};gt.prototype.unlock=function(t){this.checkErr.ARG("unlock",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock=!1};gt.prototype.isLocked=function(t){return this.checkErr.ARG("isLocked",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock};gt.prototype.setVal=function(t,e){this.checkErr.ARG("setVal",arguments,2),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val[this.stairs[t].val.length]=e};gt.prototype.getReversals=function(t){this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);const e=[];let n=this.stairs[t].direction*-1;for(let r=1;r<this.stairs[t].val.length;r++)(n===1&&this.stairs[t].val[r]>this.stairs[t].val[r-1]||n===-1&&this.stairs[t].val[r]<this.stairs[t].val[r-1])&&(e[e.length]=this.stairs[t].val[r-1],n=n*-1);return e.shift(),e};gt.prototype.reversalLimitReached=function(t){return this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.getReversals(t).length>=this.stairs[t].reversalLimit&&this.stairs[t].reversalLimit!==0};gt.prototype.getFinalVal=function(t){this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);const e=this.getReversals(t);if(!e.length)throw new Error("Staircase '"+this.stairs[t].name+"': Not enough reversals to calculate final value.");let n=0;for(let r=0;r<e.length;r++)n=n+e[r];return n/e.length};const Us=function(){};Us.prototype.UNDEFINED=function(t,e){if(t[e]===void 0)throw new Error("Unable to find the staircase '"+e+"'")};Us.prototype.ARG=function(t,e,n){if(e.length===0)throw new Error("Wrong number of arguments for the method '"+t+"'. Required: "+n)};gt.prototype.checkErr=new Us;function rm(t,e){return Math.floor(Math.random()*(e-t+1))+t}function z9(t){let e,n,r,i,o,a,f,c;return{c(){e=j("main"),n=j("div"),o=st(),a=j("button"),a.textContent="toogle absolute",ut(n,"width",r=t[0]+"px"),ut(n,"height",i=t[1]+"px")},m(s,u){bt(s,e,u),B(e,n),t[6](n),B(e,o),B(e,a),f||(c=se(a,"click",t[7]),f=!0)},p(s,[u]){u&1&&r!==(r=s[0]+"px")&&ut(n,"width",r),u&2&&i!==(i=s[1]+"px")&&ut(n,"height",i)},i:Mt,o:Mt,d(s){s&&pt(e),t[6](null),f=!1,c()}}}function q9(t,e,n){let{data:r=[]}=e,{final:i=0}=e,{width:o=800}=e,{height:a=150}=e,f,c=!1;bi(()=>{const h=Cr({width:o,height:a,marginLeft:50,x:{axis:!0,label:"step"},y:{axis:!0},marks:[Zg(c?r.map(l=>Math.abs(l)):r,{x:(l,d)=>d,y:l=>l}),Sc([i],{stroke:"red",strokeDasharray:"2 3"}),Sc([0])]});n(2,f.textContent="",f),f.appendChild(h)});function s(h){rn[h?"unshift":"push"](()=>{f=h,n(2,f)})}const u=()=>{n(3,c=!c)};return t.$$set=h=>{"data"in h&&n(4,r=h.data),"final"in h&&n(5,i=h.final),"width"in h&&n(0,o=h.width),"height"in h&&n(1,a=h.height)},[o,a,f,c,r,i,s,u]}class Y9 extends Ve{constructor(e){super(),Ge(this,e,q9,z9,He,{data:4,final:5,width:0,height:1})}}function Kl(t,e,n){const r=t.slice();return r[33]=e[n],r}function Ql(t,e,n){const r=t.slice();return r[36]=e[n],r}function Jl(t){let e,n=t[36]+"",r;return{c(){e=j("option"),r=mt(n),e.__value=t[36],ei(e,e.__value)},m(i,o){bt(i,e,o),B(e,r)},p:Mt,d(i){i&&pt(e)}}}function th(t){let e,n=t[33].substring(0,30)+"",r;return{c(){e=j("option"),r=mt(n),e.__value=t[33],ei(e,e.__value)},m(i,o){bt(i,e,o),B(e,r)},p:Mt,d(i){i&&pt(e)}}}function W9(t){let e,n,r,i,o;return i=new Y9({props:{data:t[6],final:t[7]}}),{c(){e=j("p"),n=mt(t[8]),r=st(),Gt(i.$$.fragment)},m(a,f){bt(a,e,f),B(e,n),bt(a,r,f),Ot(i,a,f),o=!0},p(a,f){(!o||f[0]&256)&&Xr(n,a[8]);const c={};f[0]&64&&(c.data=a[6]),f[0]&128&&(c.final=a[7]),i.$set(c)},i(a){o||(_t(i.$$.fragment,a),o=!0)},o(a){xt(i.$$.fragment,a),o=!1},d(a){a&&(pt(e),pt(r)),Bt(i,a)}}}function H9(t){let e,n,r,i,o=t[2]+1+"",a,f,c,s,u,h;const l=[V9,G9],d=[];function p(g,m){return g[5]==="audio"?0:g[4]===!1?1:-1}return~(c=p(t))&&(s=d[c]=l[c](t)),{c(){e=j("p"),e.textContent="Use the arrow keys: left for too early, right for too late.",n=st(),r=j("p"),i=mt("Trial number "),a=mt(o),f=st(),s&&s.c(),u=ih()},m(g,m){bt(g,e,m),bt(g,n,m),bt(g,r,m),B(r,i),B(r,a),bt(g,f,m),~c&&d[c].m(g,m),bt(g,u,m),h=!0},p(g,m){(!h||m[0]&4)&&o!==(o=g[2]+1+"")&&Xr(a,o);let b=c;c=p(g),c===b?~c&&d[c].p(g,m):(s&&(Jo(),xt(d[b],1,1,()=>{d[b]=null}),ta()),~c?(s=d[c],s?s.p(g,m):(s=d[c]=l[c](g),s.c()),_t(s,1),s.m(u.parentNode,u)):s=null)},i(g){h||(_t(s),h=!0)},o(g){xt(s),h=!1},d(g){g&&(pt(e),pt(n),pt(r),pt(f),pt(u)),~c&&d[c].d(g)}}}function G9(t){let e,n,r,i;const o=[K9,Z9,j9,X9],a=[];function f(c,s){return c[5]==="waveform"?0:c[5]==="tick"?1:c[5]==="bar"?2:c[5]==="color"?3:-1}return~(e=f(t))&&(n=a[e]=o[e](t)),{c(){n&&n.c(),r=ih()},m(c,s){~e&&a[e].m(c,s),bt(c,r,s),i=!0},p(c,s){let u=e;e=f(c),e===u?~e&&a[e].p(c,s):(n&&(Jo(),xt(a[u],1,1,()=>{a[u]=null}),ta()),~e?(n=a[e],n?n.p(c,s):(n=a[e]=o[e](c),n.c()),_t(n,1),n.m(r.parentNode,r)):n=null)},i(c){i||(_t(n),i=!0)},o(c){xt(n),i=!1},d(c){c&&pt(r),~e&&a[e].d(c)}}}function V9(t){let e,n,r,i;return e=new em({props:{pattern:[...t[0].slice(0,t[0].length-1),t[0].at(-1)+Math.random()*1e-4],audioFile:t[1],currentTrialNumber:t[2]}}),{c(){Gt(e.$$.fragment),n=st(),r=j("p"),r.textContent="You can play the audio as many times as you like."},m(o,a){Ot(e,o,a),bt(o,n,a),bt(o,r,a),i=!0},p(o,a){const f={};a[0]&1&&(f.pattern=[...o[0].slice(0,o[0].length-1),o[0].at(-1)+Math.random()*1e-4]),a[0]&2&&(f.audioFile=o[1]),a[0]&4&&(f.currentTrialNumber=o[2]),e.$set(f)},i(o){i||(_t(e.$$.fragment,o),i=!0)},o(o){xt(e.$$.fragment,o),i=!1},d(o){o&&(pt(n),pt(r)),Bt(e,o)}}}function X9(t){let e,n;return e=new Jg({props:{pattern:t[0],width:Oa,height:Ba}}),{c(){Gt(e.$$.fragment)},m(r,i){Ot(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(_t(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Bt(e,r)}}}function j9(t){let e,n;return e=new Qg({props:{pattern:t[0],width:Oa,height:Ba}}),{c(){Gt(e.$$.fragment)},m(r,i){Ot(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(_t(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Bt(e,r)}}}function Z9(t){let e,n;return e=new Kg({props:{pattern:t[0],width:Oa,height:Ba}}),{c(){Gt(e.$$.fragment)},m(r,i){Ot(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(_t(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Bt(e,r)}}}function K9(t){let e,n;return e=new tm({props:{pattern:t[0],audioFile:t[1],width:Oa,height:Ba}}),{c(){Gt(e.$$.fragment)},m(r,i){Ot(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),i[0]&2&&(o.audioFile=r[1]),e.$set(o)},i(r){n||(_t(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Bt(e,r)}}}function Q9(t){let e,n,r,i,o,a,f,c,s,u,h,l,d,p,g,m,b,y,v,_,w,x,$,E,k,A=tr(t[10]),M=[];for(let R=0;R<A.length;R+=1)M[R]=Jl(Ql(t,A,R));let L=tr(t[9]),F=[];for(let R=0;R<L.length;R+=1)F[R]=th(Kl(t,L,R));const P=[H9,W9],S=[];function U(R,Y){return R[3]?0:R[6].length>0?1:-1}return~(w=U(t))&&(x=S[w]=P[w](t)),{c(){e=j("main"),n=j("h2"),n.textContent="Study",r=st(),i=j("p"),i.innerHTML=`You will be presented with a sequence of six notes which should have equal
    distances. The <b>fourth note</b> might be played too early or too late.`,o=st(),a=j("div"),f=j("label"),c=mt(`Encoding:
      `),s=j("select");for(let R=0;R<M.length;R+=1)M[R].c();u=st(),h=j("label"),l=mt(`Sample:
      `),d=j("select");for(let R=0;R<F.length;R+=1)F[R].c();g=st(),m=j("button"),b=mt("Start"),y=st(),v=j("button"),v.textContent="Download results",_=st(),x&&x.c(),s.disabled=t[3],t[5]===void 0&&sr(()=>t[15].call(s)),d.disabled=p=t[5]!=="audio"&&t[5]!=="waveform",t[1]===void 0&&sr(()=>t[16].call(d)),m.disabled=t[3]},m(R,Y){bt(R,e,Y),B(e,n),B(e,r),B(e,i),B(e,o),B(e,a),B(a,f),B(f,c),B(f,s);for(let I=0;I<M.length;I+=1)M[I]&&M[I].m(s,null);Jn(s,t[5],!0),B(a,u),B(a,h),B(h,l),B(h,d);for(let I=0;I<F.length;I+=1)F[I]&&F[I].m(d,null);Jn(d,t[1],!0),B(a,g),B(a,m),B(m,b),B(a,y),B(a,v),B(e,_),~w&&S[w].m(e,null),$=!0,E||(k=[se(s,"change",t[15]),se(d,"change",t[16]),se(m,"click",t[12]),se(v,"click",t[17])],E=!0)},p(R,Y){if(Y[0]&1024){A=tr(R[10]);let C;for(C=0;C<A.length;C+=1){const O=Ql(R,A,C);M[C]?M[C].p(O,Y):(M[C]=Jl(O),M[C].c(),M[C].m(s,null))}for(;C<M.length;C+=1)M[C].d(1);M.length=A.length}if((!$||Y[0]&8)&&(s.disabled=R[3]),Y[0]&1056&&Jn(s,R[5]),Y[0]&512){L=tr(R[9]);let C;for(C=0;C<L.length;C+=1){const O=Kl(R,L,C);F[C]?F[C].p(O,Y):(F[C]=th(O),F[C].c(),F[C].m(d,null))}for(;C<F.length;C+=1)F[C].d(1);F.length=L.length}(!$||Y[0]&1056&&p!==(p=R[5]!=="audio"&&R[5]!=="waveform"))&&(d.disabled=p),Y[0]&514&&Jn(d,R[1]),(!$||Y[0]&8)&&(m.disabled=R[3]);let I=w;w=U(R),w===I?~w&&S[w].p(R,Y):(x&&(Jo(),xt(S[I],1,1,()=>{S[I]=null}),ta()),~w?(x=S[w],x?x.p(R,Y):(x=S[w]=P[w](R),x.c()),_t(x,1),x.m(e,null)):x=null)},i(R){$||(_t(x),$=!0)},o(R){xt(x),$=!1},d(R){R&&pt(e),Ef(M,R),Ef(F,R),~w&&S[w].d(),E=!1,sn(k)}}}let eh=.5;const kf=20;let J9=6,tx=!0,ex=0,Oa=600,Ba=100;function nx(t,e,n){let r;const i=["./FluidR3_GM_acoustic_grand_piano-mp3_A4.mp3","./MailboxBadgerPublicDomainDrumSamples27LiveDrumsHiHat.mp3"];let o=i[0],a,f,c,s=[],u,h,l=!1,d=!1,p=!1,g=["audio","waveform","tick","bar","color"],m="tick",b=kf,y=4-1,v=[],_=[],w=0,x="";const $=[];ah(()=>{document.querySelector("html").addEventListener("keyup",P)});const E=()=>{h=new gt({ratio:{firstVal:kf,down:2,up:1,stepSizeDown:1,stepSizeUp:1*.5488,limits:[0,kf],direction:-1,reversalLimit:5,verbosity:1}}),h.init()};function k(){E(),n(2,a=0),f=0,u=0,n(3,l=!0),A()}function A(){console.log("Starting trial "+a),c={},d=!0,M()}function M(){let C=Math.round(h.getLast("ratio"));C=Math.random()<.5?C:-C,c.deviation=C,n(13,b=C),console.log("generated pattern",v),n(4,p=!0),window.setTimeout(()=>{n(4,p=!1)},1e3)}function L(I){if(!d)return;d=!1,c.decisionChoice=I,c.errorCode=0;const C=u;(c.decisionChoice==0&&c.deviation<0||c.decisionChoice==1&&c.deviation>0)&&c.errorCode==0&&u++,c.errorCode==0&&(h.next(C!=u),s[s.length]=c),c.errorCode==0&&f++,n(2,a++,a),h.reversalLimitReached("ratio")?F():A()}function F(){n(3,l=!1),S(),n(6,_=[]),n(7,w=h.getFinalVal("ratio"));for(let I=0;I<s.length;I++)n(6,_[I]=s[I].deviation,_);console.log(_),$.push({encoding:m,final:w,data:_,score:u,trialCount:a+1,trials:s,validTrialCount:f}),console.log("results (all)",$)}function P(I){switch(I.key){case"ArrowLeft":L(0);break;case"ArrowRight":L(1);break}}function S(){n(8,x=`You scored ${u} / ${a+1} (${(u/(a+1)*100).toFixed(1)}%) Your end difficulty was ${h.getFinalVal("ratio")}`)}function U(){m=Af(this),n(5,m),n(10,g)}function R(){o=Af(this),n(1,o),n(9,i)}const Y=()=>{const I=JSON.stringify($),C=new Blob([I],{type:"text/plain;charset=utf-8"});B9(C,"results.json")};return t.$$.update=()=>{t.$$.dirty[0]&8192&&n(14,r=b/100*eh),t.$$.dirty[0]&16385&&(n(0,v=sh(J9,eh,y,r,tx,ex)),console.log("generated pattern",v))},[v,o,a,l,p,m,_,w,x,i,g,$,k,b,r,U,R,Y]}class rx extends Ve{constructor(e){super(),Ge(this,e,nx,Q9,He,{},null,[-1,-1])}}function ix(t){let e,n;return e=new rx({}),{c(){Gt(e.$$.fragment)},m(r,i){Ot(e,r,i),n=!0},i(r){n||(_t(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Bt(e,r)}}}function ox(t){let e,n;return e=new U9({}),{c(){Gt(e.$$.fragment)},m(r,i){Ot(e,r,i),n=!0},i(r){n||(_t(e.$$.fragment,r),n=!0)},o(r){xt(e.$$.fragment,r),n=!1},d(r){Bt(e,r)}}}function ax(t){let e,n,r,i,o,a,f,c,s,u,h,l,d;const p=[ox,ix],g=[];function m(b,y){return b[0]==="playground"?0:b[0]==="study"?1:-1}return~(s=m(t))&&(u=g[s]=p[s](t)),{c(){e=j("main"),n=j("h1"),n.textContent="Rhythm Error Perception Study",r=st(),i=j("div"),o=j("button"),o.textContent="Playground",a=st(),f=j("button"),f.textContent="Study",c=st(),u&&u.c()},m(b,y){bt(b,e,y),B(e,n),B(e,r),B(e,i),B(i,o),B(i,a),B(i,f),B(e,c),~s&&g[s].m(e,null),h=!0,l||(d=[se(o,"click",t[1]),se(f,"click",t[2])],l=!0)},p(b,[y]){let v=s;s=m(b),s!==v&&(u&&(Jo(),xt(g[v],1,1,()=>{g[v]=null}),ta()),~s?(u=g[s],u||(u=g[s]=p[s](b),u.c()),_t(u,1),u.m(e,null)):u=null)},i(b){h||(_t(u),h=!0)},o(b){xt(u),h=!1},d(b){b&&pt(e),~s&&g[s].d(),l=!1,sn(d)}}}function fx(t,e,n){let r="study";return[r,()=>n(0,r="playground"),()=>n(0,r="study")]}class cx extends Ve{constructor(e){super(),Ge(this,e,fx,ax,He,{})}}new cx({target:document.getElementById("app")});export{ch as g};
