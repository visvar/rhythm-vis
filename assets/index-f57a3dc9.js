var wg=Object.defineProperty;var vg=(t,e,n)=>e in t?wg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ga=(t,e,n)=>(vg(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Tt(){}function lh(t){return t()}function Gu(){return Object.create(null)}function Ke(t){t.forEach(lh)}function hh(t){return typeof t=="function"}function Ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function xg(t){return Object.keys(t).length===0}function T(t,e){t.appendChild(e)}function at(t,e,n){t.insertBefore(e,n||null)}function ot(t){t.parentNode&&t.parentNode.removeChild(t)}function Cs(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function lt(t){return document.createTextNode(t)}function J(){return lt(" ")}function Ns(){return lt("")}function $t(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function K(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ii(t){return t===""?null:+t}function Mg(t){return Array.from(t.childNodes)}function le(t,e){e=""+e,t.data!==e&&(t.data=e)}function yt(t,e){t.value=e??""}function fn(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function rr(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Nf(t){const e=t.querySelector(":checked");return e&&e.__value}let oi;function Qr(t){oi=t}function dh(){if(!oi)throw new Error("Function called outside component initialization");return oi}function ph(t){dh().$$.on_mount.push(t)}function vi(t){dh().$$.after_update.push(t)}const nr=[],sn=[];let fr=[];const Vu=[],Sg=Promise.resolve();let Df=!1;function $g(){Df||(Df=!0,Sg.then(mh))}function hr(t){fr.push(t)}const Va=new Set;let jn=0;function mh(){if(jn!==0)return;const t=oi;do{try{for(;jn<nr.length;){const e=nr[jn];jn++,Qr(e),Tg(e.$$)}}catch(e){throw nr.length=0,jn=0,e}for(Qr(null),nr.length=0,jn=0;sn.length;)sn.pop()();for(let e=0;e<fr.length;e+=1){const n=fr[e];Va.has(n)||(Va.add(n),n())}fr.length=0}while(nr.length);for(;Vu.length;)Vu.pop()();Df=!1,Va.clear(),Qr(t)}function Tg(t){if(t.fragment!==null){t.update(),Ke(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(hr)}}function kg(t){const e=[],n=[];fr.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),fr=e}const ho=new Set;let xn;function Bn(){xn={r:0,c:[],p:xn}}function zn(){xn.r||Ke(xn.c),xn=xn.p}function dt(t,e){t&&t.i&&(ho.delete(t),t.i(e))}function mt(t,e,n,r){if(t&&t.o){if(ho.has(t))return;ho.add(t),xn.c.push(()=>{ho.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function dr(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function qt(t){t&&t.c()}function It(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),hr(()=>{const o=t.$$.on_mount.map(lh).filter(hh);t.$$.on_destroy?t.$$.on_destroy.push(...o):Ke(o),t.$$.on_mount=[]}),i.forEach(hr)}function Pt(t,e){const n=t.$$;n.fragment!==null&&(kg(n.after_update),Ke(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Eg(t,e){t.$$.dirty[0]===-1&&(nr.push(t),$g(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ae(t,e,n,r,i,o,a=null,f=[-1]){const s=oi;Qr(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Tt,not_equal:i,bound:Gu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Gu(),dirty:f,skip_bound:!1,root:e.target||s.$$.root};a&&a(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,l,...d)=>{const p=d.length?d[0]:l;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&Eg(t,h)),l}):[],u.update(),c=!0,Ke(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=Mg(e.target);u.fragment&&u.fragment.l(h),h.forEach(ot)}else u.fragment&&u.fragment.c();e.intro&&dt(t.$$.fragment),It(t,e.target,e.anchor),mh()}Qr(s)}class Ce{constructor(){Ga(this,"$$");Ga(this,"$$set")}$destroy(){Pt(this,1),this.$destroy=Tt}$on(e,n){if(!hh(n))return Tt;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!xg(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ag="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ag);const Cg="modulepreload",Ng=function(t){return"/rhythm-vis/"+t},Xu={},Zn=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Ng(o),o in Xu)return;Xu[o]=!0;const a=o.endsWith(".css"),f=a?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===o&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${f}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Cg,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function Dg(t){if(t){if(t=new Uint8Array(t.buffer||t),Rg(t))return"wav";if(Lg(t))return"mp3";if(Ig(t))return"flac";if(Pg(t))return"m4a";if(Og(t))return"opus";if(Fg(t))return"oga";if(Ug(t))return"qoa"}}function Lg(t){if(!(!t||t.length<3))return t[0]===73&&t[1]===68&&t[2]===51||t[0]===255&&(t[1]&224)===224||t[0]===84&&t[1]===65&&t[2]===71}function Rg(t){if(!(!t||t.length<12))return t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70&&t[8]===87&&t[9]===65&&t[10]===86&&t[11]===69}function Fg(t){if(!(!t||t.length<4))return t[0]===79&&t[1]===103&&t[2]===103&&t[3]===83}function Ig(t){if(!(!t||t.length<4))return t[0]===102&&t[1]===76&&t[2]===97&&t[3]===67}function Pg(t){if(!(!t||t.length<8))return t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112||t[0]===77&&t[1]===52&&t[2]===65&&t[3]===32}function Og(t){if(!(!t||t.length<36))return t[0]===79&&t[1]===103&&t[2]===103&&t[3]===83&&t[28]===79&&t[29]===112&&t[30]===117&&t[31]===115&&t[32]===72&&t[33]===101&&t[34]===97&&t[35]===100}function Ug(t){if(t)return t[0]===113&&t[1]===111&&t[2]===97&&t[3]===102}let Bg=class{constructor(e){if(!e)throw TypeError("options argument is required");if(!e.sampleRate)throw TypeError("options.sampleRate is required");if(e.sampleRate<3e3||e.sampleRate>768e3)throw TypeError("options.sampleRate must be within 3000..768000");if(!e.length)throw TypeError("options.length must be more than 0");this.sampleRate=e.sampleRate,this.numberOfChannels=e.numberOfChannels||1,this.length=e.length|0,this.duration=this.length/this.sampleRate,this._data=new Float32Array(this.length*this.numberOfChannels),this._channelData=[];for(let n=0;n<this.numberOfChannels;n++)this._channelData.push(this._data.subarray(n*this.length,(n+1)*this.length))}getChannelData(e){if(e>=this.numberOfChannels||e<0||e==null)throw Error("Cannot getChannelData: channel number ("+e+") exceeds number of channels ("+this.numberOfChannels+")");return this._channelData[e]}copyFromChannel(e,n,r){r==null&&(r=0);for(var i=this._channelData[n],o=r,a=0;o<this.length&&a<e.length;o++,a++)e[a]=i[o]}copyToChannel(e,n,r){var i=this._channelData[n];r||(r=0);for(var o=r,a=0;o<this.length&&a<e.length;o++,a++)i[o]=e[a]}};const zg=globalThis.AudioBuffer||Bg;async function qg(t){if(!t&&!(t.length||t.buffer))throw Error("Bad decode target");t=new Uint8Array(t.buffer||t);let e=Dg(t);if(!e)throw Error("Cannot detect audio format");if(!rn[e])throw Error("Missing decoder for "+e+" format");return rn[e](t)}const rn={async oga(t){let{OggVorbisDecoder:e}=await Zn(()=>import("./index-79569c8b.js"),["assets/index-79569c8b.js","assets/utilities-51672568.js","assets/index-0047a0ad.js"]);const n=new e;return await n.ready,(rn.oga=async r=>r&&Kn(await n.decodeFile(r)))(t)},async mp3(t){const{MPEGDecoder:e}=await Zn(()=>import("./index-eceb86c8.js"),["assets/index-eceb86c8.js","assets/utilities-51672568.js"]),n=new e;return await n.ready,(rn.mp3=r=>r&&Kn(n.decode(r)))(t)},async flac(t){const{FLACDecoder:e}=await Zn(()=>import("./index-5ba4f837.js"),["assets/index-5ba4f837.js","assets/utilities-51672568.js","assets/index-0047a0ad.js"]),n=new e;return await n.ready,(rn.mp3=async r=>r&&Kn(await n.decode(r)))(t)},async opus(t){const{OggOpusDecoder:e}=await Zn(()=>import("./index-e433d3fd.js"),["assets/index-e433d3fd.js","assets/utilities-51672568.js","assets/index-0047a0ad.js"]),n=new e;return await n.ready,(rn.opus=async r=>r&&Kn(await n.decodeFile(r)))(t)},async wav(t){let e=await Zn(()=>import("./index-09fcc97c.js").then(r=>r.i),[]),{decode:n}=e.default;return(rn.wav=r=>r&&Kn(n(r)))(t)},async qoa(t){let{decode:e}=await Zn(()=>import("./index-12ef46d6.js"),[]);return(rn.qoa=n=>n&&Kn(e(n)))(t)}};function Kn({channelData:t,sampleRate:e}){let n=new zg({sampleRate:e,length:t[0].length,numberOfChannels:t.length});for(let r=0;r<t.length;r++)n.getChannelData(r).set(t[r]);return n}var Ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yg=Wg;function Wg(t,e){e=e||{};var n=t.numberOfChannels,r=t.sampleRate,i=e.float32?3:1,o=i===3?32:16,a;return n===2?a=Gg(t.getChannelData(0),t.getChannelData(1)):a=t.getChannelData(0),Hg(a,i,r,n,o)}function Hg(t,e,n,r,i){var o=i/8,a=r*o,f=new ArrayBuffer(44+t.length*o),s=new DataView(f);return Wi(s,0,"RIFF"),s.setUint32(4,36+t.length*o,!0),Wi(s,8,"WAVE"),Wi(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,e,!0),s.setUint16(22,r,!0),s.setUint32(24,n,!0),s.setUint32(28,n*a,!0),s.setUint16(32,a,!0),s.setUint16(34,i,!0),Wi(s,36,"data"),s.setUint32(40,t.length*o,!0),e===1?Xg(s,44,t):Vg(s,44,t),f}function Gg(t,e){for(var n=t.length+e.length,r=new Float32Array(n),i=0,o=0;i<n;)r[i++]=t[o],r[i++]=e[o],o++;return r}function Vg(t,e,n){for(var r=0;r<n.length;r++,e+=4)t.setFloat32(e,n[r],!0)}function Xg(t,e,n){for(var r=0;r<n.length;r++,e+=2){var i=Math.max(-1,Math.min(1,n[r]));t.setInt16(e,i<0?i*32768:i*32767,!0)}}function Wi(t,e,n){for(var r=0;r<n.length;r++)t.setUint8(e+r,n.charCodeAt(r))}const jg=gh(Yg);function yh(t=16,e=.5,n=0,r=0,i=!1,o=0){const a=[];for(let f=0;f<t;++f){let s;i?s=f>=n?r:0:s=f===n?r:0,a.push(f*e+o+s)}return a}async function bh(t){const n=await(await fetch(t)).arrayBuffer();return await qg(n)}function _h(t,e,n=1){const r=e.at(-1)+n,i=t.getChannelData(0),o=new Float32Array(Math.ceil(r*t.sampleRate));for(const a of e){const f=Math.round(a*t.sampleRate);for(let s=0;s<i.length;++s)o[f+s]=i[s]}return o}function Zg(t,e,n){const r=new AudioBuffer({sampleRate:e,length:t.length});r.copyToChannel(t,0);const i=new Blob([jg(r)],{type:"audio/wav"});n.src=window.URL.createObjectURL(i)}function Kg(t){return t.map(e=>({value:e,sort:Math.random()})).sort((e,n)=>e.sort-n.sort).map(({value:e})=>e)}function Gt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xi(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ia(t){let e,n,r;t.length!==2?(e=Gt,n=(f,s)=>Gt(t(f),s),r=(f,s)=>t(f)-s):(e=t===Gt||t===xi?t:Qg,n=t,r=t);function i(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{const h=u+c>>>1;n(f[h],s)<0?u=h+1:c=h}while(u<c)}return u}function o(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{const h=u+c>>>1;n(f[h],s)<=0?u=h+1:c=h}while(u<c)}return u}function a(f,s,u=0,c=f.length){const h=i(f,s,u,c-1);return h>u&&r(f[h-1],s)>-r(f[h],s)?h-1:h}return{left:i,center:a,right:o}}function Qg(){return 0}function wh(t){return t===null?NaN:+t}function*Jg(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const t2=ia(Gt),e2=t2.right;ia(wh).center;const oa=e2;function Ds(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function n2(t){return t.length|0}function r2(t){return!(t>0)}function i2(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function o2(t){return e=>t(...e)}function a2(...t){const e=typeof t[t.length-1]=="function"&&o2(t.pop());t=t.map(i2);const n=t.map(n2),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(r2))return o;for(;;){o.push(i.map((f,s)=>t[s][f]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function f2(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function vh(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function xh(t,e){const n=vh(t,e);return n&&Math.sqrt(n)}function ee(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Cn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,f=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);f&&(n[r++]=f),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Nn extends Map{constructor(e,n=$h){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Lf(this,e))}has(e){return super.has(Lf(this,e))}set(e,n){return super.set(Mh(this,e),n)}delete(e){return super.delete(Sh(this,e))}}class aa extends Set{constructor(e,n=$h){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Lf(this,e))}add(e){return super.add(Mh(this,e))}delete(e){return super.delete(Sh(this,e))}}function Lf({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Mh({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Sh({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $h(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rf(t){return t}function fa(t,...e){return Ls(t,Rf,Rf,e)}function sr(t,e,...n){return Ls(t,Rf,e,n)}function s2(t,e,...n){return Ls(t,Array.from,e,n)}function Ls(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const f=new Nn,s=r[a++];let u=-1;for(const c of o){const h=s(c,++u,o),l=f.get(h);l?l.push(c):f.set(h,[c])}for(const[c,h]of f)f.set(c,i(h,a));return e(f)}(t,0)}function u2(t,e){return Array.from(e,n=>t[n])}function ai(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const f=wo(a[i],a[o]);if(f)return f}})):(n=t.map(n),r.sort((i,o)=>wo(n[i],n[o]))),u2(t,r)}return t.sort(Th(n))}function Th(t=Gt){if(t===Gt)return wo;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wo(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Rs(t,e,n){return(e.length!==2?ai(sr(t,e,n),([r,i],[o,a])=>Gt(i,a)||Gt(r,o)):ai(fa(t,n),([r,i],[o,a])=>e(i,a)||Gt(r,o))).map(([r])=>r)}const c2=Math.sqrt(50),l2=Math.sqrt(10),h2=Math.sqrt(2);function vo(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=c2?10:o>=l2?5:o>=h2?2:1;let f,s,u;return i<0?(u=Math.pow(10,-i)/a,f=Math.round(t*u),s=Math.round(e*u),f/u<t&&++f,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*a,f=Math.round(t/u),s=Math.round(e/u),f*u<t&&++f,s*u>e&&--s),s<f&&.5<=n&&n<2?vo(t,e,n*2):[f,s,u]}function fi(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?vo(e,t,n):vo(t,e,n);if(!(o>=i))return[];const f=o-i+1,s=new Array(f);if(r)if(a<0)for(let u=0;u<f;++u)s[u]=(o-u)/-a;else for(let u=0;u<f;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<f;++u)s[u]=(i+u)/-a;else for(let u=0;u<f;++u)s[u]=(i+u)*a;return s}function xo(t,e,n){return e=+e,t=+t,n=+n,vo(t,e,n)[2]}function Ff(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xo(e,t,n):xo(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function d2(t){return Math.max(1,Math.ceil(Math.log(Ds(t))/Math.LN2)+1)}function he(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function p2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function He(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function m2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function kh(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wo:Th(i);r>n;){if(r-n>600){const s=r-n+1,u=e-n+1,c=Math.log(s),h=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*h*(s-h)/s)*(u-s/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/s+l)),p=Math.min(r,Math.floor(e+(s-u)*h/s+l));kh(t,e,d,p,i)}const o=t[e];let a=n,f=r;for(Pr(t,n,e),i(t[r],o)>0&&Pr(t,n,r);a<f;){for(Pr(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[n],o)===0?Pr(t,n,f):(++f,Pr(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function Pr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Eh(t,e=Gt){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?Gt(a,i)>0:Gt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function pr(t,e,n){if(t=Float64Array.from(Jg(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return He(t);if(e>=1)return he(t);var r,i=(r-1)*e,o=Math.floor(i),a=he(kh(t,o).subarray(0,o+1)),f=He(t.subarray(o+1));return a+(f-a)*(i-o)}}function g2(t,e,n=wh){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),f=+n(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function y2(t,e,n){const r=Ds(t),i=pr(t,.75)-pr(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function Ah(t,e,n){const r=Ds(t),i=xh(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function b2(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function If(t,e){return pr(t,.5,e)}function*_2(t){for(const e of t)yield*e}function Ch(t){return Array.from(_2(t))}function w2(t,e){const n=new Nn;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function v2(t,e=x2){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function x2(t,e){return[t,e]}function Pf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function un(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Mo(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function M2(t){return t}var Xa=1,ja=2,Of=3,Hi=4,ju=1e-6;function S2(t){return"translate("+t+",0)"}function $2(t){return"translate(0,"+t+")"}function T2(t){return e=>+t(e)}function k2(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function E2(){return!this.__axis}function A2(t,e){var n=[],r=null,i=null,o=6,a=6,f=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Xa||t===Hi?-1:1,c=t===Hi||t===ja?"x":"y",h=t===Xa||t===Of?S2:$2;function l(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):M2),g=Math.max(o,0)+f,w=e.range(),y=+w[0]+s,_=+w[w.length-1]+s,b=(e.bandwidth?k2:T2)(e.copy(),s),v=d.selection?d.selection():d,x=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(p,e).order(),k=M.exit(),E=M.enter().append("g").attr("class","tick"),N=M.select("line"),$=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(E),N=N.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),$=$.merge(E.append("text").attr("fill","currentColor").attr(c,u*g).attr("dy",t===Xa?"0em":t===Of?"0.71em":"0.32em")),d!==v&&(x=x.transition(d),M=M.transition(d),N=N.transition(d),$=$.transition(d),k=k.transition(d).attr("opacity",ju).attr("transform",function(L){return isFinite(L=b(L))?h(L+s):this.getAttribute("transform")}),E.attr("opacity",ju).attr("transform",function(L){var F=this.parentNode.__axis;return h((F&&isFinite(F=F(L))?F:b(L))+s)})),k.remove(),x.attr("d",t===Hi||t===ja?a?"M"+u*a+","+y+"H"+s+"V"+_+"H"+u*a:"M"+s+","+y+"V"+_:a?"M"+y+","+u*a+"V"+s+"H"+_+"V"+u*a:"M"+y+","+s+"H"+_),M.attr("opacity",1).attr("transform",function(L){return h(b(L)+s)}),N.attr(c+"2",u*o),$.attr(c,u*g).text(m),v.filter(E2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ja?"start":t===Hi?"end":"middle"),v.each(function(){this.__axis=b})}return l.scale=function(d){return arguments.length?(e=d,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),l):n.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(f=+d,l):f},l.offset=function(d){return arguments.length?(s=+d,l):s},l}function C2(t){return A2(Of,t)}var N2={value:()=>{}};function Nh(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new po(n)}function po(t){this._=t}function D2(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}po.prototype=Nh.prototype={constructor:po,on:function(t,e){var n=this._,r=D2(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=L2(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Zu(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Zu(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new po(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function L2(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Zu(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=N2,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Uf="http://www.w3.org/1999/xhtml";const mr={svg:"http://www.w3.org/2000/svg",xhtml:Uf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sa(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),mr.hasOwnProperty(e)?{space:mr[e],local:t}:t}function R2(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Uf&&e.documentElement.namespaceURI===Uf?e.createElement(t):e.createElementNS(n,t)}}function F2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ua(t){var e=sa(t);return(e.local?F2:R2)(e)}function I2(){}function Fs(t){return t==null?I2:function(){return this.querySelector(t)}}function P2(t){typeof t!="function"&&(t=Fs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=new Array(a),s,u,c=0;c<a;++c)(s=o[c])&&(u=t.call(s,s.__data__,c,o))&&("__data__"in s&&(u.__data__=s.__data__),f[c]=u);return new Zt(r,this._parents)}function O2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function U2(){return[]}function Dh(t){return t==null?U2:function(){return this.querySelectorAll(t)}}function B2(t){return function(){return O2(t.apply(this,arguments))}}function z2(t){typeof t=="function"?t=B2(t):t=Dh(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],f=a.length,s,u=0;u<f;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),i.push(s));return new Zt(r,i)}function Lh(t){return function(){return this.matches(t)}}function Rh(t){return function(e){return e.matches(t)}}var q2=Array.prototype.find;function Y2(t){return function(){return q2.call(this.children,t)}}function W2(){return this.firstElementChild}function H2(t){return this.select(t==null?W2:Y2(typeof t=="function"?t:Rh(t)))}var G2=Array.prototype.filter;function V2(){return Array.from(this.children)}function X2(t){return function(){return G2.call(this.children,t)}}function j2(t){return this.selectAll(t==null?V2:X2(typeof t=="function"?t:Rh(t)))}function Z2(t){typeof t!="function"&&(t=Lh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&f.push(s);return new Zt(r,this._parents)}function Fh(t){return new Array(t.length)}function K2(){return new Zt(this._enter||this._groups.map(Fh),this._parents)}function So(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}So.prototype={constructor:So,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Q2(t){return function(){return t}}function J2(t,e,n,r,i,o){for(var a=0,f,s=e.length,u=o.length;a<u;++a)(f=e[a])?(f.__data__=o[a],r[a]=f):n[a]=new So(t,o[a]);for(;a<s;++a)(f=e[a])&&(i[a]=f)}function ty(t,e,n,r,i,o,a){var f,s,u=new Map,c=e.length,h=o.length,l=new Array(c),d;for(f=0;f<c;++f)(s=e[f])&&(l[f]=d=a.call(s,s.__data__,f,e)+"",u.has(d)?i[f]=s:u.set(d,s));for(f=0;f<h;++f)d=a.call(t,o[f],f,o)+"",(s=u.get(d))?(r[f]=s,s.__data__=o[f],u.delete(d)):n[f]=new So(t,o[f]);for(f=0;f<c;++f)(s=e[f])&&u.get(l[f])===s&&(i[f]=s)}function ey(t){return t.__data__}function ny(t,e){if(!arguments.length)return Array.from(this,ey);var n=e?ty:J2,r=this._parents,i=this._groups;typeof t!="function"&&(t=Q2(t));for(var o=i.length,a=new Array(o),f=new Array(o),s=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],l=h.length,d=ry(t.call(c,c&&c.__data__,u,r)),p=d.length,m=f[u]=new Array(p),g=a[u]=new Array(p),w=s[u]=new Array(l);n(c,h,m,g,w,d,e);for(var y=0,_=0,b,v;y<p;++y)if(b=m[y]){for(y>=_&&(_=y+1);!(v=g[_])&&++_<p;);b._next=v||null}}return a=new Zt(a,r),a._enter=f,a._exit=s,a}function ry(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iy(){return new Zt(this._exit||this._groups.map(Fh),this._parents)}function oy(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ay(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),f=new Array(i),s=0;s<a;++s)for(var u=n[s],c=r[s],h=u.length,l=f[s]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(l[p]=d);for(;s<i;++s)f[s]=n[s];return new Zt(f,this._parents)}function fy(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function sy(t){t||(t=uy);function e(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],f=a.length,s=i[o]=new Array(f),u,c=0;c<f;++c)(u=a[c])&&(s[c]=u);s.sort(e)}return new Zt(i,this._parents).order()}function uy(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cy(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ly(){return Array.from(this)}function hy(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function dy(){let t=0;for(const e of this)++t;return t}function py(){return!this.node()}function my(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function gy(t){return function(){this.removeAttribute(t)}}function yy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function by(t,e){return function(){this.setAttribute(t,e)}}function _y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wy(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function vy(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xy(t,e){var n=sa(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?yy:gy:typeof e=="function"?n.local?vy:wy:n.local?_y:by)(n,e))}function Ih(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function My(t){return function(){this.style.removeProperty(t)}}function Sy(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $y(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ty(t,e,n){return arguments.length>1?this.each((e==null?My:typeof e=="function"?$y:Sy)(t,e,n??"")):gr(this.node(),t)}function gr(t,e){return t.style.getPropertyValue(e)||Ih(t).getComputedStyle(t,null).getPropertyValue(e)}function ky(t){return function(){delete this[t]}}function Ey(t,e){return function(){this[t]=e}}function Ay(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Cy(t,e){return arguments.length>1?this.each((e==null?ky:typeof e=="function"?Ay:Ey)(t,e)):this.node()[t]}function Ph(t){return t.trim().split(/^|\s+/)}function Is(t){return t.classList||new Oh(t)}function Oh(t){this._node=t,this._names=Ph(t.getAttribute("class")||"")}Oh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Uh(t,e){for(var n=Is(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Bh(t,e){for(var n=Is(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ny(t){return function(){Uh(this,t)}}function Dy(t){return function(){Bh(this,t)}}function Ly(t,e){return function(){(e.apply(this,arguments)?Uh:Bh)(this,t)}}function Ry(t,e){var n=Ph(t+"");if(arguments.length<2){for(var r=Is(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ly:e?Ny:Dy)(n,e))}function Fy(){this.textContent=""}function Iy(t){return function(){this.textContent=t}}function Py(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Oy(t){return arguments.length?this.each(t==null?Fy:(typeof t=="function"?Py:Iy)(t)):this.node().textContent}function Uy(){this.innerHTML=""}function By(t){return function(){this.innerHTML=t}}function zy(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function qy(t){return arguments.length?this.each(t==null?Uy:(typeof t=="function"?zy:By)(t)):this.node().innerHTML}function Yy(){this.nextSibling&&this.parentNode.appendChild(this)}function Wy(){return this.each(Yy)}function Hy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gy(){return this.each(Hy)}function Vy(t){var e=typeof t=="function"?t:ua(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Xy(){return null}function jy(t,e){var n=typeof t=="function"?t:ua(t),r=e==null?Xy:typeof e=="function"?e:Fs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Zy(){var t=this.parentNode;t&&t.removeChild(this)}function Ky(){return this.each(Zy)}function Qy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jy(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tb(t){return this.select(t?Jy:Qy)}function eb(t){return arguments.length?this.property("__data__",t):this.node().__data__}function nb(t){return function(e){t.call(this,e,this.__data__)}}function rb(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ib(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function ob(t,e,n){return function(){var r=this.__on,i,o=nb(e);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ab(t,e,n){var r=rb(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var s=0,u=f.length,c;s<u;++s)for(i=0,c=f[s];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(f=e?ob:ib,i=0;i<o;++i)this.each(f(r[i],e,n));return this}function zh(t,e,n){var r=Ih(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function fb(t,e){return function(){return zh(this,t,e)}}function sb(t,e){return function(){return zh(this,t,e.apply(this,arguments))}}function ub(t,e){return this.each((typeof e=="function"?sb:fb)(t,e))}function*cb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var qh=[null];function Zt(t,e){this._groups=t,this._parents=e}function Mi(){return new Zt([[document.documentElement]],qh)}function lb(){return this}Zt.prototype=Mi.prototype={constructor:Zt,select:P2,selectAll:z2,selectChild:H2,selectChildren:j2,filter:Z2,data:ny,enter:K2,exit:iy,join:oy,merge:ay,selection:lb,order:fy,sort:sy,call:cy,nodes:ly,node:hy,size:dy,empty:py,each:my,attr:xy,style:Ty,property:Cy,classed:Ry,text:Oy,html:qy,raise:Wy,lower:Gy,append:Vy,insert:jy,remove:Ky,clone:tb,datum:eb,on:ab,dispatch:ub,[Symbol.iterator]:cb};function Jr(t){return typeof t=="string"?new Zt([[document.querySelector(t)]],[document.documentElement]):new Zt([[t]],qh)}function hb(t){let e;for(;e=t.sourceEvent;)t=e;return t}function db(t,e){if(t=hb(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Er(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Si(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dn(){}var Dn=.7,yr=1/Dn,ur="\\s*([+-]?\\d+)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pb=/^#([0-9a-f]{3,8})$/,mb=new RegExp(`^rgb\\(${ur},${ur},${ur}\\)$`),gb=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),yb=new RegExp(`^rgba\\(${ur},${ur},${ur},${si}\\)$`),bb=new RegExp(`^rgba\\(${$e},${$e},${$e},${si}\\)$`),_b=new RegExp(`^hsl\\(${si},${$e},${$e}\\)$`),wb=new RegExp(`^hsla\\(${si},${$e},${$e},${si}\\)$`),Ku={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Er(dn,Ln,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Qu,formatHex:Qu,formatHex8:vb,formatHsl:xb,formatRgb:Ju,toString:Ju});function Qu(){return this.rgb().formatHex()}function vb(){return this.rgb().formatHex8()}function xb(){return Yh(this).formatHsl()}function Ju(){return this.rgb().formatRgb()}function Ln(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pb.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tc(e):n===3?new Nt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mb.exec(t))?new Nt(e[1],e[2],e[3],1):(e=gb.exec(t))?new Nt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yb.exec(t))?Gi(e[1],e[2],e[3],e[4]):(e=bb.exec(t))?Gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_b.exec(t))?rc(e[1],e[2]/100,e[3]/100,1):(e=wb.exec(t))?rc(e[1],e[2]/100,e[3]/100,e[4]):Ku.hasOwnProperty(t)?tc(Ku[t]):t==="transparent"?new Nt(NaN,NaN,NaN,0):null}function tc(t){return new Nt(t>>16&255,t>>8&255,t&255,1)}function Gi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Nt(t,e,n,r)}function Ps(t){return t instanceof dn||(t=Ln(t)),t?(t=t.rgb(),new Nt(t.r,t.g,t.b,t.opacity)):new Nt}function cn(t,e,n,r){return arguments.length===1?Ps(t):new Nt(t,e,n,r??1)}function Nt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Er(Nt,cn,Si(dn,{brighter(t){return t=t==null?yr:Math.pow(yr,t),new Nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dn:Math.pow(Dn,t),new Nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Nt(kn(this.r),kn(this.g),kn(this.b),$o(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ec,formatHex:ec,formatHex8:Mb,formatRgb:nc,toString:nc}));function ec(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function Mb(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function nc(){const t=$o(this.opacity);return`${t===1?"rgb(":"rgba("}${kn(this.r)}, ${kn(this.g)}, ${kn(this.b)}${t===1?")":`, ${t})`}`}function $o(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mn(t){return t=kn(t),(t<16?"0":"")+t.toString(16)}function rc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ue(t,e,n,r)}function Yh(t){if(t instanceof ue)return new ue(t.h,t.s,t.l,t.opacity);if(t instanceof dn||(t=Ln(t)),!t)return new ue;if(t instanceof ue)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,f=o-i,s=(o+i)/2;return f?(e===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-e)/f+2:a=(e-n)/f+4,f/=s<.5?o+i:2-o-i,a*=60):f=s>0&&s<1?0:a,new ue(a,f,s,t.opacity)}function Bf(t,e,n,r){return arguments.length===1?Yh(t):new ue(t,e,n,r??1)}function ue(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Er(ue,Bf,Si(dn,{brighter(t){return t=t==null?yr:Math.pow(yr,t),new ue(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dn:Math.pow(Dn,t),new ue(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Nt(Za(t>=240?t-240:t+120,i,r),Za(t,i,r),Za(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ue(ic(this.h),Vi(this.s),Vi(this.l),$o(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$o(this.opacity);return`${t===1?"hsl(":"hsla("}${ic(this.h)}, ${Vi(this.s)*100}%, ${Vi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ic(t){return t=(t||0)%360,t<0?t+360:t}function Vi(t){return Math.max(0,Math.min(1,t||0))}function Za(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Wh=Math.PI/180,Hh=180/Math.PI,To=18,Gh=.96422,Vh=1,Xh=.82521,jh=4/29,cr=6/29,Zh=3*cr*cr,Sb=cr*cr*cr;function Kh(t){if(t instanceof Te)return new Te(t.l,t.a,t.b,t.opacity);if(t instanceof qe)return Qh(t);t instanceof Nt||(t=Ps(t));var e=tf(t.r),n=tf(t.g),r=tf(t.b),i=Ka((.2225045*e+.7168786*n+.0606169*r)/Vh),o,a;return e===n&&n===r?o=a=i:(o=Ka((.4360747*e+.3850649*n+.1430804*r)/Gh),a=Ka((.0139322*e+.0971045*n+.7141733*r)/Xh)),new Te(116*i-16,500*(o-i),200*(i-a),t.opacity)}function zf(t,e,n,r){return arguments.length===1?Kh(t):new Te(t,e,n,r??1)}function Te(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Er(Te,zf,Si(dn,{brighter(t){return new Te(this.l+To*(t??1),this.a,this.b,this.opacity)},darker(t){return new Te(this.l-To*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Gh*Qa(e),t=Vh*Qa(t),n=Xh*Qa(n),new Nt(Ja(3.1338561*e-1.6168667*t-.4906146*n),Ja(-.9787684*e+1.9161415*t+.033454*n),Ja(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ka(t){return t>Sb?Math.pow(t,1/3):t/Zh+jh}function Qa(t){return t>cr?t*t*t:Zh*(t-jh)}function Ja(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function tf(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $b(t){if(t instanceof qe)return new qe(t.h,t.c,t.l,t.opacity);if(t instanceof Te||(t=Kh(t)),t.a===0&&t.b===0)return new qe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Hh;return new qe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function qf(t,e,n,r){return arguments.length===1?$b(t):new qe(t,e,n,r??1)}function qe(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Qh(t){if(isNaN(t.h))return new Te(t.l,0,0,t.opacity);var e=t.h*Wh;return new Te(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Er(qe,qf,Si(dn,{brighter(t){return new qe(this.h,this.c,this.l+To*(t??1),this.opacity)},darker(t){return new qe(this.h,this.c,this.l-To*(t??1),this.opacity)},rgb(){return Qh(this).rgb()}}));var Jh=-.14861,Os=1.78277,Us=-.29227,ca=-.90649,ui=1.97294,oc=ui*ca,ac=ui*Os,fc=Os*Us-ca*Jh;function Tb(t){if(t instanceof En)return new En(t.h,t.s,t.l,t.opacity);t instanceof Nt||(t=Ps(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(fc*r+oc*e-ac*n)/(fc+oc-ac),o=r-i,a=(ui*(n-i)-Us*o)/ca,f=Math.sqrt(a*a+o*o)/(ui*i*(1-i)),s=f?Math.atan2(a,o)*Hh-120:NaN;return new En(s<0?s+360:s,f,i,t.opacity)}function ke(t,e,n,r){return arguments.length===1?Tb(t):new En(t,e,n,r??1)}function En(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Er(En,ke,Si(dn,{brighter(t){return t=t==null?yr:Math.pow(yr,t),new En(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dn:Math.pow(Dn,t),new En(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Wh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Nt(255*(e+n*(Jh*r+Os*i)),255*(e+n*(Us*r+ca*i)),255*(e+n*(ui*r)),this.opacity)}}));function kb(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Eb(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<e-1?t[r+2]:2*o-i;return kb((n-r/e)*e,a,i,o,f)}}const la=t=>()=>t;function td(t,e){return function(n){return t+n*e}}function Ab(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bs(t,e){var n=e-t;return n?td(t,n>180||n<-180?n-360*Math.round(n/360):n):la(isNaN(t)?e:t)}function Cb(t){return(t=+t)==1?Ot:function(e,n){return n-e?Ab(e,n,t):la(isNaN(e)?n:e)}}function Ot(t,e){var n=e-t;return n?td(t,n):la(isNaN(t)?e:t)}const Rn=function t(e){var n=Cb(e);function r(i,o){var a=n((i=cn(i)).r,(o=cn(o)).r),f=n(i.g,o.g),s=n(i.b,o.b),u=Ot(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=f(c),i.b=s(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Nb(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,f;for(a=0;a<n;++a)f=cn(e[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(s){return f.r=r(s),f.g=i(s),f.b=o(s),f+""}}}var Db=Nb(Eb);function Lb(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Rb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fb(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=$i(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function Ib(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ft(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Pb(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=$i(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Yf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ef=new RegExp(Yf.source,"g");function Ob(t){return function(){return t}}function Ub(t){return function(e){return t(e)+""}}function ed(t,e){var n=Yf.lastIndex=ef.lastIndex=0,r,i,o,a=-1,f=[],s=[];for(t=t+"",e=e+"";(r=Yf.exec(t))&&(i=ef.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,s.push({i:a,x:Ft(r,i)})),n=ef.lastIndex;return n<e.length&&(o=e.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?s[0]?Ub(s[0].x):Ob(e):(e=s.length,function(u){for(var c=0,h;c<e;++c)f[(h=s[c]).i]=h.x(u);return f.join("")})}function $i(t,e){var n=typeof e,r;return e==null||n==="boolean"?la(e):(n==="number"?Ft:n==="string"?(r=Ln(e))?(e=r,Rn):ed:e instanceof Ln?Rn:e instanceof Date?Ib:Rb(e)?Lb:Array.isArray(e)?Fb:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Pb:Ft)(t,e)}function zs(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var sc=180/Math.PI,Wf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nd(t,e,n,r,i,o){var a,f,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,s/=f),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*sc,skewX:Math.atan(s)*sc,scaleX:a,scaleY:f}}var Xi;function Bb(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Wf:nd(e.a,e.b,e.c,e.d,e.e,e.f)}function zb(t){return t==null||(Xi||(Xi=document.createElementNS("http://www.w3.org/2000/svg","g")),Xi.setAttribute("transform",t),!(t=Xi.transform.baseVal.consolidate()))?Wf:(t=t.matrix,nd(t.a,t.b,t.c,t.d,t.e,t.f))}function rd(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,l,d,p){if(u!==h||c!==l){var m=d.push("translate(",null,e,null,n);p.push({i:m-4,x:Ft(u,h)},{i:m-2,x:Ft(c,l)})}else(h||l)&&d.push("translate("+h+e+l+n)}function a(u,c,h,l){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ft(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function f(u,c,h,l){u!==c?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ft(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function s(u,c,h,l,d,p){if(u!==h||c!==l){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:Ft(u,h)},{i:m-2,x:Ft(c,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(u,c){var h=[],l=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,l),a(u.rotate,c.rotate,h,l),f(u.skewX,c.skewX,h,l),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,l),u=c=null,function(d){for(var p=-1,m=l.length,g;++p<m;)h[(g=l[p]).i]=g.x(d);return h.join("")}}}var qb=rd(Bb,"px, ","px)","deg)"),Yb=rd(zb,", ",")",")");function Wb(t){return function(e,n){var r=t((e=Bf(e)).h,(n=Bf(n)).h),i=Ot(e.s,n.s),o=Ot(e.l,n.l),a=Ot(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=o(f),e.opacity=a(f),e+""}}}const Hb=Wb(Bs);function Gb(t,e){var n=Ot((t=zf(t)).l,(e=zf(e)).l),r=Ot(t.a,e.a),i=Ot(t.b,e.b),o=Ot(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function Vb(t){return function(e,n){var r=t((e=qf(e)).h,(n=qf(n)).h),i=Ot(e.c,n.c),o=Ot(e.l,n.l),a=Ot(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=o(f),e.opacity=a(f),e+""}}}const Xb=Vb(Bs);function id(t){return function e(n){n=+n;function r(i,o){var a=t((i=ke(i)).h,(o=ke(o)).h),f=Ot(i.s,o.s),s=Ot(i.l,o.l),u=Ot(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=f(c),i.l=s(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r}(1)}id(Bs);var qs=id(Ot);function ha(t,e){e===void 0&&(e=t,t=$i);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function de(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var br=0,Wr=0,Or=0,od=1e3,ko,Hr,Eo=0,Fn=0,da=0,ci=typeof performance=="object"&&performance.now?performance:Date,ad=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ys(){return Fn||(ad(jb),Fn=ci.now()+da)}function jb(){Fn=0}function Ao(){this._call=this._time=this._next=null}Ao.prototype=fd.prototype={constructor:Ao,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ys():+n)+(e==null?0:+e),!this._next&&Hr!==this&&(Hr?Hr._next=this:ko=this,Hr=this),this._call=t,this._time=n,Hf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hf())}};function fd(t,e,n){var r=new Ao;return r.restart(t,e,n),r}function Zb(){Ys(),++br;for(var t=ko,e;t;)(e=Fn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--br}function uc(){Fn=(Eo=ci.now())+da,br=Wr=0;try{Zb()}finally{br=0,Qb(),Fn=0}}function Kb(){var t=ci.now(),e=t-Eo;e>od&&(da-=e,Eo=t)}function Qb(){for(var t,e=ko,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ko=n);Hr=t,Hf(r)}function Hf(t){if(!br){Wr&&(Wr=clearTimeout(Wr));var e=t-Fn;e>24?(t<1/0&&(Wr=setTimeout(uc,t-ci.now()-da)),Or&&(Or=clearInterval(Or))):(Or||(Eo=ci.now(),Or=setInterval(Kb,od)),br=1,ad(uc))}}function cc(t,e,n){var r=new Ao;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Jb=Nh("start","end","cancel","interrupt"),t_=[],sd=0,lc=1,Gf=2,mo=3,hc=4,Vf=5,go=6;function pa(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;e_(t,n,{name:e,index:r,group:i,on:Jb,tween:t_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:sd})}function Ws(t,e){var n=ye(t,e);if(n.state>sd)throw new Error("too late; already scheduled");return n}function Ne(t,e){var n=ye(t,e);if(n.state>mo)throw new Error("too late; already running");return n}function ye(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function e_(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=fd(o,0,n.time);function o(u){n.state=lc,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,l,d;if(n.state!==lc)return s();for(c in r)if(d=r[c],d.name===n.name){if(d.state===mo)return cc(a);d.state===hc?(d.state=go,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=go,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(cc(function(){n.state===mo&&(n.state=hc,n.timer.restart(f,n.delay,n.time),f(u))}),n.state=Gf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Gf){for(n.state=mo,i=new Array(l=n.tween.length),c=0,h=-1;c<l;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function f(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Vf,1),h=-1,l=i.length;++h<l;)i[h].call(t,c);n.state===Vf&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=go,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function n_(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Gf&&r.state<Vf,r.state=go,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function r_(t){return this.each(function(){n_(this,t)})}function i_(t,e){var n,r;return function(){var i=Ne(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function o_(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ne(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=f;break}s===u&&i.push(f)}o.tween=i}}function a_(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ye(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?i_:o_)(n,t,e))}function Hs(t,e,n){var r=t._id;return t.each(function(){var i=Ne(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ye(i,r).value[e]}}function ud(t,e){var n;return(typeof e=="number"?Ft:e instanceof Ln?Rn:(n=Ln(e))?(e=n,Rn):ed)(t,e)}function f_(t){return function(){this.removeAttribute(t)}}function s_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function u_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function c_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function l_(t,e,n){var r,i,o;return function(){var a,f=n(this),s;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=f+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,f)))}}function h_(t,e,n){var r,i,o;return function(){var a,f=n(this),s;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=f+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,f)))}}function d_(t,e){var n=sa(t),r=n==="transform"?Yb:ud;return this.attrTween(t,typeof e=="function"?(n.local?h_:l_)(n,r,Hs(this,"attr."+t,e)):e==null?(n.local?s_:f_)(n):(n.local?c_:u_)(n,r,e))}function p_(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function m_(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function g_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&m_(t,o)),n}return i._value=e,i}function y_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&p_(t,o)),n}return i._value=e,i}function b_(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=sa(t);return this.tween(n,(r.local?g_:y_)(r,e))}function __(t,e){return function(){Ws(this,t).delay=+e.apply(this,arguments)}}function w_(t,e){return e=+e,function(){Ws(this,t).delay=e}}function v_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?__:w_)(e,t)):ye(this.node(),e).delay}function x_(t,e){return function(){Ne(this,t).duration=+e.apply(this,arguments)}}function M_(t,e){return e=+e,function(){Ne(this,t).duration=e}}function S_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?x_:M_)(e,t)):ye(this.node(),e).duration}function $_(t,e){if(typeof e!="function")throw new Error;return function(){Ne(this,t).ease=e}}function T_(t){var e=this._id;return arguments.length?this.each($_(e,t)):ye(this.node(),e).ease}function k_(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ne(this,t).ease=n}}function E_(t){if(typeof t!="function")throw new Error;return this.each(k_(this._id,t))}function A_(t){typeof t!="function"&&(t=Lh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&f.push(s);return new Ge(r,this._parents,this._name,this._id)}function C_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var s=e[f],u=n[f],c=s.length,h=a[f]=new Array(c),l,d=0;d<c;++d)(l=s[d]||u[d])&&(h[d]=l);for(;f<r;++f)a[f]=e[f];return new Ge(a,this._parents,this._name,this._id)}function N_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function D_(t,e,n){var r,i,o=N_(e)?Ws:Ne;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(e,n),a.on=i}}function L_(t,e){var n=this._id;return arguments.length<2?ye(this.node(),n).on.on(t):this.each(D_(n,t,e))}function R_(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function F_(){return this.on("end.remove",R_(this._id))}function I_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fs(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],s=f.length,u=o[a]=new Array(s),c,h,l=0;l<s;++l)(c=f[l])&&(h=t.call(c,c.__data__,l,f))&&("__data__"in c&&(h.__data__=c.__data__),u[l]=h,pa(u[l],e,n,l,u,ye(c,n)));return new Ge(o,this._parents,e,n)}function P_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dh(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var s=r[f],u=s.length,c,h=0;h<u;++h)if(c=s[h]){for(var l=t.call(c,c.__data__,h,s),d,p=ye(c,n),m=0,g=l.length;m<g;++m)(d=l[m])&&pa(d,e,n,m,l,p);o.push(l),a.push(c)}return new Ge(o,a,e,n)}var O_=Mi.prototype.constructor;function U_(){return new O_(this._groups,this._parents)}function B_(t,e){var n,r,i;return function(){var o=gr(this,t),a=(this.style.removeProperty(t),gr(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function cd(t){return function(){this.style.removeProperty(t)}}function z_(t,e,n){var r,i=n+"",o;return function(){var a=gr(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function q_(t,e,n){var r,i,o;return function(){var a=gr(this,t),f=n(this),s=f+"";return f==null&&(s=f=(this.style.removeProperty(t),gr(this,t))),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,f))}}function Y_(t,e){var n,r,i,o="style."+e,a="end."+o,f;return function(){var s=Ne(this,t),u=s.on,c=s.value[o]==null?f||(f=cd(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),s.on=r}}function W_(t,e,n){var r=(t+="")=="transform"?qb:ud;return e==null?this.styleTween(t,B_(t,r)).on("end.style."+t,cd(t)):typeof e=="function"?this.styleTween(t,q_(t,r,Hs(this,"style."+t,e))).each(Y_(this._id,t)):this.styleTween(t,z_(t,r,e),n).on("end.style."+t,null)}function H_(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function G_(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&H_(t,a,n)),r}return o._value=e,o}function V_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,G_(t,e,n??""))}function X_(t){return function(){this.textContent=t}}function j_(t){return function(){var e=t(this);this.textContent=e??""}}function Z_(t){return this.tween("text",typeof t=="function"?j_(Hs(this,"text",t)):X_(t==null?"":t+""))}function K_(t){return function(e){this.textContent=t.call(this,e)}}function Q_(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&K_(i)),e}return r._value=t,r}function J_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Q_(t))}function tw(){for(var t=this._name,e=this._id,n=ld(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,s,u=0;u<f;++u)if(s=a[u]){var c=ye(s,e);pa(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ge(r,this._parents,t,n)}function ew(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var f={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var u=Ne(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(s)),u.on=e}),i===0&&o()})}var nw=0;function Ge(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ld(){return++nw}var Fe=Mi.prototype;Ge.prototype={constructor:Ge,select:I_,selectAll:P_,selectChild:Fe.selectChild,selectChildren:Fe.selectChildren,filter:A_,merge:C_,selection:U_,transition:tw,call:Fe.call,nodes:Fe.nodes,node:Fe.node,size:Fe.size,empty:Fe.empty,each:Fe.each,on:L_,attr:d_,attrTween:b_,style:W_,styleTween:V_,text:Z_,textTween:J_,remove:F_,tween:a_,delay:v_,duration:S_,ease:T_,easeVarying:E_,end:ew,[Symbol.iterator]:Fe[Symbol.iterator]};function rw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var iw={time:null,delay:0,duration:250,ease:rw};function ow(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function aw(t){var e,n;t instanceof Ge?(e=t._id,t=t._name):(e=ld(),(n=iw).time=Ys(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,s,u=0;u<f;++u)(s=a[u])&&pa(s,t,e,u,a,n||ow(s,e));return new Ge(r,this._parents,t,e)}Mi.prototype.interrupt=r_;Mi.prototype.transition=aw;const Xf=Math.PI,jf=2*Xf,wn=1e-6,fw=jf-wn;function hd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function sw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hd;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class dd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hd:sw(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,s=r-e,u=i-n,c=a-e,h=f-n,l=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>wn)if(!(Math.abs(h*s-u*c)>wn)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,p=i-f,m=s*s+u*u,g=d*d+p*p,w=Math.sqrt(m),y=Math.sqrt(l),_=o*Math.tan((Xf-Math.acos((m+l-g)/(2*w*y)))/2),b=_/y,v=_/w;Math.abs(b-1)>wn&&this._append`L${e+b*c},${n+b*h}`,this._append`A${o},${o},0,0,${+(h*d>c*p)},${this._x1=e+v*s},${this._y1=n+v*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),s=r*Math.sin(i),u=e+f,c=n+s,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>wn||Math.abs(this._y1-c)>wn)&&this._append`L${u},${c}`,r&&(l<0&&(l=l%jf+jf),l>fw?this._append`A${r},${r},0,1,${h},${e-f},${n-s}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:l>wn&&this._append`A${r},${r},0,${+(l>=Xf)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Zf(t=3){return new dd(+t)}function uw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Co(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _r(t){return t=Co(Math.abs(t)),t?t[1]:NaN}function cw(t,e){return function(n,r){for(var i=n.length,o=[],a=0,f=t[0],s=0;i>0&&f>0&&(s+f+1>r&&(f=Math.max(1,r-s)),o.push(n.substring(i-=f,i+f)),!((s+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(e)}}function lw(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function li(t){if(!(e=hw.exec(t)))throw new Error("invalid format: "+t);var e;return new Gs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}li.prototype=Gs.prototype;function Gs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Gs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dw(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var pd;function pw(t,e){var n=Co(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(pd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Co(t,Math.max(0,e+o-1))[0]}function dc(t,e){var n=Co(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const pc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uw,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dc(t*100,e),r:dc,s:pw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mc(t){return t}var gc=Array.prototype.map,yc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mw(t){var e=t.grouping===void 0||t.thousands===void 0?mc:cw(gc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?mc:lw(gc.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(h){h=li(h);var l=h.fill,d=h.align,p=h.sign,m=h.symbol,g=h.zero,w=h.width,y=h.comma,_=h.precision,b=h.trim,v=h.type;v==="n"?(y=!0,v="g"):pc[v]||(_===void 0&&(_=12),b=!0,v="g"),(g||l==="0"&&d==="=")&&(g=!0,l="0",d="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M=m==="$"?r:/[%p]/.test(v)?a:"",k=pc[v],E=/[defgprs%]/.test(v);_=_===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N($){var L=x,F=M,P,S,B;if(v==="c")F=k($)+F,$="";else{$=+$;var W=$<0||1/$<0;if($=isNaN($)?s:k(Math.abs($),_),b&&($=dw($)),W&&+$==0&&p!=="+"&&(W=!1),L=(W?p==="("?p:f:p==="-"||p==="("?"":p)+L,F=(v==="s"?yc[8+pd/3]:"")+F+(W&&p==="("?")":""),E){for(P=-1,S=$.length;++P<S;)if(B=$.charCodeAt(P),48>B||B>57){F=(B===46?i+$.slice(P+1):$.slice(P))+F,$=$.slice(0,P);break}}}y&&!g&&($=e($,1/0));var j=L.length+$.length+F.length,X=j<w?new Array(w-j+1).join(l):"";switch(y&&g&&($=e(X+$,X.length?w-F.length:1/0),X=""),d){case"<":$=L+$+F+X;break;case"=":$=L+X+$+F;break;case"^":$=X.slice(0,j=X.length>>1)+L+$+F+X.slice(j);break;default:$=X+L+$+F;break}return o($)}return N.toString=function(){return h+""},N}function c(h,l){var d=u((h=li(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(_r(l)/3)))*3,m=Math.pow(10,-p),g=yc[8+p/3];return function(w){return d(m*w)+g}}return{format:u,formatPrefix:c}}var ji,Ar,md;gw({thousands:",",grouping:[3],currency:["$",""]});function gw(t){return ji=mw(t),Ar=ji.format,md=ji.formatPrefix,ji}function yw(t){return Math.max(0,-_r(Math.abs(t)))}function bw(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_r(e)/3)))*3-_r(Math.abs(t)))}function _w(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_r(e)-_r(t))+1}var nt=1e-6,gd=1e-12,ut=Math.PI,Mt=ut/2,bc=ut/4,Kt=ut*2,zt=180/ut,xt=ut/180,gt=Math.abs,Cr=Math.atan,Ve=Math.atan2,ft=Math.cos,yd=Math.exp,No=Math.log,nf=Math.pow,et=Math.sin,ne=Math.sign||function(t){return t>0?1:t<0?-1:0},Vt=Math.sqrt,Vs=Math.tan;function bd(t){return t>1?0:t<-1?ut:Math.acos(t)}function ae(t){return t>1?Mt:t<-1?-Mt:Math.asin(t)}function re(){}function Do(t,e){t&&wc.hasOwnProperty(t.type)&&wc[t.type](t,e)}var _c={Feature:function(t,e){Do(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Do(n[r].geometry,e)}},wc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Kf(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Kf(n[r],e,0)},Polygon:function(t,e){vc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Do(n[r],e)}};function Kf(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function vc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Kf(t[n],e,1);e.polygonEnd()}function vn(t,e){t&&_c.hasOwnProperty(t.type)?_c[t.type](t,e):Do(t,e)}function Qf(t){return[Ve(t[1],t[0]),ae(t[2])]}function wr(t){var e=t[0],n=t[1],r=ft(n);return[r*ft(e),r*et(e),et(n)]}function Zi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Lo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function rf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ki(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Jf(t){var e=Vt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ts(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function es(t,e){return gt(t)>ut&&(t-=Math.round(t/Kt)*Kt),[t,e]}es.invert=es;function _d(t,e,n){return(t%=Kt)?e||n?ts(Mc(t),Sc(e,n)):Mc(t):e||n?Sc(e,n):es}function xc(t){return function(e,n){return e+=t,gt(e)>ut&&(e-=Math.round(e/Kt)*Kt),[e,n]}}function Mc(t){var e=xc(t);return e.invert=xc(-t),e}function Sc(t,e){var n=ft(t),r=et(t),i=ft(e),o=et(e);function a(f,s){var u=ft(s),c=ft(f)*u,h=et(f)*u,l=et(s),d=l*n+c*r;return[Ve(h*i-d*o,c*n-l*r),ae(d*i+h*o)]}return a.invert=function(f,s){var u=ft(s),c=ft(f)*u,h=et(f)*u,l=et(s),d=l*i-h*o;return[Ve(h*i+l*o,c*n+d*r),ae(d*n-c*r)]},a}function ww(t){t=_d(t[0]*xt,t[1]*xt,t.length>2?t[2]*xt:0);function e(n){return n=t(n[0]*xt,n[1]*xt),n[0]*=zt,n[1]*=zt,n}return e.invert=function(n){return n=t.invert(n[0]*xt,n[1]*xt),n[0]*=zt,n[1]*=zt,n},e}function vw(t,e,n,r,i,o){if(n){var a=ft(e),f=et(e),s=r*n;i==null?(i=e+r*Kt,o=e-s/2):(i=$c(a,i),o=$c(a,o),(r>0?i<o:i>o)&&(i+=r*Kt));for(var u,c=i;r>0?c>o:c<o;c-=s)u=Qf([a,-f*ft(c),-f*et(c)]),t.point(u[0],u[1])}}function $c(t,e){e=wr(e),e[0]-=t,Jf(e);var n=bd(-e[1]);return((-e[2]<0?-n:n)+Kt-nt)%Kt}function wd(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:re,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function yo(t,e){return gt(t[0]-e[0])<nt&&gt(t[1]-e[1])<nt}function Qi(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function vd(t,e,n,r,i){var o=[],a=[],f,s;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],w=p[m],y;if(yo(g,w)){if(!g[2]&&!w[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}w[0]+=2*nt}o.push(y=new Qi(g,p,null,!0)),a.push(y.o=new Qi(g,null,y,!1)),o.push(y=new Qi(w,p,null,!1)),a.push(y.o=new Qi(w,null,y,!0))}}),!!o.length){for(a.sort(e),Tc(o),Tc(a),f=0,s=a.length;f<s;++f)a[f].e=n=!n;for(var u=o[0],c,h;;){for(var l=u,d=!0;l.v;)if((l=l.n)===u)return;c=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(f=0,s=c.length;f<s;++f)i.point((h=c[f])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(c=l.p.z,f=c.length-1;f>=0;--f)i.point((h=c[f])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,c=l.z,d=!d}while(!l.v);i.lineEnd()}}}function Tc(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function of(t){return gt(t[0])<=ut?t[0]:ne(t[0])*((gt(t[0])+ut)%Kt-ut)}function xw(t,e){var n=of(e),r=e[1],i=et(r),o=[et(n),-ft(n),0],a=0,f=0,s=new Cn;i===1?r=Mt+nt:i===-1&&(r=-Mt-nt);for(var u=0,c=t.length;u<c;++u)if(l=(h=t[u]).length)for(var h,l,d=h[l-1],p=of(d),m=d[1]/2+bc,g=et(m),w=ft(m),y=0;y<l;++y,p=b,g=x,w=M,d=_){var _=h[y],b=of(_),v=_[1]/2+bc,x=et(v),M=ft(v),k=b-p,E=k>=0?1:-1,N=E*k,$=N>ut,L=g*x;if(s.add(Ve(L*E*et(N),w*M+L*ft(N))),a+=$?k+E*Kt:k,$^p>=n^b>=n){var F=Lo(wr(d),wr(_));Jf(F);var P=Lo(o,F);Jf(P);var S=($^k>=0?-1:1)*ae(P[2]);(r>S||r===S&&(F[0]||F[1]))&&(f+=$^k>=0?1:-1)}}return(a<-nt||a<nt&&s<-gd)^f&1}function xd(t,e,n,r){return function(i){var o=e(i),a=wd(),f=e(a),s=!1,u,c,h,l={point:d,lineStart:m,lineEnd:g,polygonStart:function(){l.point=w,l.lineStart=y,l.lineEnd=_,c=[],u=[]},polygonEnd:function(){l.point=d,l.lineStart=m,l.lineEnd=g,c=Ch(c);var b=xw(u,r);c.length?(s||(i.polygonStart(),s=!0),vd(c,Sw,b,n,i)):b&&(s||(i.polygonStart(),s=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(b,v){t(b,v)&&i.point(b,v)}function p(b,v){o.point(b,v)}function m(){l.point=p,o.lineStart()}function g(){l.point=d,o.lineEnd()}function w(b,v){h.push([b,v]),f.point(b,v)}function y(){f.lineStart(),h=[]}function _(){w(h[0][0],h[0][1]),f.lineEnd();var b=f.clean(),v=a.result(),x,M=v.length,k,E,N;if(h.pop(),u.push(h),h=null,!!M){if(b&1){if(E=v[0],(k=E.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),x=0;x<k;++x)i.point((N=E[x])[0],N[1]);i.lineEnd()}return}M>1&&b&2&&v.push(v.pop().concat(v.shift())),c.push(v.filter(Mw))}}return l}}function Mw(t){return t.length>1}function Sw(t,e){return((t=t.x)[0]<0?t[1]-Mt-nt:Mt-t[1])-((e=e.x)[0]<0?e[1]-Mt-nt:Mt-e[1])}const kc=xd(function(){return!0},$w,kw,[-ut,-Mt]);function $w(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?ut:-ut,s=gt(o-e);gt(s-ut)<nt?(t.point(e,n=(n+a)/2>0?Mt:-Mt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(o,n),i=0):r!==f&&s>=ut&&(gt(e-r)<nt&&(e-=r*nt),gt(o-f)<nt&&(o-=f*nt),n=Tw(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=o,n=a),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Tw(t,e,n,r){var i,o,a=et(t-n);return gt(a)>nt?Cr((et(e)*(o=ft(r))*et(n)-et(r)*(i=ft(e))*et(t))/(i*o*a)):(e+r)/2}function kw(t,e,n,r){var i;if(t==null)i=n*Mt,r.point(-ut,i),r.point(0,i),r.point(ut,i),r.point(ut,0),r.point(ut,-i),r.point(0,-i),r.point(-ut,-i),r.point(-ut,0),r.point(-ut,i);else if(gt(t[0]-e[0])>nt){var o=t[0]<e[0]?ut:-ut;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Ew(t){var e=ft(t),n=6*xt,r=e>0,i=gt(e)>nt;function o(c,h,l,d){vw(d,t,n,l,c,h)}function a(c,h){return ft(c)*ft(h)>e}function f(c){var h,l,d,p,m;return{lineStart:function(){p=d=!1,m=1},point:function(g,w){var y=[g,w],_,b=a(g,w),v=r?b?0:u(g,w):b?u(g+(g<0?ut:-ut),w):0;if(!h&&(p=d=b)&&c.lineStart(),b!==d&&(_=s(h,y),(!_||yo(h,_)||yo(y,_))&&(y[2]=1)),b!==d)m=0,b?(c.lineStart(),_=s(y,h),c.point(_[0],_[1])):(_=s(h,y),c.point(_[0],_[1],2),c.lineEnd()),h=_;else if(i&&h&&r^b){var x;!(v&l)&&(x=s(y,h,!0))&&(m=0,r?(c.lineStart(),c.point(x[0][0],x[0][1]),c.point(x[1][0],x[1][1]),c.lineEnd()):(c.point(x[1][0],x[1][1]),c.lineEnd(),c.lineStart(),c.point(x[0][0],x[0][1],3)))}b&&(!h||!yo(h,y))&&c.point(y[0],y[1]),h=y,d=b,l=v},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return m|(p&&d)<<1}}}function s(c,h,l){var d=wr(c),p=wr(h),m=[1,0,0],g=Lo(d,p),w=Zi(g,g),y=g[0],_=w-y*y;if(!_)return!l&&c;var b=e*w/_,v=-e*y/_,x=Lo(m,g),M=Ki(m,b),k=Ki(g,v);rf(M,k);var E=x,N=Zi(M,E),$=Zi(E,E),L=N*N-$*(Zi(M,M)-1);if(!(L<0)){var F=Vt(L),P=Ki(E,(-N-F)/$);if(rf(P,M),P=Qf(P),!l)return P;var S=c[0],B=h[0],W=c[1],j=h[1],X;B<S&&(X=S,S=B,B=X);var z=B-S,I=gt(z-ut)<nt,U=I||z<nt;if(!I&&j<W&&(X=W,W=j,j=X),U?I?W+j>0^P[1]<(gt(P[0]-S)<nt?W:j):W<=P[1]&&P[1]<=j:z>ut^(S<=P[0]&&P[0]<=B)){var q=Ki(E,(-N+F)/$);return rf(q,M),[P,Qf(q)]}}}function u(c,h){var l=r?t:ut-t,d=0;return c<-l?d|=1:c>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return xd(a,f,o,r?[0,-t]:[-ut,t-ut])}function Aw(t,e,n,r,i,o){var a=t[0],f=t[1],s=e[0],u=e[1],c=0,h=1,l=s-a,d=u-f,p;if(p=n-a,!(!l&&p>0)){if(p/=l,l<0){if(p<c)return;p<h&&(h=p)}else if(l>0){if(p>h)return;p>c&&(c=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>h)return;p>c&&(c=p)}else if(l>0){if(p<c)return;p<h&&(h=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>c&&(c=p)}if(p=o-f,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<h&&(h=p)}return c>0&&(t[0]=a+c*l,t[1]=f+c*d),h<1&&(e[0]=a+h*l,e[1]=f+h*d),!0}}}}}var Gr=1e9,Ji=-Gr;function Md(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function o(u,c,h,l){var d=0,p=0;if(u==null||(d=a(u,h))!==(p=a(c,h))||s(u,c)<0^h>0)do l.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==p);else l.point(c[0],c[1])}function a(u,c){return gt(u[0]-t)<nt?c>0?0:3:gt(u[0]-n)<nt?c>0?2:1:gt(u[1]-e)<nt?c>0?1:0:c>0?3:2}function f(u,c){return s(u.x,c.x)}function s(u,c){var h=a(u,1),l=a(c,1);return h!==l?h-l:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=wd(),l,d,p,m,g,w,y,_,b,v,x,M={point:k,lineStart:L,lineEnd:F,polygonStart:N,polygonEnd:$};function k(S,B){i(S,B)&&c.point(S,B)}function E(){for(var S=0,B=0,W=d.length;B<W;++B)for(var j=d[B],X=1,z=j.length,I=j[0],U,q,Q=I[0],Z=I[1];X<z;++X)U=Q,q=Z,I=j[X],Q=I[0],Z=I[1],q<=r?Z>r&&(Q-U)*(r-q)>(Z-q)*(t-U)&&++S:Z<=r&&(Q-U)*(r-q)<(Z-q)*(t-U)&&--S;return S}function N(){c=h,l=[],d=[],x=!0}function $(){var S=E(),B=x&&S,W=(l=Ch(l)).length;(B||W)&&(u.polygonStart(),B&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),W&&vd(l,f,S,o,u),u.polygonEnd()),c=u,l=d=p=null}function L(){M.point=P,d&&d.push(p=[]),v=!0,b=!1,y=_=NaN}function F(){l&&(P(m,g),w&&b&&h.rejoin(),l.push(h.result())),M.point=k,b&&c.lineEnd()}function P(S,B){var W=i(S,B);if(d&&p.push([S,B]),v)m=S,g=B,w=W,v=!1,W&&(c.lineStart(),c.point(S,B));else if(W&&b)c.point(S,B);else{var j=[y=Math.max(Ji,Math.min(Gr,y)),_=Math.max(Ji,Math.min(Gr,_))],X=[S=Math.max(Ji,Math.min(Gr,S)),B=Math.max(Ji,Math.min(Gr,B))];Aw(j,X,t,e,n,r)?(b||(c.lineStart(),c.point(j[0],j[1])),c.point(X[0],X[1]),W||c.lineEnd(),x=!1):W&&(c.lineStart(),c.point(S,B),x=!1)}y=S,_=B,b=W}return M}}const ns=t=>t;var af=new Cn,rs=new Cn,Sd,$d,is,os,on={point:re,lineStart:re,lineEnd:re,polygonStart:function(){on.lineStart=Cw,on.lineEnd=Dw},polygonEnd:function(){on.lineStart=on.lineEnd=on.point=re,af.add(gt(rs)),rs=new Cn},result:function(){var t=af/2;return af=new Cn,t}};function Cw(){on.point=Nw}function Nw(t,e){on.point=Td,Sd=is=t,$d=os=e}function Td(t,e){rs.add(os*t-is*e),is=t,os=e}function Dw(){Td(Sd,$d)}const Ec=on;var vr=1/0,Ro=vr,hi=-vr,Fo=hi,Lw={point:Rw,lineStart:re,lineEnd:re,polygonStart:re,polygonEnd:re,result:function(){var t=[[vr,Ro],[hi,Fo]];return hi=Fo=-(Ro=vr=1/0),t}};function Rw(t,e){t<vr&&(vr=t),t>hi&&(hi=t),e<Ro&&(Ro=e),e>Fo&&(Fo=e)}const Io=Lw;var as=0,fs=0,Vr=0,Po=0,Oo=0,ir=0,ss=0,us=0,Xr=0,kd,Ed,ve,xe,ce={point:In,lineStart:Ac,lineEnd:Cc,polygonStart:function(){ce.lineStart=Pw,ce.lineEnd=Ow},polygonEnd:function(){ce.point=In,ce.lineStart=Ac,ce.lineEnd=Cc},result:function(){var t=Xr?[ss/Xr,us/Xr]:ir?[Po/ir,Oo/ir]:Vr?[as/Vr,fs/Vr]:[NaN,NaN];return as=fs=Vr=Po=Oo=ir=ss=us=Xr=0,t}};function In(t,e){as+=t,fs+=e,++Vr}function Ac(){ce.point=Fw}function Fw(t,e){ce.point=Iw,In(ve=t,xe=e)}function Iw(t,e){var n=t-ve,r=e-xe,i=Vt(n*n+r*r);Po+=i*(ve+t)/2,Oo+=i*(xe+e)/2,ir+=i,In(ve=t,xe=e)}function Cc(){ce.point=In}function Pw(){ce.point=Uw}function Ow(){Ad(kd,Ed)}function Uw(t,e){ce.point=Ad,In(kd=ve=t,Ed=xe=e)}function Ad(t,e){var n=t-ve,r=e-xe,i=Vt(n*n+r*r);Po+=i*(ve+t)/2,Oo+=i*(xe+e)/2,ir+=i,i=xe*t-ve*e,ss+=i*(ve+t),us+=i*(xe+e),Xr+=i*3,In(ve=t,xe=e)}const Nc=ce;function Cd(t){this._context=t}Cd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Kt);break}}},result:re};var cs=new Cn,ff,Nd,Dd,jr,Zr,Uo={point:re,lineStart:function(){Uo.point=Bw},lineEnd:function(){ff&&Ld(Nd,Dd),Uo.point=re},polygonStart:function(){ff=!0},polygonEnd:function(){ff=null},result:function(){var t=+cs;return cs=new Cn,t}};function Bw(t,e){Uo.point=Ld,Nd=jr=t,Dd=Zr=e}function Ld(t,e){jr-=t,Zr-=e,cs.add(Vt(jr*jr+Zr*Zr)),jr=t,Zr=e}const Dc=Uo;let Lc,Bo,Rc,Fc;class Ic{constructor(e){this._append=e==null?Rd:zw(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Rc||this._append!==Bo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Rc=r,Bo=this._append,Fc=this._,this._=i}this._+=Fc;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Rd(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function zw(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Rd;if(e!==Lc){const n=10**e;Lc=e,Bo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Bo}function Xs(t,e){let n=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),vn(f,i(o))),o.result()}return a.area=function(f){return vn(f,i(Ec)),Ec.result()},a.measure=function(f){return vn(f,i(Dc)),Dc.result()},a.bounds=function(f){return vn(f,i(Io)),Io.result()},a.centroid=function(f){return vn(f,i(Nc)),Nc.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,ns):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(e=null,new Ic(n)):new Cd(e=f),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const s=Math.floor(f);if(!(s>=0))throw new RangeError(`invalid digits: ${f}`);n=s}return e===null&&(o=new Ic(n)),a},a.projection(t).digits(n).context(e)}function ls(t){return{stream:ma(t)}}function ma(t){return function(e){var n=new hs;for(var r in t)n[r]=t[r];return n.stream=e,n}}function hs(){}hs.prototype={constructor:hs,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function js(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),vn(n,t.stream(Io)),e(Io.result()),r!=null&&t.clipExtent(r),t}function Zs(t,e,n){return js(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,s=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,s])},n)}function Fd(t,e,n){return Zs(t,[[0,0],e],n)}function Id(t,e,n){return js(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},n)}function Pd(t,e,n){return js(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},n)}var Pc=16,qw=ft(30*xt);function Oc(t,e){return+e?Ww(t,e):Yw(t)}function Yw(t){return ma({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Ww(t,e){function n(r,i,o,a,f,s,u,c,h,l,d,p,m,g){var w=u-r,y=c-i,_=w*w+y*y;if(_>4*e&&m--){var b=a+l,v=f+d,x=s+p,M=Vt(b*b+v*v+x*x),k=ae(x/=M),E=gt(gt(x)-1)<nt||gt(o-h)<nt?(o+h)/2:Ve(v,b),N=t(E,k),$=N[0],L=N[1],F=$-r,P=L-i,S=y*F-w*P;(S*S/_>e||gt((w*F+y*P)/_-.5)>.3||a*l+f*d+s*p<qw)&&(n(r,i,o,a,f,s,$,L,E,b/=M,v/=M,x,m,g),g.point($,L),n($,L,E,b,v,x,u,c,h,l,d,p,m,g))}}return function(r){var i,o,a,f,s,u,c,h,l,d,p,m,g={point:w,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function w(k,E){k=t(k,E),r.point(k[0],k[1])}function y(){h=NaN,g.point=_,r.lineStart()}function _(k,E){var N=wr([k,E]),$=t(k,E);n(h,l,c,d,p,m,h=$[0],l=$[1],c=k,d=N[0],p=N[1],m=N[2],Pc,r),r.point(h,l)}function b(){g.point=w,r.lineEnd()}function v(){y(),g.point=x,g.lineEnd=M}function x(k,E){_(i=k,E),o=h,a=l,f=d,s=p,u=m,g.point=_}function M(){n(h,l,c,d,p,m,o,a,i,f,s,u,Pc,r),g.lineEnd=b,b()}return g}}var Hw=ma({point:function(t,e){this.stream.point(t*xt,e*xt)}});function Gw(t){return ma({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Vw(t,e,n,r,i){function o(a,f){return a*=r,f*=i,[e+t*a,n-t*f]}return o.invert=function(a,f){return[(a-e)/t*r,(n-f)/t*i]},o}function Uc(t,e,n,r,i,o){if(!o)return Vw(t,e,n,r,i);var a=ft(o),f=et(o),s=a*t,u=f*t,c=a/t,h=f/t,l=(f*n-a*e)/t,d=(f*e+a*n)/t;function p(m,g){return m*=r,g*=i,[s*m-u*g+e,n-u*m-s*g]}return p.invert=function(m,g){return[r*(c*m-h*g+l),i*(d-h*m-c*g)]},p}function pn(t){return Od(function(){return t})()}function Od(t){var e,n=150,r=480,i=250,o=0,a=0,f=0,s=0,u=0,c,h=0,l=1,d=1,p=null,m=kc,g=null,w,y,_,b=ns,v=.5,x,M,k,E,N;function $(S){return k(S[0]*xt,S[1]*xt)}function L(S){return S=k.invert(S[0],S[1]),S&&[S[0]*zt,S[1]*zt]}$.stream=function(S){return E&&N===S?E:E=Hw(Gw(c)(m(x(b(N=S)))))},$.preclip=function(S){return arguments.length?(m=S,p=void 0,P()):m},$.postclip=function(S){return arguments.length?(b=S,g=w=y=_=null,P()):b},$.clipAngle=function(S){return arguments.length?(m=+S?Ew(p=S*xt):(p=null,kc),P()):p*zt},$.clipExtent=function(S){return arguments.length?(b=S==null?(g=w=y=_=null,ns):Md(g=+S[0][0],w=+S[0][1],y=+S[1][0],_=+S[1][1]),P()):g==null?null:[[g,w],[y,_]]},$.scale=function(S){return arguments.length?(n=+S,F()):n},$.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],F()):[r,i]},$.center=function(S){return arguments.length?(o=S[0]%360*xt,a=S[1]%360*xt,F()):[o*zt,a*zt]},$.rotate=function(S){return arguments.length?(f=S[0]%360*xt,s=S[1]%360*xt,u=S.length>2?S[2]%360*xt:0,F()):[f*zt,s*zt,u*zt]},$.angle=function(S){return arguments.length?(h=S%360*xt,F()):h*zt},$.reflectX=function(S){return arguments.length?(l=S?-1:1,F()):l<0},$.reflectY=function(S){return arguments.length?(d=S?-1:1,F()):d<0},$.precision=function(S){return arguments.length?(x=Oc(M,v=S*S),P()):Vt(v)},$.fitExtent=function(S,B){return Zs($,S,B)},$.fitSize=function(S,B){return Fd($,S,B)},$.fitWidth=function(S,B){return Id($,S,B)},$.fitHeight=function(S,B){return Pd($,S,B)};function F(){var S=Uc(n,0,0,l,d,h).apply(null,e(o,a)),B=Uc(n,r-S[0],i-S[1],l,d,h);return c=_d(f,s,u),M=ts(e,B),k=ts(c,M),x=Oc(M,v),P()}function P(){return E=N=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&L,F()}}function Ks(t){var e=0,n=ut/3,r=Od(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*xt,n=o[1]*xt):[e*zt,n*zt]},i}function Xw(t){var e=ft(t);function n(r,i){return[r*e,et(i)/e]}return n.invert=function(r,i){return[r/e,ae(i*e)]},n}function jw(t,e){var n=et(t),r=(n+et(e))/2;if(gt(r)<nt)return Xw(t);var i=1+n*(2*r-n),o=Vt(i)/r;function a(f,s){var u=Vt(i-2*r*et(s))/r;return[u*et(f*=r),o-u*ft(f)]}return a.invert=function(f,s){var u=o-s,c=Ve(f,gt(u))*ne(u);return u*r<0&&(c-=ut*ne(f)*ne(u)),[c/r,ae((i-(f*f+u*u)*r*r)/(2*r))]},a}function zo(){return Ks(jw).scale(155.424).center([0,33.6442])}function Ud(){return zo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Zw(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Kw(){var t,e,n=Ud(),r,i=zo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=zo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,u={point:function(l,d){s=[l,d]}};function c(l){var d=l[0],p=l[1];return s=null,r.point(d,p),s||(o.point(d,p),s)||(f.point(d,p),s)}c.invert=function(l){var d=n.scale(),p=n.translate(),m=(l[0]-p[0])/d,g=(l[1]-p[1])/d;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:n).invert(l)},c.stream=function(l){return t&&e===l?t:t=Zw([n.stream(e=l),i.stream(l),a.stream(l)])},c.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),h()):n.precision()},c.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),c.translate(n.translate())):n.scale()},c.translate=function(l){if(!arguments.length)return n.translate();var d=n.scale(),p=+l[0],m=+l[1];return r=n.translate(l).clipExtent([[p-.455*d,m-.238*d],[p+.455*d,m+.238*d]]).stream(u),o=i.translate([p-.307*d,m+.201*d]).clipExtent([[p-.425*d+nt,m+.12*d+nt],[p-.214*d-nt,m+.234*d-nt]]).stream(u),f=a.translate([p-.205*d,m+.212*d]).clipExtent([[p-.214*d+nt,m+.166*d+nt],[p-.115*d-nt,m+.234*d-nt]]).stream(u),h()},c.fitExtent=function(l,d){return Zs(c,l,d)},c.fitSize=function(l,d){return Fd(c,l,d)},c.fitWidth=function(l,d){return Id(c,l,d)},c.fitHeight=function(l,d){return Pd(c,l,d)};function h(){return t=e=null,c}return c.scale(1070)}function Bd(t){return function(e,n){var r=ft(e),i=ft(n),o=t(r*i);return o===1/0?[2,0]:[o*i*et(e),o*et(n)]}}function Ti(t){return function(e,n){var r=Vt(e*e+n*n),i=t(r),o=et(i),a=ft(i);return[Ve(e*o,r*a),ae(r&&n*o/r)]}}var zd=Bd(function(t){return Vt(2/(1+t))});zd.invert=Ti(function(t){return 2*ae(t/2)});function Qw(){return pn(zd).scale(124.75).clipAngle(180-.001)}var qd=Bd(function(t){return(t=bd(t))&&t/et(t)});qd.invert=Ti(function(t){return t});function Jw(){return pn(qd).scale(79.4188).clipAngle(180-.001)}function ga(t,e){return[t,No(Vs((Mt+e)/2))]}ga.invert=function(t,e){return[t,2*Cr(yd(e))-Mt]};function tv(){return Yd(ga).scale(961/Kt)}function Yd(t){var e=pn(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,f,s,u;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(i(h),c()):i()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=f=s=u=null:(a=+h[0][0],f=+h[0][1],s=+h[1][0],u=+h[1][1]),c()):a==null?null:[[a,f],[s,u]]};function c(){var h=ut*r(),l=e(ww(e.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===ga?[[Math.max(l[0]-h,a),f],[Math.min(l[0]+h,s),u]]:[[a,Math.max(l[1]-h,f)],[s,Math.min(l[1]+h,u)]])}return c()}function to(t){return Vs((Mt+t)/2)}function ev(t,e){var n=ft(t),r=t===e?et(t):No(n/ft(e))/No(to(e)/to(t)),i=n*nf(to(t),r)/r;if(!r)return ga;function o(a,f){i>0?f<-Mt+nt&&(f=-Mt+nt):f>Mt-nt&&(f=Mt-nt);var s=i/nf(to(f),r);return[s*et(r*a),i-s*ft(r*a)]}return o.invert=function(a,f){var s=i-f,u=ne(r)*Vt(a*a+s*s),c=Ve(a,gt(s))*ne(s);return s*r<0&&(c-=ut*ne(a)*ne(s)),[c/r,2*Cr(nf(i/u,1/r))-Mt]},o}function nv(){return Ks(ev).scale(109.5).parallels([30,30])}function qo(t,e){return[t,e]}qo.invert=qo;function rv(){return pn(qo).scale(152.63)}function iv(t,e){var n=ft(t),r=t===e?et(t):(n-ft(e))/(e-t),i=n/r+t;if(gt(r)<nt)return qo;function o(a,f){var s=i-f,u=r*a;return[s*et(u),i-s*ft(u)]}return o.invert=function(a,f){var s=i-f,u=Ve(a,gt(s))*ne(s);return s*r<0&&(u-=ut*ne(a)*ne(s)),[u/r,i-ne(r)*Vt(a*a+s*s)]},o}function ov(){return Ks(iv).scale(131.154).center([0,13.9389])}var ti=1.340264,ei=-.081106,ni=893e-6,ri=.003796,Yo=Vt(3)/2,av=12;function Wd(t,e){var n=ae(Yo*et(e)),r=n*n,i=r*r*r;return[t*ft(n)/(Yo*(ti+3*ei*r+i*(7*ni+9*ri*r))),n*(ti+ei*r+i*(ni+ri*r))]}Wd.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,f,s;o<av&&(f=n*(ti+ei*r+i*(ni+ri*r))-e,s=ti+3*ei*r+i*(7*ni+9*ri*r),n-=a=f/s,r=n*n,i=r*r*r,!(gt(a)<gd));++o);return[Yo*t*(ti+3*ei*r+i*(7*ni+9*ri*r))/ft(n),ae(et(n)/Yo)]};function fv(){return pn(Wd).scale(177.158)}function Hd(t,e){var n=ft(e),r=ft(t)*n;return[n*et(t)/r,et(e)/r]}Hd.invert=Ti(Cr);function sv(){return pn(Hd).scale(144.049).clipAngle(60)}function Gd(t,e){return[ft(e)*et(t),et(e)]}Gd.invert=Ti(ae);function uv(){return pn(Gd).scale(249.5).clipAngle(90+nt)}function Vd(t,e){var n=ft(e),r=1+ft(t)*n;return[n*et(t)/r,et(e)/r]}Vd.invert=Ti(function(t){return 2*Cr(t)});function cv(){return pn(Vd).scale(250).clipAngle(142)}function Xd(t,e){return[No(Vs((Mt+e)/2)),-t]}Xd.invert=function(t,e){return[-e,2*Cr(yd(t))-Mt]};function lv(){var t=Yd(Xd),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function De(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ya(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ds=Symbol("implicit");function Qs(){var t=new Nn,e=[],n=[],r=ds;function i(o){let a=t.get(o);if(a===void 0){if(r!==ds)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Nn;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Qs(e,n).unknown(r)},De.apply(i,arguments),i}function ba(){var t=Qs().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,f=!1,s=0,u=0,c=.5;delete t.unknown;function h(){var l=e().length,d=i<r,p=d?i:r,m=d?r:i;o=(m-p)/Math.max(1,l-s+u*2),f&&(o=Math.floor(o)),p+=(m-p-o*(l-s))*c,a=o*(1-s),f&&(p=Math.round(p),a=Math.round(a));var g=Pf(l).map(function(w){return p+o*w});return n(d?g.reverse():g)}return t.domain=function(l){return arguments.length?(e(l),h()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(s=Math.min(1,u=+l),h()):s},t.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),h()):s},t.paddingOuter=function(l){return arguments.length?(u=+l,h()):u},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),h()):c},t.copy=function(){return ba(e(),[r,i]).round(f).paddingInner(s).paddingOuter(u).align(c)},De.apply(h(),arguments)}function jd(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jd(e())},t}function hv(){return jd(ba.apply(null,arguments).paddingInner(1))}function dv(t){return function(){return t}}function ps(t){return+t}var Bc=[0,1];function ie(t){return t}function ms(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:dv(isNaN(e)?NaN:.5)}function pv(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mv(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ms(i,r),o=n(a,o)):(r=ms(r,i),o=n(o,a)),function(f){return o(r(f))}}function gv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ms(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(f){var s=oa(t,f,1,r)-1;return o[s](i[s](f))}}function ki(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _a(){var t=Bc,e=Bc,n=$i,r,i,o,a=ie,f,s,u;function c(){var l=Math.min(t.length,e.length);return a!==ie&&(a=pv(t[0],t[l-1])),f=l>2?gv:mv,s=u=null,h}function h(l){return l==null||isNaN(l=+l)?o:(s||(s=f(t.map(r),e,n)))(r(a(l)))}return h.invert=function(l){return a(i((u||(u=f(e,t.map(r),Ft)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,ps),c()):t.slice()},h.range=function(l){return arguments.length?(e=Array.from(l),c()):e.slice()},h.rangeRound=function(l){return e=Array.from(l),n=zs,c()},h.clamp=function(l){return arguments.length?(a=l?!0:ie,c()):a!==ie},h.interpolate=function(l){return arguments.length?(n=l,c()):n},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,c()}}function Zd(){return _a()(ie,ie)}function yv(t,e,n,r){var i=Ff(t,e,n),o;switch(r=li(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=bw(i,a))&&(r.precision=o),md(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=_w(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=yw(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ar(r)}function Ei(t){var e=t.domain;return t.ticks=function(n){var r=e();return fi(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yv(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],f=r[o],s,u,c=10;for(f<a&&(u=a,a=f,f=u,u=i,i=o,o=u);c-- >0;){if(u=xo(a,f,n),u===s)return r[i]=a,r[o]=f,e(r);if(u>0)a=Math.floor(a/u)*u,f=Math.ceil(f/u)*u;else if(u<0)a=Math.ceil(a*u)/u,f=Math.floor(f*u)/u;else break;s=u}return t},t}function Js(){var t=Zd();return t.copy=function(){return ki(t,Js())},De.apply(t,arguments),Ei(t)}function Kd(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ps),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Kd(t).unknown(e)},t=arguments.length?Array.from(t,ps):[0,1],Ei(n)}function Qd(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function zc(t){return Math.log(t)}function qc(t){return Math.exp(t)}function bv(t){return-Math.log(-t)}function _v(t){return-Math.exp(-t)}function wv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vv(t){return t===10?wv:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xv(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Yc(t){return(e,n)=>-t(-e,n)}function Jd(t){const e=t(zc,qc),n=e.domain;let r=10,i,o;function a(){return i=xv(r),o=vv(r),n()[0]<0?(i=Yc(i),o=Yc(o),t(bv,_v)):t(zc,qc),e}return e.base=function(f){return arguments.length?(r=+f,a()):r},e.domain=function(f){return arguments.length?(n(f),a()):n()},e.ticks=f=>{const s=n();let u=s[0],c=s[s.length-1];const h=c<u;h&&([u,c]=[c,u]);let l=i(u),d=i(c),p,m;const g=f==null?10:+f;let w=[];if(!(r%1)&&d-l<g){if(l=Math.floor(l),d=Math.ceil(d),u>0){for(;l<=d;++l)for(p=1;p<r;++p)if(m=l<0?p/o(-l):p*o(l),!(m<u)){if(m>c)break;w.push(m)}}else for(;l<=d;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/o(-l):p*o(l),!(m<u)){if(m>c)break;w.push(m)}w.length*2<g&&(w=fi(u,c,g))}else w=fi(l,d,Math.min(d-l,g)).map(o);return h?w.reverse():w},e.tickFormat=(f,s)=>{if(f==null&&(f=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=li(s)).precision==null&&(s.trim=!0),s=Ar(s)),f===1/0)return s;const u=Math.max(1,r*f/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?s(c):""}},e.nice=()=>n(Qd(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),e}function t0(){const t=Jd(_a()).domain([1,10]);return t.copy=()=>ki(t,t0()).base(t.base()),De.apply(t,arguments),t}function Wc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Hc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function e0(t){var e=1,n=t(Wc(e),Hc(e));return n.constant=function(r){return arguments.length?t(Wc(e=+r),Hc(e)):e},Ei(n)}function n0(){var t=e0(_a());return t.copy=function(){return ki(t,n0()).constant(t.constant())},De.apply(t,arguments)}function Gc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sv(t){return t<0?-t*t:t*t}function r0(t){var e=t(ie,ie),n=1;function r(){return n===1?t(ie,ie):n===.5?t(Mv,Sv):t(Gc(n),Gc(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ei(e)}function i0(){var t=r0(_a());return t.copy=function(){return ki(t,i0()).exponent(t.exponent())},De.apply(t,arguments),t}function o0(){var t=[],e=[],n=[],r;function i(){var a=0,f=Math.max(1,e.length);for(n=new Array(f-1);++a<f;)n[a-1]=g2(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:e[oa(n,a)]}return o.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Gt),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return o0().domain(t).range(e).unknown(r)},De.apply(o,arguments)}function a0(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[oa(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return a0().domain(t).range(e).unknown(n)},De.apply(i,arguments)}const sf=new Date,uf=new Date;function Et(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const s=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return s;let u;do s.push(u=new Date(+o)),e(o,f),t(o);while(u<o&&o<a);return s},i.filter=o=>Et(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!o(a););else for(;--f>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(sf.setTime(+o),uf.setTime(+a),t(sf),t(uf),Math.floor(n(sf,uf))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Wo=Et(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Et(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wo);Wo.range;const Ye=1e3,oe=Ye*60,We=oe*60,Xe=We*24,tu=Xe*7,Vc=Xe*30,cf=Xe*365,Me=Et(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ye)},(t,e)=>(e-t)/Ye,t=>t.getUTCSeconds());Me.range;const wa=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ye)},(t,e)=>{t.setTime(+t+e*oe)},(t,e)=>(e-t)/oe,t=>t.getMinutes());wa.range;const Ai=Et(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*oe)},(t,e)=>(e-t)/oe,t=>t.getUTCMinutes());Ai.range;const va=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ye-t.getMinutes()*oe)},(t,e)=>{t.setTime(+t+e*We)},(t,e)=>(e-t)/We,t=>t.getHours());va.range;const Ci=Et(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*We)},(t,e)=>(e-t)/We,t=>t.getUTCHours());Ci.range;const qn=Et(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oe)/Xe,t=>t.getDate()-1);qn.range;const xa=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xe,t=>t.getUTCDate()-1);xa.range;const Ma=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xe,t=>Math.floor(t/Xe));Ma.range;function Yn(t){return Et(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*oe)/tu)}const xr=Yn(0),di=Yn(1),f0=Yn(2),s0=Yn(3),Pn=Yn(4),u0=Yn(5),c0=Yn(6);xr.range;di.range;f0.range;s0.range;Pn.range;u0.range;c0.range;function Wn(t){return Et(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tu)}const Mr=Wn(0),pi=Wn(1),l0=Wn(2),h0=Wn(3),On=Wn(4),d0=Wn(5),p0=Wn(6);Mr.range;pi.range;l0.range;h0.range;On.range;d0.range;p0.range;const Ni=Et(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ni.range;const Di=Et(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Di.range;const pe=Et(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());pe.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});pe.range;const me=Et(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());me.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});me.range;function m0(t,e,n,r,i,o){const a=[[Me,1,Ye],[Me,5,5*Ye],[Me,15,15*Ye],[Me,30,30*Ye],[o,1,oe],[o,5,5*oe],[o,15,15*oe],[o,30,30*oe],[i,1,We],[i,3,3*We],[i,6,6*We],[i,12,12*We],[r,1,Xe],[r,2,2*Xe],[n,1,tu],[e,1,Vc],[e,3,3*Vc],[t,1,cf]];function f(u,c,h){const l=c<u;l&&([u,c]=[c,u]);const d=h&&typeof h.range=="function"?h:s(u,c,h),p=d?d.range(u,+c+1):[];return l?p.reverse():p}function s(u,c,h){const l=Math.abs(c-u)/h,d=ia(([,,g])=>g).right(a,l);if(d===a.length)return t.every(Ff(u/cf,c/cf,h));if(d===0)return Wo.every(Math.max(Ff(u,c,h),1));const[p,m]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return p.every(m)}return[f,s]}const[$v,g0]=m0(me,Di,Mr,Ma,Ci,Ai),[Tv,kv]=m0(pe,Ni,xr,qn,va,wa);function lf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ur(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ev(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,s=t.shortMonths,u=Br(i),c=zr(i),h=Br(o),l=zr(o),d=Br(a),p=zr(a),m=Br(f),g=zr(f),w=Br(s),y=zr(s),_={a:W,A:j,b:X,B:z,c:null,d:Jc,e:Jc,f:Kv,g:f6,G:u6,H:Xv,I:jv,j:Zv,L:y0,m:Qv,M:Jv,p:I,q:U,Q:nl,s:rl,S:t6,u:e6,U:n6,V:r6,w:i6,W:o6,x:null,X:null,y:a6,Y:s6,Z:c6,"%":el},b={a:q,A:Q,b:Z,B:G,c:null,d:tl,e:tl,f:p6,g:S6,G:T6,H:l6,I:h6,j:d6,L:_0,m:m6,M:g6,p:D,q:R,Q:nl,s:rl,S:y6,u:b6,U:_6,V:w6,w:v6,W:x6,x:null,X:null,y:M6,Y:$6,Z:k6,"%":el},v={a:N,A:$,b:L,B:F,c:P,d:Kc,e:Kc,f:Wv,g:Zc,G:jc,H:Qc,I:Qc,j:Bv,L:Yv,m:Uv,M:zv,p:E,q:Ov,Q:Gv,s:Vv,S:qv,u:Lv,U:Rv,V:Fv,w:Dv,W:Iv,x:S,X:B,y:Zc,Y:jc,Z:Pv,"%":Hv};_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b);function x(A,Y){return function(V){var C=[],st=-1,H=0,ht=A.length,ct,_t,Re;for(V instanceof Date||(V=new Date(+V));++st<ht;)A.charCodeAt(st)===37&&(C.push(A.slice(H,st)),(_t=Xc[ct=A.charAt(++st)])!=null?ct=A.charAt(++st):_t=ct==="e"?" ":"0",(Re=Y[ct])&&(ct=Re(V,_t)),C.push(ct),H=st+1);return C.push(A.slice(H,st)),C.join("")}}function M(A,Y){return function(V){var C=Ur(1900,void 0,1),st=k(C,A,V+="",0),H,ht;if(st!=V.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(Y&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(H=hf(Ur(C.y,0,1)),ht=H.getUTCDay(),H=ht>4||ht===0?pi.ceil(H):pi(H),H=xa.offset(H,(C.V-1)*7),C.y=H.getUTCFullYear(),C.m=H.getUTCMonth(),C.d=H.getUTCDate()+(C.w+6)%7):(H=lf(Ur(C.y,0,1)),ht=H.getDay(),H=ht>4||ht===0?di.ceil(H):di(H),H=qn.offset(H,(C.V-1)*7),C.y=H.getFullYear(),C.m=H.getMonth(),C.d=H.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ht="Z"in C?hf(Ur(C.y,0,1)).getUTCDay():lf(Ur(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ht+5)%7:C.w+C.U*7-(ht+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,hf(C)):lf(C)}}function k(A,Y,V,C){for(var st=0,H=Y.length,ht=V.length,ct,_t;st<H;){if(C>=ht)return-1;if(ct=Y.charCodeAt(st++),ct===37){if(ct=Y.charAt(st++),_t=v[ct in Xc?Y.charAt(st++):ct],!_t||(C=_t(A,V,C))<0)return-1}else if(ct!=V.charCodeAt(C++))return-1}return C}function E(A,Y,V){var C=u.exec(Y.slice(V));return C?(A.p=c.get(C[0].toLowerCase()),V+C[0].length):-1}function N(A,Y,V){var C=d.exec(Y.slice(V));return C?(A.w=p.get(C[0].toLowerCase()),V+C[0].length):-1}function $(A,Y,V){var C=h.exec(Y.slice(V));return C?(A.w=l.get(C[0].toLowerCase()),V+C[0].length):-1}function L(A,Y,V){var C=w.exec(Y.slice(V));return C?(A.m=y.get(C[0].toLowerCase()),V+C[0].length):-1}function F(A,Y,V){var C=m.exec(Y.slice(V));return C?(A.m=g.get(C[0].toLowerCase()),V+C[0].length):-1}function P(A,Y,V){return k(A,e,Y,V)}function S(A,Y,V){return k(A,n,Y,V)}function B(A,Y,V){return k(A,r,Y,V)}function W(A){return a[A.getDay()]}function j(A){return o[A.getDay()]}function X(A){return s[A.getMonth()]}function z(A){return f[A.getMonth()]}function I(A){return i[+(A.getHours()>=12)]}function U(A){return 1+~~(A.getMonth()/3)}function q(A){return a[A.getUTCDay()]}function Q(A){return o[A.getUTCDay()]}function Z(A){return s[A.getUTCMonth()]}function G(A){return f[A.getUTCMonth()]}function D(A){return i[+(A.getUTCHours()>=12)]}function R(A){return 1+~~(A.getUTCMonth()/3)}return{format:function(A){var Y=x(A+="",_);return Y.toString=function(){return A},Y},parse:function(A){var Y=M(A+="",!1);return Y.toString=function(){return A},Y},utcFormat:function(A){var Y=x(A+="",b);return Y.toString=function(){return A},Y},utcParse:function(A){var Y=M(A+="",!0);return Y.toString=function(){return A},Y}}}var Xc={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,Av=/^%/,Cv=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Nv(t){return t.replace(Cv,"\\$&")}function Br(t){return new RegExp("^(?:"+t.map(Nv).join("|")+")","i")}function zr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Dv(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Lv(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Rv(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Fv(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Iv(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jc(t,e,n){var r=Lt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Zc(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ov(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Uv(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Kc(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Bv(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Qc(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zv(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qv(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Yv(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wv(t,e,n){var r=Lt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hv(t,e,n){var r=Av.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gv(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Vv(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Jc(t,e){return pt(t.getDate(),e,2)}function Xv(t,e){return pt(t.getHours(),e,2)}function jv(t,e){return pt(t.getHours()%12||12,e,2)}function Zv(t,e){return pt(1+qn.count(pe(t),t),e,3)}function y0(t,e){return pt(t.getMilliseconds(),e,3)}function Kv(t,e){return y0(t,e)+"000"}function Qv(t,e){return pt(t.getMonth()+1,e,2)}function Jv(t,e){return pt(t.getMinutes(),e,2)}function t6(t,e){return pt(t.getSeconds(),e,2)}function e6(t){var e=t.getDay();return e===0?7:e}function n6(t,e){return pt(xr.count(pe(t)-1,t),e,2)}function b0(t){var e=t.getDay();return e>=4||e===0?Pn(t):Pn.ceil(t)}function r6(t,e){return t=b0(t),pt(Pn.count(pe(t),t)+(pe(t).getDay()===4),e,2)}function i6(t){return t.getDay()}function o6(t,e){return pt(di.count(pe(t)-1,t),e,2)}function a6(t,e){return pt(t.getFullYear()%100,e,2)}function f6(t,e){return t=b0(t),pt(t.getFullYear()%100,e,2)}function s6(t,e){return pt(t.getFullYear()%1e4,e,4)}function u6(t,e){var n=t.getDay();return t=n>=4||n===0?Pn(t):Pn.ceil(t),pt(t.getFullYear()%1e4,e,4)}function c6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function tl(t,e){return pt(t.getUTCDate(),e,2)}function l6(t,e){return pt(t.getUTCHours(),e,2)}function h6(t,e){return pt(t.getUTCHours()%12||12,e,2)}function d6(t,e){return pt(1+xa.count(me(t),t),e,3)}function _0(t,e){return pt(t.getUTCMilliseconds(),e,3)}function p6(t,e){return _0(t,e)+"000"}function m6(t,e){return pt(t.getUTCMonth()+1,e,2)}function g6(t,e){return pt(t.getUTCMinutes(),e,2)}function y6(t,e){return pt(t.getUTCSeconds(),e,2)}function b6(t){var e=t.getUTCDay();return e===0?7:e}function _6(t,e){return pt(Mr.count(me(t)-1,t),e,2)}function w0(t){var e=t.getUTCDay();return e>=4||e===0?On(t):On.ceil(t)}function w6(t,e){return t=w0(t),pt(On.count(me(t),t)+(me(t).getUTCDay()===4),e,2)}function v6(t){return t.getUTCDay()}function x6(t,e){return pt(pi.count(me(t)-1,t),e,2)}function M6(t,e){return pt(t.getUTCFullYear()%100,e,2)}function S6(t,e){return t=w0(t),pt(t.getUTCFullYear()%100,e,2)}function $6(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function T6(t,e){var n=t.getUTCDay();return t=n>=4||n===0?On(t):On.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function k6(){return"+0000"}function el(){return"%"}function nl(t){return+t}function rl(t){return Math.floor(+t/1e3)}var Qn,eu,Li;E6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function E6(t){return Qn=Ev(t),eu=Qn.format,Qn.parse,Li=Qn.utcFormat,Qn.utcParse,Qn}function A6(t){return new Date(t)}function C6(t){return t instanceof Date?+t:+new Date(+t)}function nu(t,e,n,r,i,o,a,f,s,u){var c=Zd(),h=c.invert,l=c.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),w=u("%a %d"),y=u("%b %d"),_=u("%B"),b=u("%Y");function v(x){return(s(x)<x?d:f(x)<x?p:a(x)<x?m:o(x)<x?g:r(x)<x?i(x)<x?w:y:n(x)<x?_:b)(x)}return c.invert=function(x){return new Date(h(x))},c.domain=function(x){return arguments.length?l(Array.from(x,C6)):l().map(A6)},c.ticks=function(x){var M=l();return t(M[0],M[M.length-1],x??10)},c.tickFormat=function(x,M){return M==null?v:u(M)},c.nice=function(x){var M=l();return(!x||typeof x.range!="function")&&(x=e(M[0],M[M.length-1],x??10)),x?l(Qd(M,x)):c},c.copy=function(){return ki(c,nu(t,e,n,r,i,o,a,f,s,u))},c}function N6(){return De.apply(nu(Tv,kv,pe,Ni,xr,qn,va,wa,Me,eu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function D6(){return De.apply(nu($v,g0,me,Di,Mr,xa,Ci,Ai,Me,Li).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $a(){var t=0,e=.5,n=1,r=1,i,o,a,f,s,u=ie,c,h=!1,l;function d(m){return isNaN(m=+m)?l:(m=.5+((m=+c(m))-o)*(r*m<r*o?f:s),u(h?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e,n]=m,i=c(t=+t),o=c(e=+e),a=c(n=+n),f=i===o?0:.5/(o-i),s=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(m){return arguments.length?(h=!!m,d):h},d.interpolator=function(m){return arguments.length?(u=m,d):u};function p(m){return function(g){var w,y,_;return arguments.length?([w,y,_]=g,u=ha(m,[w,y,_]),d):[u(0),u(.5),u(1)]}}return d.range=p($i),d.rangeRound=p(zs),d.unknown=function(m){return arguments.length?(l=m,d):l},function(m){return c=m,i=m(t),o=m(e),a=m(n),f=i===o?0:.5/(o-i),s=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function v0(){var t=Ei($a()(ie));return t.copy=function(){return Sa(t,v0())},ya.apply(t,arguments)}function x0(){var t=Jd($a()).domain([.1,1,10]);return t.copy=function(){return Sa(t,x0()).base(t.base())},ya.apply(t,arguments)}function M0(){var t=e0($a());return t.copy=function(){return Sa(t,M0()).constant(t.constant())},ya.apply(t,arguments)}function S0(){var t=r0($a());return t.copy=function(){return Sa(t,S0()).exponent(t.exponent())},ya.apply(t,arguments)}function rt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const L6=rt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),R6=rt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),F6=rt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),I6=rt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),P6=rt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),O6=rt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),U6=rt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),B6=rt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),z6=rt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),q6=rt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),bt=t=>Db(t[t.length-1]);var $0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(rt);const T0=bt($0);var k0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(rt);const E0=bt(k0);var A0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(rt);const C0=bt(A0);var N0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(rt);const D0=bt(N0);var gs=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(rt);const Ho=bt(gs);var L0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(rt);const R0=bt(L0);var ys=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(rt);const Go=bt(ys);var F0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(rt);const I0=bt(F0);var P0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(rt);const O0=bt(P0);var U0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(rt);const B0=bt(U0);var z0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(rt);const q0=bt(z0);var Y0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(rt);const W0=bt(Y0);var H0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(rt);const G0=bt(H0);var V0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(rt);const X0=bt(V0);var j0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(rt);const Z0=bt(j0);var K0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(rt);const Q0=bt(K0);var J0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(rt);const t1=bt(J0);var e1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(rt);const n1=bt(e1);var r1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(rt);const i1=bt(r1);var o1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(rt);const a1=bt(o1);var f1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(rt);const s1=bt(f1);var u1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(rt);const c1=bt(u1);var l1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(rt);const h1=bt(l1);var d1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(rt);const p1=bt(d1);var m1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(rt);const g1=bt(m1);var y1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(rt);const b1=bt(y1);var _1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(rt);const w1=bt(_1);function v1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const x1=qs(ke(300,.5,0),ke(-240,.5,1));var M1=qs(ke(-100,.75,.35),ke(80,1.5,.8)),S1=qs(ke(260,.75,.35),ke(80,1.5,.8)),eo=ke();function $1(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return eo.h=360*t-100,eo.s=1.5-1.5*e,eo.l=.8-.9*e,eo+""}var no=cn(),Y6=Math.PI/3,W6=Math.PI*2/3;function T1(t){var e;return t=(.5-t)*Math.PI,no.r=255*(e=Math.sin(t))*e,no.g=255*(e=Math.sin(t+Y6))*e,no.b=255*(e=Math.sin(t+W6))*e,no+""}function k1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ta(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const E1=Ta(rt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var A1=Ta(rt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),C1=Ta(rt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),N1=Ta(rt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Jn(t){return function(){return t}}const D1=Math.cos,ru=Math.min,Vo=Math.sin,At=Math.sqrt,il=1e-12,Xo=Math.PI,ka=2*Xo;function H6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dd(e)}function G6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L1(t){this._context=t}L1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ea(t){return new L1(t)}function V6(t){return t[0]}function X6(t){return t[1]}function j6(t,e){var n=Jn(!0),r=null,i=Ea,o=null,a=H6(f);t=typeof t=="function"?t:t===void 0?V6:Jn(t),e=typeof e=="function"?e:e===void 0?X6:Jn(e);function f(s){var u,c=(s=G6(s)).length,h,l=!1,d;for(r==null&&(o=i(d=a())),u=0;u<=c;++u)!(u<c&&n(h=s[u],u,s))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,u,s),+e(h,u,s));if(d)return o=null,d+""||null}return f.x=function(s){return arguments.length?(t=typeof s=="function"?s:Jn(+s),f):t},f.y=function(s){return arguments.length?(e=typeof s=="function"?s:Jn(+s),f):e},f.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Jn(!!s),f):n},f.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),f):i},f.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),f):r},f}class R1{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Z6(t){return new R1(t,!0)}function K6(t){return new R1(t,!1)}const Q6=At(3),F1={draw(t,e){const n=At(e+ru(e/28,.75))*.59436,r=n/2,i=r*Q6;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},iu={draw(t,e){const n=At(e/Xo);t.moveTo(n,0),t.arc(0,0,n,0,ka)}},I1={draw(t,e){const n=At(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},P1=At(1/3),J6=P1*2,O1={draw(t,e){const n=At(e/J6),r=n*P1;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},U1={draw(t,e){const n=At(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},B1={draw(t,e){const n=At(e-ru(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},z1={draw(t,e){const n=At(e),r=-n/2;t.rect(r,r,n,n)}},q1={draw(t,e){const n=At(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},t3=.8908130915292852,Y1=Vo(Xo/10)/Vo(7*Xo/10),e3=Vo(ka/10)*Y1,n3=-D1(ka/10)*Y1,W1={draw(t,e){const n=At(e*t3),r=e3*n,i=n3*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ka*o/5,f=D1(a),s=Vo(a);t.lineTo(s*n,-f*n),t.lineTo(f*r-s*i,s*r+f*i)}t.closePath()}},df=At(3),H1={draw(t,e){const n=-At(e/(df*3));t.moveTo(0,n*2),t.lineTo(-df*n,-n),t.lineTo(df*n,-n),t.closePath()}},r3=At(3),G1={draw(t,e){const n=At(e)*.6824,r=n/2,i=n*r3/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Jt=-.5,te=At(3)/2,bs=1/At(12),i3=(bs/2+1)*3,V1={draw(t,e){const n=At(e/i3),r=n/2,i=n*bs,o=r,a=n*bs+n,f=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,s),t.lineTo(Jt*r-te*i,te*r+Jt*i),t.lineTo(Jt*o-te*a,te*o+Jt*a),t.lineTo(Jt*f-te*s,te*f+Jt*s),t.lineTo(Jt*r+te*i,Jt*i-te*r),t.lineTo(Jt*o+te*a,Jt*a-te*o),t.lineTo(Jt*f+te*s,Jt*s-te*f),t.closePath()}},X1={draw(t,e){const n=At(e-ru(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},o3=[iu,I1,O1,z1,W1,H1,V1],a3=[iu,B1,X1,G1,F1,q1,U1];function ln(){}function jo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Aa(t){this._context=t}Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f3(t){return new Aa(t)}function j1(t){this._context=t}j1.prototype={areaStart:ln,areaEnd:ln,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s3(t){return new j1(t)}function Z1(t){this._context=t}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u3(t){return new Z1(t)}function K1(t,e){this._basis=new Aa(t),this._beta=e}K1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,f=-1,s;++f<=n;)s=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+s*o),this._beta*e[f]+(1-this._beta)*(i+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const c3=function t(e){function n(r){return e===1?new Aa(r):new K1(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Zo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ou(t,e){this._context=t,this._k=(1-e)/6}ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Zo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Zo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const l3=function t(e){function n(r){return new ou(r,e)}return n.tension=function(r){return t(+r)},n}(0);function au(t,e){this._context=t,this._k=(1-e)/6}au.prototype={areaStart:ln,areaEnd:ln,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Zo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const h3=function t(e){function n(r){return new au(r,e)}return n.tension=function(r){return t(+r)},n}(0);function fu(t,e){this._context=t,this._k=(1-e)/6}fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const d3=function t(e){function n(r){return new fu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function su(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>il){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>il){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Q1(t,e){this._context=t,this._alpha=e}Q1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const p3=function t(e){function n(r){return e?new Q1(r,e):new ou(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function J1(t,e){this._context=t,this._alpha=e}J1.prototype={areaStart:ln,areaEnd:ln,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const m3=function t(e){function n(r){return e?new J1(r,e):new au(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function tp(t,e){this._context=t,this._alpha=e}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:su(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const g3=function t(e){function n(r){return e?new tp(r,e):new fu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ep(t){this._context=t}ep.prototype={areaStart:ln,areaEnd:ln,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function y3(t){return new ep(t)}function ol(t){return t<0?-1:1}function al(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(ol(o)+ol(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function fl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pf(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*e,o-f,a-f*n,o,a)}function Ko(t){this._context=t}Ko.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pf(this,this._t0,fl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pf(this,fl(this,n=al(this,t,e)),n);break;default:pf(this,this._t0,n=al(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function np(t){this._context=new rp(t)}(np.prototype=Object.create(Ko.prototype)).point=function(t,e){Ko.prototype.point.call(this,e,t)};function rp(t){this._context=t}rp.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function b3(t){return new Ko(t)}function _3(t){return new np(t)}function ip(t){this._context=t}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=sl(t),i=sl(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sl(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function w3(t){return new ip(t)}function Ca(t,e){this._context=t,this._t=e}Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function v3(t){return new Ca(t,.5)}function x3(t){return new Ca(t,0)}function M3(t){return new Ca(t,1)}function Kr(t,e,n){this.k=t,this.x=e,this.y=n}Kr.prototype={constructor:Kr,scale:function(t){return t===1?this:new Kr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Kr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Kr.prototype;function hn(t){return t!=null&&!Number.isNaN(t)}function ge(t,e){return+hn(e)-+hn(t)||Gt(t,e)}function Qo(t,e){return+hn(e)-+hn(t)||xi(t,e)}function uu(t){return t!=null&&`${t}`!=""}function op(t){return isFinite(t)?t:NaN}function cu(t){return t>0&&isFinite(t)?t:NaN}function ap(t){return t<0&&isFinite(t)?t:NaN}function S3(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${$3(t.getUTCFullYear())}-${ze(t.getUTCMonth()+1,2)}-${ze(t.getUTCDate(),2)}${n||r||i||o?`T${ze(n,2)}:${ze(r,2)}${i||o?`:${ze(i,2)}${o?`.${ze(o,3)}`:""}`:""}Z`:""}`}function $3(t){return t<0?`-${ze(-t,6)}`:t>9999?`+${ze(t,6)}`:ze(t,4)}function ze(t,e){return`${t}`.padStart(e,"0")}const T3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function fp(t,e){return T3.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const or=1e3,Sn=or*60,$n=Sn*60,je=$n*24,we=je*7,An=je*30,nn=je*365,mf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",or],["5 seconds",5*or],["15 seconds",15*or],["30 seconds",30*or],["minute",Sn],["5 minutes",5*Sn],["15 minutes",15*Sn],["30 minutes",30*Sn],["hour",$n],["3 hours",3*$n],["6 hours",6*$n],["12 hours",12*$n],["day",je],["2 days",2*je],["week",we],["2 weeks",2*we],["month",An],["3 months",3*An],["6 months",6*An],["year",nn],["2 years",2*nn],["5 years",5*nn],["10 years",10*nn],["20 years",20*nn],["50 years",50*nn],["100 years",100*nn]],lu=new Map([["second",or],["minute",Sn],["hour",$n],["day",je],["monday",we],["tuesday",we],["wednesday",we],["thursday",we],["friday",we],["saturday",we],["sunday",we],["week",we],["month",An],["year",nn]]),sp=new Map([["second",Me],["minute",wa],["hour",va],["day",qn],["monday",di],["tuesday",f0],["wednesday",s0],["thursday",Pn],["friday",u0],["saturday",c0],["sunday",xr],["week",xr],["month",Ni],["year",pe]]),up=new Map([["second",Me],["minute",Ai],["hour",Ci],["day",Ma],["monday",pi],["tuesday",l0],["wednesday",h0],["thursday",On],["friday",d0],["saturday",p0],["sunday",Mr],["week",Mr],["month",Di],["year",me]]),Ri=Symbol("intervalDuration"),Na=Symbol("intervalType");for(const[t,e]of sp)e[Ri]=lu.get(t),e[Na]="time";for(const[t,e]of up)e[Ri]=lu.get(t),e[Na]="utc";const k3=[["year",me,"utc"],["year",pe,"time"],["month",Di,"utc"],["month",Ni,"time"],["day",Ma,"utc",6*An],["day",qn,"time",6*An],["hour",Ci,"utc",3*je],["minute",Ai,"utc",6*$n],["second",Me,"utc",30*Sn]];function cp(t,e,n){let r=`${t}`.toLowerCase();r.endsWith("s")&&(r=r.slice(0,-1));let i=1;const o=/^(?:(\d+)\s+)/.exec(r);switch(o&&(r=r.slice(o[0].length),i=+o[1]),r){case"quarter":r="month",i*=3;break;case"half":r="month",i*=6;break}let a=e.get(r);if(!a)throw new Error(`unknown interval: ${t}`);if(i>1){if(!a.every)throw new Error(`non-periodic interval: ${r}`);a=a.every(i),a[Ri]=lu.get(r)*i,a[Na]=n}return a}function lp(t){return cp(t,sp,"time")}function hu(t){return cp(t,up,"utc")}function ul(t,e){if(!(e>1))return;const n=t[Ri];if(!mf.some(([,i])=>i===n)||n%je===0&&je<n&&n<An)return;const[r]=mf[ia(([,i])=>Math.log(i)).center(mf,Math.log(n*e))];return(t[Na]==="time"?lp:hu)(r)}function cl(t,e,n){const r=e==="time"?eu:Li;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=E3(n);switch(t){case"millisecond":return tr(r(".%L"),r(":%M:%S"),i);case"second":return tr(r(":%S"),r("%-I:%M"),i);case"minute":return tr(r("%-I:%M"),r("%p"),i);case"hour":return tr(r("%-I %p"),r("%b %-d"),i);case"day":return tr(r("%-d"),r("%b"),i);case"month":return tr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function E3(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function A3(t,e){const n=he(v2(t,(r,i)=>Math.abs(i-r)));if(n<1e3)return cl("millisecond","utc",e);for(const[r,i,o,a]of k3){if(n>a||r==="hour"&&!n)break;if(t.every(f=>i.floor(f)>=f))return cl(r,o,e)}}function tr(t,e,n){return(r,i,o)=>{const a=t(r,i),f=e(r,i),s=i-$r(o);return i!==s&&o[s]!==void 0&&f===e(o[s],s)?a:n(a,f)}}const mi=Object.getPrototypeOf(Uint8Array),C3=Object.prototype.toString,hp=Symbol("reindex");function Dt(t,e,n){const r=typeof e;return r==="string"?ll(t,dp(e),n):r==="function"?ll(t,e,n):r==="number"||e instanceof Date||r==="boolean"?kt(t,Fi(e),n):typeof(e==null?void 0:e.transform)=="function"?hl(e.transform(t),n):N3(hl(e,n),t==null?void 0:t[hp])}function N3(t,e){return e?bu(t,e):t}function ll(t,e,n){return kt(t,(n==null?void 0:n.prototype)instanceof mi?D3(e):e,n)}function hl(t,e){return e===void 0?Qt(t):t instanceof e?t:e.prototype instanceof mi&&!(t instanceof mi)?e.from(t,mu):e.from(t)}function D3(t){return(e,n)=>mu(t(e,n))}const bo=[null],dp=t=>e=>e[t],du={transform:Qe},Ut={transform:t=>t},L3=()=>1,R3=()=>!0,Yt=t=>t==null?t:`${t}`,wt=t=>t==null?t:+t,pu=t=>t?t[0]:void 0,_s=t=>t?t[1]:void 0,Fi=t=>()=>t;function F3(t){const e=+`${t}`.slice(1)/100;return(n,r)=>pr(n,e,r)}function Sr(t){return t instanceof mi?t:kt(t,mu,Float64Array)}function mu(t){return t==null?NaN:Number(t)}function I3(t){return kt(t,pp)}function pp(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?fp(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Ze(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Da(t)?[void 0,t]:[t,void 0]}function jt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function mp(t,e,n){if(t!=null)return be(t,e,n)}function be(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Qt(t){return t==null||t instanceof Array||t instanceof mi?t:Array.from(t)}function kt(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function gi(t,e=Array){return t instanceof e?t.slice():e.from(t)}function P3({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function gp({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function O3(t){return P3(t)||gp(t)||t.interval!==void 0}function mn(t){return(t==null?void 0:t.toString)===C3}function ws(t){return mn(t)&&(t.type!==void 0||t.domain!==void 0)}function gu(t){return mn(t)&&typeof t.transform!="function"}function yi(t){return gu(t)&&t.value===void 0&&t.channel===void 0}function U3(t,e,n,r=Ut){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function yu(t,e){return t===void 0&&e===void 0?[pu,_s]:[t,e]}function yp({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Ze(e)),t===void 0&&([t]=Ze(n)),t}function Qe(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function bu(t,e){return kt(e,n=>t[n],t.constructor)}function B3(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Tn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function z3(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Jo(t){let e;return[{transform:()=>e,label:Hn(t)},n=>e=n]}function Ue(t){return t==null?[t]:Jo(t)}function Hn(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function vs(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return Xt(r)||Xt(i)?kt(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):kt(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function bp(t,e){const n=_p(e==null?void 0:e.interval,e==null?void 0:e.type);return n?kt(t,n):t}function _p(t,e){const n=_u(t,e);return n&&(r=>hn(r)?n.floor(r):r)}function _u(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Pf(Math.ceil(r*n),i*n).map(o=>o/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Pf(Math.ceil(r/n),i/n).map(o=>o*n)}}if(typeof t=="string")return(e==="time"?lp:hu)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Nr(t,e){if(t=_u(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function q3(t,e){if(t=Nr(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Y3(t){return ar(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function ar(t){return typeof(t==null?void 0:t.range)=="function"}function Ii(t){return t===void 0||gu(t)?t:{value:t}}function W3(t){return t==null?null:{transform:e=>Dt(e,t,Float64Array),label:Hn(t)}}function gn(t){return t&&typeof t[Symbol.iterator]=="function"}function wp(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function dl(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Xt(t){for(const e of t)if(e!=null)return e instanceof Date}function H3(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&fp(e)}function G3(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function V3(t){for(const e of t)if(e!=null)return typeof e=="number"}function gf(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const X3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Da(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||X3.has(t))}function j3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Wt(t){return t==null||bi(t)}function bi(t){return/^\s*none\s*$/i.test(t)}function Z3(t){return/^\s*round\s*$/i.test(t)}function vp(t,e){return mp(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function wu(t="middle"){return vp(t,"frameAnchor")}function $r(t){if(t==null)return;const e=t[0],n=t[t.length-1];return xi(e,n)}function K3(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const o=r[i];n===t?n={...n,[i]:o}:n[i]=o}return n}function Q3(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function xp(t){return gn(t)?Q3(t):t}const Se=Symbol("position"),Je=Symbol("color"),Pi=Symbol("radius"),Oi=Symbol("length"),Ui=Symbol("opacity"),La=Symbol("symbol"),Mp=Symbol("projection"),St=new Map([["x",Se],["y",Se],["fx",Se],["fy",Se],["r",Pi],["color",Je],["opacity",Ui],["symbol",La],["length",Oi],["projection",Mp]]);function J3(t){return t===Se||t===Mp}function t8(t){return t===Se||t===Pi||t===Oi||t===Ui}const e8=Math.sqrt(3),n8=2/e8,r8={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*n8,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Sp=new Map([["asterisk",F1],["circle",iu],["cross",I1],["diamond",O1],["diamond2",U1],["hexagon",r8],["plus",B1],["square",z1],["square2",q1],["star",W1],["times",X1],["triangle",H1],["triangle2",G1],["wye",V1]]);function $p(t){return t&&typeof t.draw=="function"}function i8(t){return $p(t)?!0:typeof t!="string"?!1:Sp.has(t.toLowerCase())}function vu(t){if(t==null||$p(t))return t;const e=Sp.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function xu({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=Tp(t)),e!=null&&!yi(e)&&(r=yf(r,Ep(e))),n&&(r=yf(r,kp))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(e===null||yi(e))&&{sort:e},transform:yf(r,a)}}function ta({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=Tp(t)),e!=null&&!yi(e)&&(r=bf(r,Ep(e))),n&&(r=bf(r,kp))),{...i,...(e===null||yi(e))&&{sort:e},initializer:bf(r,o)}}function yf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,Qt(n),r,i)}}function bf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...o){let a,f,s,u,c,h;return{data:f=n,facets:s=r,channels:a}=t.call(this,n,r,i,...o),{data:c=f,facets:h=s,channels:u}=e.call(this,f,s,{...i,...a},...o),{data:c,facets:h,channels:{...a,...u}}}}function Tp(t){return(e,n)=>{const r=Dt(e,t);return{data:e,facets:n.map(i=>i.filter(o=>r[o]))}}}function kp(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function Ep(t){return(typeof t=="function"&&t.length!==1?o8:a8)(t)}function o8(t){return(e,n)=>{const r=(i,o)=>t(e[i],e[o]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function a8(t){let e,n;({channel:e,value:t,order:n}={...Ii(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Qo:ge),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=ge;break;case"descending":n=Qo;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let f;if(e===void 0)f=Dt(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[e],!f)return{};f=f.value}const s=(u,c)=>n(f[u],f[c]);return{data:i,facets:o.map(u=>u.slice().sort(s))}}}function ro(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function f8(t,e,n=Ap){const r=Object.entries(t);return e.title!=null&&t.title===void 0&&r.push(["title",p8]),e.href!=null&&t.href===void 0&&r.push(["href",Su]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?s8(i):n(i,o,e))}function Ap(t,e,n,r=Cp){let i;mn(e)&&"reduce"in e&&(i=e.scale,e=e.reduce);const o=r(t,e,n),[a,f]=Jo(o.label);let s;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(u){o.initialize(u),s=f([])},scope(u,c){o.scope(u,c)},reduce(u,c){s.push(o.reduce(u,c))}}}function s8(t){return{name:t,initialize(){},scope(){},reduce(){}}}function Cp(t,e,n,r=Mu){const i=z3(t,n),o=r(e,i);let a,f;return{label:Hn(o===ea?null:i,o.label),initialize(s){a=i===void 0?s:Dt(s,i),o.scope==="data"&&(f=o.reduceIndex(Qe(s),a))},scope(s,u){o.scope===s&&(f=o.reduceIndex(u,a))},reduce(s,u){return o.scope==null?o.reduceIndex(s,a,u):o.reduceIndex(s,a,f,u)}}}function pl(t,e){return e?ai(fa(t,n=>e[n]),pu):[[,t]]}function Mu(t,e,n=u8){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&mn(t))return h8(t);if(typeof t=="function")return d8(t);if(/^p\d{2}$/i.test(t))return Be(F3(t));switch(`${t}`.toLowerCase()){case"first":return Su;case"last":return m8;case"identity":return Np;case"count":return ea;case"distinct":return g8;case"sum":return e==null?ea:y8;case"proportion":return gl(e,"data");case"proportion-facet":return gl(e,"facet");case"deviation":return Be(xh);case"min":return Be(He);case"min-index":return Be(m2);case"max":return Be(he);case"max-index":return Be(p2);case"mean":return ml(b2);case"median":return ml(If);case"variance":return Be(vh);case"mode":return Be(w2)}return n(t)}function u8(t){throw new Error(`invalid reduce: ${t}`)}function c8(t,e){for(const n in e){const r=e[n];if(r!==void 0&&!t.some(i=>i.name===n))return r}}function l8(t,e,n){if(e){const r=e.output.transform(),i=(o,a)=>ge(r[o],r[a]);t.forEach(o=>o.sort(i))}n&&t.forEach(r=>r.reverse())}function h8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function d8(t){return{reduceIndex(e,n,r){return t(bu(n,e),r)}}}function Be(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function ml(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return Xt(n)?new Date(r):r}}}const Np={reduceIndex(t,e){return bu(e,t)}},Su={reduceIndex(t,e){return e[t[0]]}},p8={reduceIndex(t,e){const r=ai(sr(t,o=>o.length,o=>e[o]),_s),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[5-1]=[`… ${o.length.toLocaleString("en-US")} more`,un(o,_s)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},m8={reduceIndex(t,e){return e[t[t.length-1]]}},ea={label:"Frequency",reduceIndex(t){return t.length}},g8={label:"Distinct",reduceIndex(t,e){const n=new aa;for(const r of t)n.add(e[r]);return n.size}},y8=Be(un);function gl(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>un(n,o=>r[o])/i}}function _i(t,{scale:e,type:n,value:r,filter:i,hint:o,label:a=Hn(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),Dp(f,{scale:e,type:n,value:Dt(t,r),label:a,filter:i,hint:o})}function b8(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,_i(e,r,n)]))}function _8(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:e[i];return[r,a==null?o:kt(o,a)]}));return n.channels=t,n}function Dp(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&gf(r,Da)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&gf(r,j3)?null:"opacity";break;case"symbol":n!==!0&&gf(r,i8)?(e.scale=null,e.value=kt(r,vu)):e.scale="symbol";break;default:e.scale=St.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!St.has(n))throw new Error(`unknown scale: ${n}`);return e}function w8(t,e,n,r,i){const{order:o,reverse:a,reduce:f=!0,limit:s}=i;for(const u in i){if(!St.has(u))continue;let{value:c,order:h=o,reverse:l=a,reduce:d=f,limit:p=s}=Ii(i[u]);const m=c==null?void 0:c.startsWith("-");if(m&&(c=c.slice(1)),h=h===void 0?m!==(c==="width"||c==="height")?Rp:Lp:M8(h),d==null||d===!1)continue;const g=u==="fx"||u==="fy"?x8(e,r[u]):v8(n,u);if(!g)throw new Error(`missing channel for scale: ${u}`);const w=g.value,[y=0,_=1/0]=gn(p)?p:p<0?[p]:[0,p];if(c==null)g.domain=()=>{let b=Array.from(new aa(w));return l&&(b=b.reverse()),(y!==0||_!==1/0)&&(b=b.slice(y,_)),b};else{const b=c==="data"?t:c==="height"?yl(n,"y1","y2"):c==="width"?yl(n,"x1","x2"):xs(n,c,c==="y"?"y2":c==="x"?"x2":void 0),v=Mu(d===!0?"max":d,b);g.domain=()=>{let x=s2(Qe(w),M=>v.reduceIndex(M,b),M=>w[M]);return h&&x.sort(h),l&&x.reverse(),(y!==0||_!==1/0)&&(x=x.slice(y,_)),x.map(pu)}}}}function v8(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function x8(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const f of t[o])i[f]=a}return e}function yl(t,e,n){const r=xs(t,e),i=xs(t,n);return kt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function xs(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function M8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Lp;case"descending":return Rp}throw new Error(`invalid order: ${t}`)}function Lp([t,e],[n,r]){return ge(e,r)||ge(t,n)}function Rp([t,e],[n,r]){return Qo(e,r)||ge(t,n)}function bl(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function S8(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>i!==r[o]))&&(n=r,e=t(...r)),e)}const $8=S8(t=>new Intl.NumberFormat(t));function T8(t="en-US"){const e=$8(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function k8(t){return S3(t,"Invalid Date")}function E8(t="en-US"){const e=T8(t);return n=>(n instanceof Date?k8:typeof n=="number"?e:Yt)(n)}const Un=E8();let Ms=0,Ss;function A8(){const t=Ms;return Ms=0,Ss=void 0,t}function an(t){t!==Ss&&(Ss=t,console.warn(t),++Ms)}const Ht=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let C8=0;function _l(){return`plot-clip-${++C8}`}function N8(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:s,stroke:u,strokeWidth:c,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:w,mixBlendMode:y,imageFilter:_,paintOrder:b,pointerEvents:v,shapeRendering:x,channels:M},{ariaLabel:k,fill:E="currentColor",fillOpacity:N,stroke:$="none",strokeOpacity:L,strokeWidth:F,strokeLinecap:P,strokeLinejoin:S,strokeMiterlimit:B,paintOrder:W}){E===null&&(f=null,s=null),$===null&&(u=null,h=null),Wt(E)?!Wt($)&&(!Wt(f)||M!=null&&M.fill)&&($="none"):Wt($)&&(!Wt(u)||M!=null&&M.stroke)&&(E="none");const[j,X]=Ze(f,E),[z,I]=jt(s,N),[U,q]=Ze(u,$),[Q,Z]=jt(h,L),[G,D]=jt(w);bi(q)||(c===void 0&&(c=F),d===void 0&&(d=P),l===void 0&&(l=S),p===void 0&&!Z3(l)&&(p=B),!bi(X)&&b===void 0&&(b=W));const[R,A]=jt(c);return E!==null&&(t.fill=Rt(X,"currentColor"),t.fillOpacity=qr(I,1)),$!==null&&(t.stroke=Rt(q,"none"),t.strokeWidth=qr(A,1),t.strokeOpacity=qr(Z,1),t.strokeLinejoin=Rt(l,"miter"),t.strokeLinecap=Rt(d,"butt"),t.strokeMiterlimit=qr(p,4),t.strokeDasharray=Rt(m,"none"),t.strokeDashoffset=Rt(g,"0")),t.target=Yt(a),t.ariaLabel=Yt(k),t.ariaDescription=Yt(i),t.ariaHidden=Yt(o),t.opacity=qr(D,1),t.mixBlendMode=Rt(y,"normal"),t.imageFilter=Rt(_,"none"),t.paintOrder=Rt(b,"normal"),t.pointerEvents=Rt(v,"auto"),t.shapeRendering=Rt(x,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:j,scale:"auto",optional:!0},fillOpacity:{value:z,scale:"auto",optional:!0},stroke:{value:U,scale:"auto",optional:!0},strokeOpacity:{value:Q,scale:"auto",optional:!0},strokeWidth:{value:R,optional:!0},opacity:{value:G,scale:"auto",optional:!0}}}function D8(t,e){e&&t.filter(n=>uu(e[n])).append("title").call(R8,e)}function L8(t,e){e&&t.filter(([n])=>uu(e[n])).append("title").call(F8,e)}function R8(t,e){e&&t.text(n=>Un(e[n]))}function F8(t,e){e&&t.text(([n])=>Un(e[n]))}function Gn(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:c,href:h}){r&&tt(t,"aria-label",l=>r[l]),o&&tt(t,"fill",l=>o[l]),a&&tt(t,"fill-opacity",l=>a[l]),f&&tt(t,"stroke",l=>f[l]),s&&tt(t,"stroke-opacity",l=>s[l]),u&&tt(t,"stroke-width",l=>u[l]),c&&tt(t,"opacity",l=>c[l]),h&&Ip(t,l=>h[l],e),n||D8(t,i)}function I8(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:c,href:h}){r&&tt(t,"aria-label",([l])=>r[l]),o&&tt(t,"fill",([l])=>o[l]),a&&tt(t,"fill-opacity",([l])=>a[l]),f&&tt(t,"stroke",([l])=>f[l]),s&&tt(t,"stroke-opacity",([l])=>s[l]),u&&tt(t,"stroke-width",([l])=>u[l]),c&&tt(t,"opacity",([l])=>c[l]),h&&Ip(t,([l])=>h[l],e),n||L8(t,i)}function P8({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:s},{tip:u}){return[t,u?void 0:e,n,r,i,o,a,f,s].filter(c=>c!==void 0)}function O8(t,e,n){const r=fa(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&an("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*U8(t,e,n,r){const{z:i}=n,{z:o}=r,a=P8(r,n),f=[...e,...a];for(const s of o?O8(t,o,i):[t]){let u,c;t:for(const h of s){for(const l of f)if(!hn(l[h])){c&&c.push(-1);continue t}if(u===void 0){c&&(yield c),u=a.map(l=>Tn(l[h])),c=[h];continue}c.push(h);for(let l=0;l<a.length;++l)if(Tn(a[l][h])!==u[l]){yield c,u=a.map(p=>Tn(p[h])),c=[h];continue t}}c&&(yield c)}}function Fp(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=be(t,"clip",["frame","sphere"])),t}function B8(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":{const{width:a,height:f,marginLeft:s,marginRight:u,marginTop:c,marginBottom:h}=n,l=_l();i=`url(#${l})`,t=Bt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",l).append("rect").attr("x",s).attr("y",c).attr("width",a-u-s).attr("height",f-c-h)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const f=_l();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",Xs(a)({type:"Sphere"}));break}}tt(t,"aria-label",e.ariaLabel),tt(t,"aria-description",e.ariaDescription),tt(t,"aria-hidden",e.ariaHidden),tt(t,"clip-path",i)}function tn(t,e,n,r){B8(t,e,n,r),tt(t,"fill",e.fill),tt(t,"fill-opacity",e.fillOpacity),tt(t,"stroke",e.stroke),tt(t,"stroke-width",e.strokeWidth),tt(t,"stroke-opacity",e.strokeOpacity),tt(t,"stroke-linejoin",e.strokeLinejoin),tt(t,"stroke-linecap",e.strokeLinecap),tt(t,"stroke-miterlimit",e.strokeMiterlimit),tt(t,"stroke-dasharray",e.strokeDasharray),tt(t,"stroke-dashoffset",e.strokeDashoffset),tt(t,"shape-rendering",e.shapeRendering),tt(t,"filter",e.imageFilter),tt(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;tt(t,"pointer-events",i)}function en(t,e){z8(t,"mix-blend-mode",e.mixBlendMode),tt(t,"opacity",e.opacity)}function Ip(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const o=this.ownerDocument.createElementNS(mr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(mr.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function tt(t,e,n){n!=null&&t.attr(e,n)}function z8(t,e,n){n!=null&&t.style(e,n)}function Le(t,e,{x:n,y:r},i=Ht,o=Ht){i+=e.dx,o+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function Rt(t,e){if((t=Yt(t))!==e)return t}function qr(t,e){if((t=wt(t))!==e)return t}const q8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function $u(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!q8.test(t))throw new Error(`invalid class name: ${t}`);return t}function Tu(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Ra({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}function ku(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:Fp(n)}}function Bt(t,{document:e}){return Jr(ua(t).call(e.documentElement))}const Pp=Math.PI,Ie=2*Pp,wl=.618;function Y8({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,s,u="frame";if(mn(t)){let v;if({type:t,domain:s,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:u=u,...f}=t,t==null)return}typeof t!="function"&&({type:t}=Op(t));const{width:c,height:h,marginLeft:l,marginRight:d,marginTop:p,marginBottom:m}=a,g=c-l-d-o-r,w=h-p-m-n-i;if(t=t==null?void 0:t({width:g,height:w,clip:u,...f}),t==null)return;u=W8(u,l,p,c-d,h-m);let y=l+o,_=p+n,b;if(s!=null){const[[v,x],[M,k]]=Xs(t).bounds(s),E=Math.min(g/(M-v),w/(k-x));E>0?(y-=(E*(v+M)-g)/2,_-=(E*(x+k)-w)/2,b=ls({point(N,$){this.stream.point(N*E+y,$*E+_)}})):an("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??(b=y===0&&_===0?Up():ls({point(v,x){this.stream.point(v+y,x+_)}})),{stream:v=>t.stream(b.stream(u(v)))}}function Op(t){switch(`${t}`.toLowerCase()){case"albers-usa":return se(Kw,.7463,.4673);case"albers":return io(Ud,.7463,.4673);case"azimuthal-equal-area":return se(Qw,4,4);case"azimuthal-equidistant":return se(Jw,Ie,Ie);case"conic-conformal":return io(nv,Ie,Ie);case"conic-equal-area":return io(zo,6.1702,2.9781);case"conic-equidistant":return io(ov,7.312,3.6282);case"equal-earth":return se(fv,5.4133,2.6347);case"equirectangular":return se(rv,Ie,Pp);case"gnomonic":return se(sv,3.4641,3.4641);case"identity":return{type:Up};case"reflect-y":return{type:H8};case"mercator":return se(tv,Ie,Ie);case"orthographic":return se(uv,2,2);case"stereographic":return se(cv,2,2);case"transverse-mercator":return se(lv,Ie,Ie);default:throw new Error(`unknown projection type: ${t}`)}}function W8(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Md(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function se(t,e,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var u,c,h;const s=t();return a!=null&&((u=s.precision)==null||u.call(s,a)),o!=null&&((c=s.rotate)==null||c.call(s,o)),typeof f=="number"&&((h=s.clipAngle)==null||h.call(s,f)),s.scale(Math.min(r/e,i/n)),s.translate([r/2,i/2]),s},aspectRatio:n/e}}function io(t,e,n){const{type:r,aspectRatio:i}=se(t,e,n);return{type:o=>{const{parallels:a,domain:f,width:s,height:u}=o,c=r(o);return a!=null&&(c.parallels(a),f===void 0&&c.fitSize([s,u],{type:"Sphere"})),c},aspectRatio:i}}const Up=Fi({stream:t=>t}),H8=Fi(ls({point(t,e){this.stream.point(t,-e)}}));function G8(t,e,n,r){const i=n[t],o=n[e],a=i.length,f=n[t]=new Float64Array(a).fill(NaN),s=n[e]=new Float64Array(a).fill(NaN);let u;const c=r.stream({point(h,l){f[u]=h,s[u]=l}});for(u=0;u<a;++u)c.point(i[u],o[u])}function V8({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(mn(t)&&(t=t.type),t!=null)}function X8(t){if(typeof(t==null?void 0:t.stream)=="function")return wl;if(mn(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=Op(t);if(e)return e}return wl}}function j8(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(a,f){e.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)vn(a,o);return[r,i]}const Bp=new Map([["accent",R6],["category10",L6],["dark2",F6],["paired",I6],["pastel1",P6],["pastel2",O6],["set1",U6],["set2",B6],["set3",z6],["tableau10",q6]]);function Z8(t){return t!=null&&Bp.has(`${t}`.toLowerCase())}const vl=new Map([...Bp,["brbg",Pe($0,T0)],["prgn",Pe(k0,E0)],["piyg",Pe(A0,C0)],["puor",Pe(N0,D0)],["rdbu",Pe(gs,Ho)],["rdgy",Pe(L0,R0)],["rdylbu",Pe(ys,Go)],["rdylgn",Pe(F0,I0)],["spectral",Pe(P0,O0)],["burd",xl(gs,Ho)],["buylrd",xl(ys,Go)],["blues",Ct(u1,c1)],["greens",Ct(l1,h1)],["greys",Ct(d1,p1)],["oranges",Ct(_1,w1)],["purples",Ct(m1,g1)],["reds",Ct(y1,b1)],["turbo",Oe(k1)],["viridis",Oe(E1)],["magma",Oe(A1)],["inferno",Oe(C1)],["plasma",Oe(N1)],["cividis",Oe(v1)],["cubehelix",Oe(x1)],["warm",Oe(M1)],["cool",Oe(S1)],["bugn",Ct(U0,B0)],["bupu",Ct(z0,q0)],["gnbu",Ct(Y0,W0)],["orrd",Ct(H0,G0)],["pubu",Ct(j0,Z0)],["pubugn",Ct(V0,X0)],["purd",Ct(K0,Q0)],["rdpu",Ct(J0,t1)],["ylgn",Ct(r1,i1)],["ylgnbu",Ct(e1,n1)],["ylorbr",Ct(o1,a1)],["ylorrd",Ct(f1,s1)],["rainbow",Ml($1)],["sinebow",Ml(T1)]]);function Ct(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?de(e,n):t[n])}function Pe(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?de(e,n):t[n])}function xl(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?de(r=>e(1-r),n):t[n].slice().reverse())}function Oe(t){return({length:e})=>de(t,Math.max(2,Math.floor(e)))}function Ml(t){return({length:e})=>de(t,Math.floor(e)+1).slice(0,-1)}function zp(t){const e=`${t}`.toLowerCase();if(!vl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return vl.get(e)}function Fa(t,e){const n=zp(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function K8(t,e="greys"){const n=new Set,[r,i]=Fa(e,2);for(const o of t)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const Sl=new Map([["brbg",T0],["prgn",E0],["piyg",C0],["puor",D0],["rdbu",Ho],["rdgy",R0],["rdylbu",Go],["rdylgn",I0],["spectral",O0],["burd",t=>Ho(1-t)],["buylrd",t=>Go(1-t)],["blues",c1],["greens",h1],["greys",p1],["purples",g1],["reds",b1],["oranges",w1],["turbo",k1],["viridis",E1],["magma",A1],["inferno",C1],["plasma",N1],["cividis",v1],["cubehelix",x1],["warm",M1],["cool",S1],["bugn",B0],["bupu",q0],["gnbu",W0],["orrd",G0],["pubugn",X0],["pubu",Z0],["purd",Q0],["rdpu",t1],["ylgnbu",n1],["ylgn",i1],["ylorbr",a1],["ylorrd",s1],["rainbow",$1],["sinebow",T1]]);function Eu(t){const e=`${t}`.toLowerCase();if(!Sl.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Sl.get(e)}const Q8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function J8(t){return t!=null&&Q8.has(`${t}`.toLowerCase())}const qp=t=>e=>t(1-e),_f=[0,1],$l=new Map([["number",Ft],["rgb",Rn],["hsl",Hb],["hcl",Xb],["lab",Gb]]);function Yp(t){const e=`${t}`.toLowerCase();if(!$l.has(e))throw new Error(`unknown interpolator: ${e}`);return $l.get(e)}function Bi(t,e,n,{type:r,nice:i,clamp:o,zero:a,domain:f=Hp(t,n),unknown:s,round:u,scheme:c,interval:h,range:l=St.get(t)===Pi?c5(n,f):St.get(t)===Oi?l5(n,f):St.get(t)===Ui?_f:void 0,interpolate:d=St.get(t)===Je?c==null&&l!==void 0?Rn:Eu(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?zs:Ft,reverse:p}){if(h=Nr(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=Yp(d)),p=!!p,l!==void 0){const m=(f=Qt(f)).length,g=(l=Qt(l)).length;if(m!==g){if(d.length===1)throw new Error("invalid piecewise interpolator");d=ha(d,l),l=void 0}}if(d.length===1?(p&&(d=qp(d),p=!1),l===void 0&&(l=Float64Array.from(f,(m,g)=>g/(f.length-1)),l.length===2&&(l=_f)),e.interpolate((l===_f?Fi:Cu)(d))):e.interpolate(d),a){const[m,g]=ee(f);(m>0||g<0)&&(f=gi(f),$r(f)!==Math.sign(m)?f[f.length-1]=0:f[0]=0)}return p&&(f=Mo(f)),e.domain(f).unknown(s),i&&(e.nice(t5(i,r)),f=e.domain()),l!==void 0&&e.range(l),o&&e.clamp(o),{type:r,domain:f,range:l,scale:e,interpolate:d,interval:h}}function t5(t,e){return t===!0?void 0:typeof t=="number"?t:q3(t,e)}function e5(t,e,n){return Bi(t,Js(),e,n)}function n5(t,e,n){return Wp(t,e,{...n,exponent:.5})}function Wp(t,e,{exponent:n=1,...r}){return Bi(t,i0().exponent(n),e,{...r,type:"pow"})}function r5(t,e,{base:n=10,domain:r=h5(e),...i}){return Bi(t,t0().base(n),e,{...i,domain:r})}function i5(t,e,{constant:n=1,...r}){return Bi(t,n0().constant(n),e,r)}function o5(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=d5(e),unknown:f,interpolate:s,reverse:u}){return n===void 0&&(n=s!==void 0?de(s,i):St.get(t)===Je?Fa(o,i):void 0),a.length>0&&(a=o0(a,n===void 0?{length:i}:n).quantiles()),Au(t,e,{domain:a,range:n,reverse:u,unknown:f})}function a5(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=Hp(t,e),unknown:a,interpolate:f,reverse:s}){const[u,c]=ee(o);let h;return n===void 0?(h=fi(u,c,r),h[0]<=u&&h.splice(0,1),h[h.length-1]>=c&&h.pop(),r=h.length+1,n=f!==void 0?de(f,r):St.get(t)===Je?Fa(i,r):void 0):(h=de(Ft(u,c),r+1).slice(1,-1),u instanceof Date&&(h=h.map(l=>new Date(l)))),$r(Qt(o))<0&&h.reverse(),Au(t,e,{domain:h,range:n,reverse:s,unknown:a})}function Au(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?de(o,n.length+1):St.get(t)===Je?Fa(i,n.length+1):void 0,reverse:f}){n=Qt(n);const s=$r(n);if(!isNaN(s)&&!f5(n,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Mo(a)),{type:"threshold",scale:a0(s<0?Mo(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function f5(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const o=xi(i,i=t[n]);if(o!==0&&o!==e)return!1}return!0}function s5(t){return{type:"identity",scale:t8(St.get(t))?Kd():e=>e}}function wi(t,e=op){return t.length?[He(t,({value:n})=>n===void 0?n:He(n,e)),he(t,({value:n})=>n===void 0?n:he(n,e))]:[0,1]}function Hp(t,e){const n=St.get(t);return(n===Pi||n===Ui||n===Oi?u5:wi)(e)}function u5(t){return[0,t.length?he(t,({value:e})=>e===void 0?e:he(e,op)):1]}function c5(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=pr(t,.5,({value:a})=>a===void 0?NaN:pr(a,.25,cu)),i=e.map(a=>3*Math.sqrt(a/r)),o=30/he(i);return o<1?i.map(a=>a*o):i}function l5(t,e){const n=If(t,({value:o})=>o===void 0?NaN:If(o,Math.abs)),r=e.map(o=>12*o/n),i=60/he(r);return i<1?r.map(o=>o*i):r}function h5(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return wi(t,cu);if(n<0)return wi(t,ap)}return[1,10]}function d5(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function Cu(t){return(e,n)=>r=>t(e+r*(n-e))}function Ia(t,e,n,r,{type:i,nice:o,clamp:a,domain:f=wi(r),unknown:s,pivot:u=0,scheme:c,range:h,symmetric:l=!0,interpolate:d=St.get(t)===Je?c==null&&h!==void 0?Rn:Eu(c!==void 0?c:"rdbu"):Ft,reverse:p}){u=+u,f=Qt(f);let[m,g]=f;if(f.length>2&&an(`Warning: the diverging ${t} scale domain contains extra elements.`),xi(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,u),g=Math.max(g,u),typeof d!="function"&&(d=Yp(d)),h!==void 0&&(d=d.length===1?Cu(d)(...h):ha(d,h)),p&&(d=qp(d)),l){const w=n.apply(u),y=w-n.apply(m),_=n.apply(g)-w;y<_?m=n.invert(w-_):y>_&&(g=n.invert(w+y))}return e.domain([m,u,g]).unknown(s).interpolator(d),a&&e.clamp(a),o&&e.nice(o),{type:i,domain:[m,g],pivot:u,interpolate:d,scale:e}}function p5(t,e,n){return Ia(t,v0(),b5,e,n)}function m5(t,e,n){return Gp(t,e,{...n,exponent:.5})}function Gp(t,e,{exponent:n=1,...r}){return Ia(t,S0().exponent(n=+n),v5(n),e,{...r,type:"diverging-pow"})}function g5(t,e,{base:n=10,pivot:r=1,domain:i=wi(e,r<0?ap:cu),...o}){return Ia(t,x0().base(n=+n),_5,e,{domain:i,pivot:r,...o})}function y5(t,e,{constant:n=1,...r}){return Ia(t,M0().constant(n=+n),x5(n),e,r)}const b5={apply(t){return t},invert(t){return t}},_5={apply:Math.log,invert:Math.exp},w5={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function v5(t){return t===.5?w5:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function x5(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function Vp(t,e,n,r){return Bi(t,e,n,r)}function M5(t,e,n){return Vp(t,N6(),e,n)}function S5(t,e,n){return Vp(t,D6(),e,n)}const zi=Symbol("ordinal");function Xp(t,e,n,{type:r,interval:i,domain:o,range:a,reverse:f,hint:s}){return i=Nr(i,r),o===void 0&&(o=Zp(n,i,t)),(r==="categorical"||r===zi)&&(r="ordinal"),f&&(o=Mo(o)),o=e.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),e.range(a)),{type:r,domain:o,range:a,scale:e,hint:s,interval:i}}function $5(t,e,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:f,...s}){r=Nr(r,n),i===void 0&&(i=Zp(e,r,t));let u;if(St.get(t)===La)u=E5(e),o=o===void 0?A5(u):kt(o,vu);else if(St.get(t)===Je&&(o===void 0&&(n==="ordinal"||n===zi)&&(o=K8(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const c=Eu(a),h=o[0],l=o[1]-o[0];o=({length:d})=>de(p=>c(h+l*p),d)}else o=zp(a);if(f===ds)throw new Error(`implicit unknown on ${t} scale is not supported`);return Xp(t,Qs().unknown(f),e,{...s,type:n,domain:i,range:o,hint:u})}function T5(t,e,{align:n=.5,padding:r=.5,...i}){return jp(hv().align(n).padding(r),e,i,t)}function k5(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return jp(ba().align(n).paddingInner(i).paddingOuter(o),e,a,t)}function jp(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=Xp(r,t,e,n),t.round=i,t}function Zp(t,e,n){const r=new aa;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,o]=ee(r).map(e.floor,e);return e.range(i,e.offset(o))}if(r.size>1e4&&St.get(n)===Se)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return ai(r,ge)}function Tl(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function E5(t){return{fill:Tl(t,"fill"),stroke:Tl(t,"stroke")}}function A5(t){return Wt(t.fill)?a3:o3}function $s(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:f,nice:s,clamp:u,zero:c,align:h,padding:l,projection:d,facet:{label:p=e}={},...m}={}){const g={};for(const[w,y]of t){const _=m[w],b=L5(w,y,{round:St.get(w)===Se?f:void 0,nice:s,clamp:u,zero:c,align:h,padding:l,projection:d,..._});if(b){let{label:v=w==="fx"||w==="fy"?p:e,percent:x,transform:M,inset:k,insetTop:E=k!==void 0?k:w==="y"?r:0,insetRight:N=k!==void 0?k:w==="x"?i:0,insetBottom:$=k!==void 0?k:w==="y"?o:0,insetLeft:L=k!==void 0?k:w==="x"?a:0}=_||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");b.percent=!!x,b.label=v===void 0?N5(y,b):v,b.transform=M,w==="x"||w==="fx"?(b.insetLeft=+L,b.insetRight=+N):(w==="y"||w==="fy")&&(b.insetTop=+E,b.insetBottom=+$),g[w]=b}}return g}function kl(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:s}=i;e[r]=O5(i),n[r]=o,o.type=a,f!=null&&(o.interval=f),s!=null&&(o.label=s)}return n}function C5(t,e){const{x:n,y:r,fx:i,fy:o}=t,a=i||o?Nu(e):e;i&&El(i,a),o&&Al(o,a);const f=i||o?Kp(t,e):e;n&&El(n,f),r&&Al(r,f)}function N5(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Vn(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Nu(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:s,marginBottom:u,marginLeft:c}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,s),marginBottom:Math.max(r,u),marginLeft:Math.max(i,c),width:o,height:a}}function Kp({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:s}=Nu(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:e?e.scale.bandwidth()+r+o:s,facet:{width:f,height:s}}}function El(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=e,f=o+n,s=i-a-r;t.range=[f,Math.max(f,s)],Vn(t)||(t.range=Jp(t)),t.scale.range(t.range)}Qp(t)}function Al(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=e,f=o+n,s=i-a-r;t.range=[Math.max(f,s),f],Vn(t)?t.range.reverse():t.range=Jp(t),t.scale.range(t.range)}Qp(t)}function Qp(t){t.round===void 0&&F5(t)&&D5(t)<=30&&t.scale.round(!0)}function D5({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,f=Math.abs(r-n)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function Jp(t){const e=t.scale.domain().length+tm(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,o)=>n+o/(e-1)*(r-n))}function L5(t,e=[],n={}){const r=R5(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Vn({type:r})){const i=e.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Xt)?an(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${er(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${er(r)}".`):i.some(H3)?an(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${er(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${er(r)}".`):i.some(G3)&&an(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${er(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${er(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=oo(e,n,Sr);break;case"identity":switch(St.get(t)){case Se:n=oo(e,n,Sr);break;case La:n=oo(e,n,I5);break}break;case"utc":case"time":n=oo(e,n,I3);break}switch(r){case"diverging":return p5(t,e,n);case"diverging-sqrt":return m5(t,e,n);case"diverging-pow":return Gp(t,e,n);case"diverging-log":return g5(t,e,n);case"diverging-symlog":return y5(t,e,n);case"categorical":case"ordinal":case zi:return $5(t,e,n);case"cyclical":case"sequential":case"linear":return e5(t,e,n);case"sqrt":return n5(t,e,n);case"threshold":return Au(t,e,n);case"quantile":return o5(t,e,n);case"quantize":return a5(t,e,n);case"pow":return Wp(t,e,n);case"log":return r5(t,e,n);case"symlog":return i5(t,e,n);case"utc":return S5(t,e,n);case"time":return M5(t,e,n);case"point":return T5(t,e,n);case"band":return k5(t,e,n);case"identity":return s5(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function er(t){return typeof t=="symbol"?t.description:t}const Cl={toString:()=>"projection"};function R5(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=Cl);for(const{type:u}of e)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===Cl)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:u})=>u!==void 0))return;const s=St.get(t);if(s===Pi)return"sqrt";if(s===Ui||s===Oi)return"linear";if(s===La)return"ordinal";if((r||i||[]).length>2)return wf(s);if(r!==void 0){if(dl(r))return wf(s);if(Xt(r))return"utc"}else{const u=e.map(({value:c})=>c).filter(c=>c!==void 0);if(u.some(dl))return wf(s);if(u.some(Xt))return"utc"}if(s===Je){if(a!=null||J8(o))return"diverging";if(Z8(o))return"categorical"}return"linear"}function wf(t){switch(t){case Se:return"point";case Je:return zi;default:return"ordinal"}}function Vn({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===zi}function tm({type:t}){return t==="threshold"}function F5({type:t}){return t==="point"||t==="band"}function Tr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function oo(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function I5(t){return kt(t,vu)}function P5(t){return e=>{if(!St.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function O5({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:s}){if(e==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const u=t.unknown?t.unknown():void 0;return{type:e,domain:gi(n),...r!==void 0&&{range:gi(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...s!==void 0&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:c=>t(c),...t.invert&&{invert:c=>t.invert(c)}}}function U5(t,e,n={}){let r=.5-Ht,i=.5+Ht,o=.5+Ht,a=.5-Ht;for(const{marginTop:m,marginRight:g,marginBottom:w,marginLeft:y}of e)m>r&&(r=m),g>i&&(i=g),w>o&&(o=w),y>a&&(a=y);let{margin:f,marginTop:s=f!==void 0?f:r,marginRight:u=f!==void 0?f:i,marginBottom:c=f!==void 0?f:o,marginLeft:h=f!==void 0?f:a}=n;s=+s,u=+u,c=+c,h=+h;let{width:l=640,height:d=B5(t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,s-r+c-o)}=n;l=+l,d=+d;const p={width:l,height:d,marginTop:s,marginRight:u,marginBottom:c,marginLeft:h};if(t.fx||t.fy){let{margin:m,marginTop:g=m!==void 0?m:s,marginRight:w=m!==void 0?m:u,marginBottom:y=m!==void 0?m:c,marginLeft:_=m!==void 0?m:h}=n.facet??{};g=+g,w=+w,y=+y,_=+_,p.facet={marginTop:g,marginRight:w,marginBottom:y,marginLeft:_}}return p}function B5({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:c}){const h=n?n.scale.domain().length:1,l=X8(i);if(l){const p=r?r.scale.domain().length:1,m=(1.1*h-.1)/(1.1*p-.1)*l,g=Math.max(.1,Math.min(10,m));return Math.round((a-c-s)*g+f+u)}const d=e?Vn(e)?e.scale.domain().length:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=Nl("y",e)/(Nl("x",t)*o),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,w=m*(a-c-s)-t.insetLeft-t.insetRight;return(p*w+e.insetTop+e.insetBottom)/g+f+u}return!!(e||n)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function Nl(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=e.scale.exponent();i=s=>Math.pow(s,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,a]=ee(r);return Math.abs(i(a)-i(o))}function z5(t,e){const{fx:n,fy:r}=$s(t,e),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?a2(i,o).map(([a,f],s)=>({x:a,y:f,i:s})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function q5(t,{x:e,y:n}){return e&&(e=Ts(e)),n&&(n=Ts(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Du(t,{fx:e,fy:n}){const r=Qe(t),i=e==null?void 0:e.value,o=n==null?void 0:n.value;return e&&n?sr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):e?sr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):sr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function Y5(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function W5(t){const e=[],n=new Uint32Array(un(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(n.set(o,i),i+=o.length);e.push(n.slice(0,i))}return e}const H5=new Map([["top",vf],["right",Sf],["bottom",xf],["left",Mf],["top-left",ao(vf,Mf)],["top-right",ao(vf,Sf)],["bottom-left",ao(xf,Mf)],["bottom-right",ao(xf,Sf)],["top-empty",X5],["right-empty",K5],["bottom-empty",j5],["left-empty",Z5],["empty",Q5]]);function G5(t){if(t==null)return null;const e=H5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Dl=new WeakMap;function Ts(t){let e=Dl.get(t);return e||Dl.set(t,e=new Nn(kt(t,(n,r)=>[n,r]))),e}function yn(t,e){return Ts(t).get(e)}function V5(t,e,n){return e=Tn(e),n=Tn(n),t.find(r=>Object.is(Tn(r.x),e)&&Object.is(Tn(r.y),n))}function Pa(t,e,n){var r;return(r=V5(t,e,n))==null?void 0:r.empty}function vf(t,{y:e},{y:n}){return e?yn(e,n)===0:!0}function xf(t,{y:e},{y:n}){return e?yn(e,n)===e.length-1:!0}function Mf(t,{x:e},{x:n}){return e?yn(e,n)===0:!0}function Sf(t,{x:e},{x:n}){return e?yn(e,n)===e.length-1:!0}function X5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=yn(e,r);if(o>0)return Pa(t,n,e[o-1])}function j5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=yn(e,r);if(o<e.length-1)return Pa(t,n,e[o+1])}function Z5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=yn(e,n);if(o>0)return Pa(t,e[o-1],r)}function K5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=yn(e,n);if(o<e.length-1)return Pa(t,e[o+1],r)}function Q5(t,e,{empty:n}){return n}function ao(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function $f(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class fe{constructor(e,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:s,sort:u,dx:c=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:p=l,marginBottom:m=l,marginLeft:g=l,clip:w=i==null?void 0:i.clip,channels:y,tip:_,render:b}=r;if(this.data=e,this.sort=yi(u)?u:null,this.initializer=ta(r).initializer,this.transform=this.initializer?r.transform:xu(r).transform,o===null||o===!1?this.facet=null:(this.facet=be(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=e===bo&&typeof f=="string"?[f]:f,this.fy=e===bo&&typeof s=="string"?[s]:s),this.facetAnchor=G5(a),n=xp(n),y!==void 0&&(n={...J5(y),...n}),i!==void 0&&(n={...N8(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,x])=>{if(gu(x.value)){const{value:M,label:k=x.label,scale:E=x.scale}=x.value;x={...x,label:k,scale:E,value:M}}if(e===bo&&typeof x.value=="string"){const{value:M}=x;x={...x,value:[M]}}return[v,x]}).filter(([v,{value:x,optional:M}])=>{if(x!=null)return!0;if(M)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+c,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=Fp(w),this.tip=t4(_),this.facet==="super"){if(f||s)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:x}=n[v];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}b!=null&&(this.render=nm(b,this.render))}initialize(e,n,r){let i=Qt(this.data);e===void 0&&i!=null&&(e=[Qe(i)]);const o=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=Qt(i)),e!==void 0&&(e.original=o);const a=b8(this.channels,i);return this.sort!=null&&w8(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:o=hn}=n[i];if(o!==null){const a=r[i];e=e.filter(f=>o(a[f]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in e&&e[o].scale==="y"&&G8(i,o,n,r.projection)}}scale(e,n,r){const i=_8(e,n);return r.projection&&this.project(e,i,r),i}}function em(...t){return t.plot=fe.prototype.plot,t}function nm(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,a,f){return t.call(this,n,r,i,o,a,(s,u,c,h,l)=>e.call(this,s,u,c,h,l,f))}}function J5(t){return Object.fromEntries(Object.entries(xp(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:Ii(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function t4(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?be(t,"tip",["x","y","xy"]):t}function Oa(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:mn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const Ll=new WeakMap;function Lu(t,e,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:s,...u}={}){return a=+a,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:n,y:r,channels:f,...u,render:nm(function(c,h,l,d,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:w}=p.getMarkState(this);let y=Ll.get(g);y||Ll.set(g,y={sticky:!1,roots:[],renders:[]});let _=y.renders.push(q)-1;const{x:b,y:v,fx:x,fy:M}=h;let k=x?x(c.fx)-d.marginLeft:0,E=M?M(c.fy)-d.marginTop:0;b!=null&&b.bandwidth&&(k+=b.bandwidth()/2),v!=null&&v.bandwidth&&(E+=v.bandwidth()/2);const N=c.fi!=null;let $;if(N){let D=y.facetStates;D||(y.facetStates=D=new Map),$=D.get(this),$||D.set(this,$=new Map)}const[L,F]=Ra(this,d),{px:P,py:S}=l,B=P?D=>P[D]:rm(l,L),W=S?D=>S[D]:im(l,F);let j,X,z,I;function U(D,R){if(N)if(I&&(I=cancelAnimationFrame(I)),D==null)$.delete(c.fi);else{$.set(c.fi,R),I=requestAnimationFrame(()=>{I=null;for(const[A,Y]of $)if(Y<R||Y===R&&A<c.fi){D=null;break}q(D)});return}q(D)}function q(D){if(j===D&&z===y.sticky)return;j=D,z=p.pointerSticky=y.sticky;const R=j==null?[]:[j];N&&(R.fx=c.fx,R.fy=c.fy,R.fi=c.fi);const A=m(R,h,l,d,p);if(X){if(N){const Y=X.parentNode,V=X.getAttribute("transform"),C=A.getAttribute("transform");V?A.setAttribute("transform",V):A.removeAttribute("transform"),C?Y.setAttribute("transform",C):Y.removeAttribute("transform"),A.removeAttribute("aria-label"),A.removeAttribute("aria-description"),A.removeAttribute("aria-hidden")}X.replaceWith(A)}return y.roots[_]=X=A,j==null&&($==null?void 0:$.size)>1||p.dispatchValue(j==null?null:w[j]),A}function Q(D){if(y.sticky||D.pointerType==="mouse"&&D.buttons===1)return;let[R,A]=db(D);R-=k,A-=E;const Y=R<d.marginLeft||R>d.width-d.marginRight?1:t,V=A<d.marginTop||A>d.height-d.marginBottom?1:e;let C=null,st=a*a;for(const H of c){const ht=Y*(B(H)-R),ct=V*(W(H)-A),_t=ht*ht+ct*ct;_t<=st&&(C=H,st=_t)}if(C!=null&&(t!==1||e!==1)){const H=B(C)-R,ht=W(C)-A;st=H*H+ht*ht}U(C,st)}function Z(D){D.pointerType==="mouse"&&j!=null&&(y.sticky&&y.roots.some(R=>R==null?void 0:R.contains(D.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(R=>R(null))):(y.sticky=!0,q(j)),D.stopImmediatePropagation()))}function G(D){D.pointerType==="mouse"&&(y.sticky||U(null))}return g.addEventListener("pointerenter",Q),g.addEventListener("pointermove",Q),g.addEventListener("pointerdown",Z),g.addEventListener("pointerleave",G),q(null)},s)}}function e4(t){return Lu(1,1,t)}function n4(t){return Lu(1,.01,t)}function r4(t){return Lu(.01,1,t)}function rm({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function im({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function om(t){return Vn(t)&&t.interval===void 0?void 0:"tabular-nums"}function i4(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:s=16+r,marginLeft:u=0,style:c,ticks:h=(i-u-f)/64,tickFormat:l,fontVariant:d=om(t),round:p=!0,opacity:m,className:g}=e;const w=ku(e);g=$u(g),m=jt(m)[1],l===null&&(l=()=>null);const y=Bt("svg",w).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(L=>L.append("style").text(`.${g}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${g}-ramp text {
  white-space: pre;
}`)).call(Tu,c);let _=L=>L.selectAll(".tick line").attr("y1",a+s-o),b;const v=p?(L,F)=>L.rangeRound(F):(L,F)=>L.range(F),{type:x,domain:M,range:k,interpolate:E,scale:N,pivot:$}=t;if(E){const L=k===void 0?E:ha(E.length===1?Cu(E):E,k);b=v(N.copy(),de(Ft(u,i-f),Math.min(M.length+($!==void 0),k===void 0?1/0:k.length)));const F=256,P=w.document.createElement("canvas");P.width=F,P.height=1;const S=P.getContext("2d");for(let B=0,W=F-1;B<F;++B)S.fillStyle=L(B/W),S.fillRect(B,0,1,1);y.append("image").attr("opacity",m).attr("x",u).attr("y",a).attr("width",i-u-f).attr("height",o-a-s).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(x==="threshold"){const L=M,F=l===void 0?P=>P:typeof l=="string"?Ar(l):l;b=v(Js().domain([-1,k.length-1]),[u,i-f]),y.append("g").attr("fill-opacity",m).selectAll().data(k).enter().append("rect").attr("x",(P,S)=>b(S-1)).attr("y",a).attr("width",(P,S)=>b(S)-b(S-1)).attr("height",o-a-s).attr("fill",P=>P),h=kt(L,(P,S)=>S),l=P=>F(L[P],P)}else b=v(ba().domain(M),[u,i-f]),y.append("g").attr("fill-opacity",m).selectAll().data(M).enter().append("rect").attr("x",b).attr("y",a).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",o-a-s).attr("fill",N),_=()=>{};return y.append("g").attr("transform",`translate(0,${o-s})`).call(C2(b).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Rt(d,"normal")).call(_).call(L=>L.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}const am=Math.PI/180;function Ua(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=Tf(n),t.markerMid=Tf(r),t.markerEnd=Tf(i)}function Tf(t){if(t==null||t===!1)return null;if(t===!0)return Fl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Rl("auto");case"arrow-reverse":return Rl("auto-start-reverse");case"dot":return o4;case"circle":case"circle-fill":return Fl;case"circle-stroke":return a4}throw new Error(`invalid marker: ${t}`)}function Rl(t){return(e,n)=>Bt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function o4(t,e){return Bt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Fl(t,e){return Bt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function a4(t,e){return Bt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let f4=0;function Ru(t,e,{stroke:n},r){return fm(t,e,n&&(i=>n[i]),r)}function s4(t,e,{stroke:n},r){return fm(t,e,n&&(([i])=>n[i]),r)}function fm(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a){const f=new Map;function s(u){return function(c){const h=o(c);let l=f.get(u);l||f.set(u,l=new Map);let d=l.get(h);if(!d){const p=this.parentNode.insertBefore(u(h,a),this),m=`plot-marker-${++f4}`;p.setAttribute("id",m),l.set(h,d=`url(#${m})`)}return d}}e&&t.attr("marker-start",s(e)),n&&t.attr("marker-mid",s(n)),r&&t.attr("marker-end",s(r))}function Fu({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=um(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function sm({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=um(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function um(t,e,n){return t===void 0&&e===void 0&&n===void 0?Ht?[1,0]:[.5,.5]:[e,n]}function cm(t,{interval:e}){return t={...Ii(t)},t.interval=_u(t.interval===void 0?e:t.interval),t}function lm(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=n,{value:f,interval:s}=cm(i,n);if(f==null||s==null&&!r)return n;const u=Hn(i);if(s==null){let d;const p={transform:m=>d||(d=Dt(m,f)),label:u};return{...n,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0?p:a}}let c,h;function l(d){return h!==void 0&&d===c?h:h=kt(Dt(c=d,f),p=>s.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:u}:o,[`${t}2`]:a===void 0?{transform:d=>l(d).map(p=>s.offset(p)),label:u}:a})}function hm(t,e,n){const{[t]:r}=n,{value:i,interval:o}=cm(r,n);return i==null||o==null?n:e({...n,[t]:{label:Hn(r),transform:a=>{const f=kt(Dt(a,i),u=>o.floor(u)),s=f.map(u=>o.offset(u));return f.map(Xt(f)?(u,c)=>u==null||isNaN(u=+u)||(c=s[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=s[c],c==null)?NaN:(+u+ +c)/2)}}})}function u4(t={}){return lm("x",Fu,t)}function dm(t={}){return lm("y",sm,t)}function c4(t={}){return hm("x",Fu,t)}function l4(t={}){return hm("y",sm,t)}const pm={ariaLabel:"rule",fill:null,stroke:"currentColor"};class h4 extends fe{constructor(e,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:s=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Oa(n,"x"),pm),this.insetTop=wt(f),this.insetBottom=wt(s),Ua(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:s,y1:u,y2:c}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:w,insetBottom:y}=this;return Bt("svg:g",o).call(tn,this,i,o).call(Le,this,{x:s&&a},Ht,0).call(_=>_.selectAll().data(e).enter().append("line").call(en,this).attr("x1",s?b=>s[b]:(m+h-p)/2).attr("x2",s?b=>s[b]:(m+h-p)/2).attr("y1",u&&!Tr(f)?b=>u[b]+w:d+w).attr("y2",c&&!Tr(f)?f.bandwidth?b=>c[b]+f.bandwidth()-y:b=>c[b]-y:l-g-y).call(Gn,this,r).call(Ru,this,r,o)).node()}}class d4 extends fe{constructor(e,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:s=a}=n;super(e,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Oa(n,"y"),pm),this.insetRight=wt(f),this.insetLeft=wt(s),Ua(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n,{y:s,x1:u,x2:c}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:w,insetRight:y}=this;return Bt("svg:g",o).call(tn,this,i,o).call(Le,this,{y:s&&f},0,Ht).call(_=>_.selectAll().data(e).enter().append("line").call(en,this).attr("x1",u&&!Tr(a)?b=>u[b]+w:m+w).attr("x2",c&&!Tr(a)?a.bandwidth?b=>c[b]+a.bandwidth()-y:b=>c[b]-y:h-p-y).attr("y1",s?b=>s[b]:(d+l-g)/2).attr("y2",s?b=>s[b]:(d+l-g)/2).call(Gn,this,r).call(Ru,this,r,o)).node()}}function p4(t,e){let{x:n=Ut,y:r,y1:i,y2:o,...a}=dm(e);return[i,o]=mm(r,i,o),new h4(t,{...a,x:n,y1:i,y2:o})}function ks(t,e){let{y:n=Ut,x:r,x1:i,x2:o,...a}=u4(e);return[i,o]=mm(r,i,o),new d4(t,{...a,y:n,x1:i,x2:o})}function mm(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function gm(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const m4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},ym="­";class Iu extends fe{constructor(e,n={}){const{x:r,y:i,text:o=gn(e)&&wp(e)?Ut:du,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:s=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:w,rotate:y}=n,[_,b]=jt(y,0),[v,x]=v4(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:W3(_),optional:!0},text:{value:o,filter:uu,optional:!0}},n,m4),this.rotate=b,this.textAnchor=Rt(f,"middle"),this.lineAnchor=be(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=bm(h),this.monospace=!!l,this.fontFamily=Yt(d),this.fontSize=x,this.fontStyle=Yt(m),this.fontVariant=Yt(g),this.fontWeight=Yt(w),this.frameAnchor=wu(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=vm(this),this.clipLine=xm(this)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:s,y:u,rotate:c,text:h,title:l,fontSize:d}=r,{rotate:p}=this,[m,g]=Ra(this,i);return Bt("svg:g",o).call(tn,this,i,o).call(wm,this,h,i).call(Le,this,{x:s&&a,y:u&&f}).call(w=>w.selectAll().data(e).enter().append("text").call(en,this).call(g4,this,h,l).attr("transform",gm`translate(${s?y=>s[y]:m},${u?y=>u[y]:g})${c?y=>` rotate(${c[y]})`:p?` rotate(${p})`:""}`).call(tt,"font-size",d&&(y=>d[y])).call(Gn,this,r)).node()}}function bm(t){return t==null?null:be(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function g4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:s}=e;t.each(function(u){const c=f(Un(n[u])??"").map(s),h=c.length,l=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!c[p])continue;const m=this.ownerDocument.createElementNS(mr.svg,"tspan");m.setAttribute("x",0),p===d-1?m.setAttribute("y",`${(l+p)*o}em`):m.setAttribute("dy",`${d*o}em`),m.textContent=c[p],this.appendChild(m),d=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=c[0];if(a&&!r&&c[0]!==n[u]){const d=this.ownerDocument.createElementNS(mr.svg,"title");d.textContent=n[u],this.appendChild(d)}})}function _m(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=yu(e,n)),new Iu(t,{...r,x:e,y:n})}function y4(t,{x:e=Ut,...n}={}){return new Iu(t,l4({...n,x:e}))}function b4(t,{y:e=Ut,...n}={}){return new Iu(t,c4({...n,y:e}))}function wm(t,e,n){tt(t,"text-anchor",e.textAnchor),tt(t,"font-family",e.fontFamily),tt(t,"font-size",e.fontSize),tt(t,"font-style",e.fontStyle),tt(t,"font-variant",e.fontVariant===void 0?_4(n):e.fontVariant),tt(t,"font-weight",e.fontWeight)}function _4(t){return t&&(V3(t)||Xt(t))?"tabular-nums":void 0}const w4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function v4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),w4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function x4(t,e,n){const r=[];let i,o=0;for(const[a,f,s]of M4(t)){if(i===void 0&&(i=a),o>i&&n(t,i,f)>e&&(r.push(t.slice(i,o)+(t[o-1]===ym?"-":"")),i=a),s){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*M4(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case ym:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const Il={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Pu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Dr(t,i))r+=Il[t[i]]??(Sm(t,i)?120:Il.e);return r}function Ou(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Dr(t,i))r+=Sm(t,i)?200:100;return r}function vm({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?Ou:Pu,i=e*100;return o=>x4(o,i,r)}function xm({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return o=>o;const r=t?Ou:Pu,i=e*100;switch(n){case"clip-start":return o=>Ol(o,i,r,"");case"clip-end":return o=>Pl(o,i,r,"");case"ellipsis-start":return o=>Ol(o,i,r,lr);case"ellipsis-middle":return o=>S4(o,i,r,lr);case"ellipsis-end":return o=>Pl(o,i,r,lr)}}const lr="…";function kr(t,e,n,r){const i=[];let o=0;for(let a=0,f=0,s=t.length;a<s;a=f){f=Dr(t,a);const u=n(t,a,f);if(o+u>e){for(o+=r;o>e&&a>0;)f=a,a=i.pop(),o-=n(t,a,f);return[a,e-o]}o+=u,i.push(a)}return[-1,0]}function Pl(t,e,n,r){t=t.trim();const i=n(r),[o]=kr(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function S4(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[a,f]=kr(t,e/2,n,o),[s]=kr(t,i-e/2-f+o,n,-o);return s<0?r:t.slice(0,a).trimEnd()+r+t.slice(Dr(t,s)).trimStart()}function Ol(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r),[a]=kr(t,i-e+o,n,-o);return a<0?r:r+t.slice(Dr(t,a)).trimStart()}const Es=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Ul=/\p{Extended_Pictographic}/uy;function Dr(t,e){return e+=$4(t,e)?2:1,k4(t,e)&&(e=Es.lastIndex),T4(t,e)?Dr(t,e+1):e}function Mm(t,e){return t.charCodeAt(e)<128}function $4(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function T4(t,e){return t.charCodeAt(e)===8205}function k4(t,e){return Mm(t,e)?!1:(Es.lastIndex=e,Es.test(t))}function Sm(t,e){return Mm(t,e)?!1:(Ul.lastIndex=e,Ul.test(t))}const E4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},$m=3.5,A4=$m*5,Tm={draw(t,e,n){const r=e*n/A4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},C4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},N4=new Map([["arrow",Tm],["spike",C4]]);function D4(t){return t&&typeof t.draw=="function"}function L4(t){if(D4(t))return t;const e=N4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class km extends fe{constructor(e,n={}){const{x:r,y:i,r:o=$m,length:a,rotate:f,shape:s=Tm,anchor:u="middle",frameAnchor:c}=n,[h,l]=jt(a,12),[d,p]=jt(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,E4),this.r=+o,this.length=l,this.rotate=p,this.shape=L4(s),this.anchor=be(u,"anchor",["start","middle","end"]),this.frameAnchor=wu(c)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:s,y:u,length:c,rotate:h}=r,{length:l,rotate:d,anchor:p,shape:m,r:g}=this,[w,y]=Ra(this,i);return Bt("svg:g",o).call(tn,this,i,o).call(Le,this,{x:s&&a,y:u&&f}).call(_=>_.selectAll().data(e).enter().append("path").call(en,this).attr("transform",gm`translate(${s?b=>s[b]:w},${u?b=>u[b]:y})${h?b=>` rotate(${h[b]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?c?b=>` translate(0,${c[b]})`:` translate(0,${l})`:c?b=>` translate(0,${c[b]/2})`:` translate(0,${l/2})`}`).attr("d",c?b=>{const v=Zf();return m.draw(v,c[b],g),v}:(()=>{const b=Zf();return m.draw(b,l,g),b})()).call(Gn,this,r)).node()}}function R4(t,e={}){const{x:n=Ut,...r}=e;return new km(t,{...r,x:n})}function F4(t,e={}){const{y:n=Ut,...r}=e;return new km(t,{...r,y:n})}function bn(t,e){return arguments.length<2&&!gn(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Ba({anchor:t}={},e){return t===void 0?e[0]:be(t,"anchor",e)}function Em(t){return Ba(t,["left","right"])}function Am(t){return Ba(t,["right","left"])}function Cm(t){return Ba(t,["bottom","top"])}function Nm(t){return Ba(t,["top","bottom"])}function Dm(){const[t,e]=bn(...arguments);return Rm("y",Em(e),t,e)}function I4(){const[t,e]=bn(...arguments);return Rm("fy",Am(e),t,e)}function Lm(){const[t,e]=bn(...arguments);return Fm("x",Cm(e),t,e)}function P4(){const[t,e]=bn(...arguments);return Fm("fx",Nm(e),t,e)}function Rm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:g,x:w,margin:y,marginTop:_=y===void 0?20:y,marginRight:b=y===void 0?e==="right"?40:0:y,marginBottom:v=y===void 0?20:y,marginLeft:x=y===void 0?e==="left"?40:0:y,label:M,labelAnchor:k,labelArrow:E,labelOffset:N,...$}){return p=wt(p),m=wt(m),g=wt(g),k!==void 0&&(k=be(k,"labelAnchor",["center","top","bottom"])),E=Ym(E),em(p&&!Wt(o)?O4(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:w,...$}):null,Wt(s)?null:B4(t,e,n,{fill:s,fillOpacity:u,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,x:w,marginTop:_,marginRight:b,marginBottom:v,marginLeft:x,...$}),!Wt(s)&&M!==null?_m([],Um({fill:s,fillOpacity:u,...$},function(L,F,P,S,B){const W=S[t],{marginTop:j,marginRight:X,marginBottom:z,marginLeft:I}=t==="y"&&B.inset||B,U=k??(W.bandwidth?"center":"top"),q=N??(e==="right"?X:I)-3;return U==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=U,this.frameAnchor=`${U}-${e}`,this.rotate=0),this.dy=U==="top"?3-j:U==="bottom"?z-3:0,this.dx=e==="right"?q:-q,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[qm(t,W,{anchor:e,label:M,labelAnchor:U,labelArrow:E})]}}}})):null)}function Fm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:g,y:w,margin:y,marginTop:_=y===void 0?e==="top"?30:0:y,marginRight:b=y===void 0?20:y,marginBottom:v=y===void 0?e==="bottom"?30:0:y,marginLeft:x=y===void 0?20:y,label:M,labelAnchor:k,labelArrow:E,labelOffset:N,...$}){return p=wt(p),m=wt(m),g=wt(g),k!==void 0&&(k=be(k,"labelAnchor",["center","left","right"])),E=Ym(E),em(p&&!Wt(o)?U4(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y:w,...$}):null,Wt(s)?null:z4(t,e,n,{fill:s,fillOpacity:u,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,y:w,marginTop:_,marginRight:b,marginBottom:v,marginLeft:x,...$}),!Wt(s)&&M!==null?_m([],Um({fill:s,fillOpacity:u,...$},function(L,F,P,S,B){const W=S[t],{marginTop:j,marginRight:X,marginBottom:z,marginLeft:I}=t==="x"&&B.inset||B,U=k??(W.bandwidth?"center":"right"),q=N??(e==="top"?j:z)-3;return U==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${U}`,this.textAnchor=U==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-q:q,this.dx=U==="right"?X-3:U==="left"?3-I:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[qm(t,W,{anchor:e,label:M,labelAnchor:U,labelArrow:E})]}}}})):null)}function O4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:s,inset:u=0,insetLeft:c=u,insetRight:h=u,dx:l=0,y:d=t==="y"?void 0:null,...p}){return Lr(F4,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:d,...p,dx:e==="left"?+l-Ht+ +c:+l+Ht-h,anchor:"start",length:s,shape:e==="left"?j4:Z4})}function U4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:s,inset:u=0,insetTop:c=u,insetBottom:h=u,dy:l=0,x:d=t==="x"?void 0:null,...p}){return Lr(R4,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:d,...p,dy:e==="bottom"?+l-Ht-h:+l+Ht+ +c,anchor:"start",length:s,shape:e==="bottom"?V4:X4})}function B4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*am):0),text:s,textAnchor:u=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:c=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:l=0,insetLeft:d=l,insetRight:p=l,dx:m=0,y:g=t==="y"?void 0:null,...w}){return Lr(b4,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:s,textAnchor:u,lineAnchor:c,fontVariant:h,rotate:a,y:g,...w,dx:e==="left"?+m-o-f+ +d:+m+ +o+ +f-p},function(y,_,b,v,x){h===void 0&&(this.fontVariant=zm(y)),s===void 0&&(x.text=Bm(y,_,b,v,e))})}function z4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*am):0),text:s,textAnchor:u=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:h,inset:l=0,insetTop:d=l,insetBottom:p=l,dy:m=0,x:g=t==="x"?void 0:null,...w}){return Lr(y4,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:c,fontVariant:h,rotate:a,x:g,...w,dy:e==="bottom"?+m+ +o+ +f-p:+m-o-f+ +d},function(y,_,b,v,x){h===void 0&&(this.fontVariant=zm(y)),s===void 0&&(x.text=Bm(y,_,b,v,e))})}function q4(){const[t,e]=bn(...arguments);return Im("y",Em(e),t,e)}function Y4(){const[t,e]=bn(...arguments);return Im("fy",Am(e),t,e)}function W4(){const[t,e]=bn(...arguments);return Pm("x",Cm(e),t,e)}function H4(){const[t,e]=bn(...arguments);return Pm("fx",Nm(e),t,e)}function Im(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:o=e==="left"?i:null,x2:a=e==="right"?i:null,...f}){return Lr(ks,t,e,`${t}-grid`,n,{y:r,x1:o,x2:a,...Om(f)})}function Pm(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:o=e==="top"?i:null,y2:a=e==="bottom"?i:null,...f}){return Lr(p4,t,e,`${t}-grid`,n,{x:r,y1:o,y2:a,...Om(f)})}function Om({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function Um({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:s,shapeRendering:u,clip:c=!1},h){return[,t]=Ze(t),[,e]=jt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:s,shapeRendering:u,clip:c,initializer:h}}function Lr(t,e,n,r,i,o,a){let f;function s(h,l,d,p,m,g){const w=h==null&&(e==="fx"||e==="fy"),{[e]:y}=p;if(!y)throw new Error(`missing scale: ${e}`);const _=y.domain();let{interval:b,ticks:v,tickFormat:x,tickSpacing:M=e==="x"?80:35}=o;if(typeof v=="string"&&Wm(y)&&(b=v,v=void 0),v===void 0&&(v=Nr(b,y.type)??G4(y,M)),h==null){if(gn(v))h=Qt(v);else if(ar(v))h=kf(v,...ee(_));else if(y.interval){let E=y.interval;if(y.ticks){const[N,$]=ee(_),L=($-N)/E[Ri];E=ul(E,L/v)??E,h=kf(E,N,$)}else{h=_;const N=h.length;E=ul(E,N/v)??E,E!==y.interval&&(h=kf(E,...ee(h)))}if(E===y.interval){const N=Math.round(h.length/v);N>1&&(h=h.filter(($,L)=>L%N===0))}}else y.ticks?h=y.ticks(v):h=_;if(!y.ticks&&h.length&&h!==_){const E=new aa(_);h=h.filter(N=>E.has(N)),h.length||an(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?l=[Qe(h)]:f[e]={scale:e,value:Ut}}a==null||a.call(this,y,h,v,x,f);const k=Object.fromEntries(Object.entries(f).map(([E,N])=>[E,{...N,value:Dt(h,N.value)}]));return w&&(l=g.filterFacets(h,k)),{data:h,facets:l,channels:k}}const u=ta(o).initializer,c=t(i,ta({...o,initializer:s},u));return i==null?(f=c.channels,c.channels={}):f={},c.ariaLabel=r,c.clip===void 0&&(c.clip=!1),c}function G4(t,e){const[n,r]=ee(t.range());return(r-n)/e}function Bm(t,e,n,r,i){return{value:Uu(t,e,n,r,i)}}function Uu(t,e,n,r,i){return typeof r=="function"?r:r===void 0&&e&&Xt(e)?A3(e,i)??Un:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?Un:typeof r=="string"?(Xt(t.domain())?Li:Ar)(r):Fi(r)}function kf(t,e,n){return t.range(e,t.offset(t.floor(n)))}const V4={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},X4={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},j4={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},Z4={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function zm(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function K4(t){return Math.sign($r(t.domain()))*Math.sign($r(t.range()))}function qm(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Wm(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=K4(e);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Ym(t="auto"){return Wt(t)?!1:typeof t=="boolean"?t:be(t,"labelArrow",["auto","up","right","down","left"])}function Wm(t){return Xt(t.domain())}function Bl(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function Q4(t,{opacity:e,...n}={}){if(!Vn(t)&&!tm(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Hm(t,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",jt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function J4(t,{fill:e=(u=>(u=t.hint)==null?void 0:u.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=t.hint)==null?void 0:c.stroke)()!==void 0?t.hint.stroke:Wt(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},s){const[h,l]=Ze(e),[d,p]=Ze(r),m=Bl(s,h),g=Bl(s,d),w=a*a*Math.PI;return n=jt(n)[1],i=jt(i)[1],o=jt(o)[1],Hm(t,f,(y,_,b,v)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",b).attr("height",v).attr("fill",h==="color"?x=>m.scale(x):l).attr("fill-opacity",n).attr("stroke",d==="color"?x=>g.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",x=>{const M=Zf();return t.scale(x).draw(M,w),M}))}function Hm(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=om(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:s=a,marginLeft:u=0,className:c,style:h,width:l}=e;const d=ku(e);c=$u(c),i=Uu(t.scale,t.domain,void 0,i);const p=Bt("div",d).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,t,f,s).call(g=>g.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(m=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,t,f,s).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",u?`${+u}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Rt(o,"normal")).call(Tu,h).node()}const As=new Map([["symbol",J4],["color",Vm],["opacity",e7]]);function t7(t,e,n={}){return(r,i)=>{if(!As.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return As.get(r)(t[r],Gm(e,n[r],i),o=>t[o])}}function Gm({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return K3(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function Vm(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return Q4(t,n);case"ramp":return i4(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function e7({type:t,interpolate:e,...n},{legend:r=!0,color:i=cn(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Vm({type:t,...n,interpolate:n7(i)},{legend:r,...o})}function n7(t){const{r:e,g:n,b:r}=cn(t)||cn(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function r7(t,e,n){const r=[];for(const[i,o]of As){const a=n[i];if(a!=null&&a.legend&&i in t){const f=o(t[i],Gm(e,t[i],a),s=>t[s]);f!=null&&r.push(f)}}return r}const i7={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},o7={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class a7 extends fe{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:f=r,rx:s,ry:u}=e;super(bo,void 0,e,n==null?i7:o7),this.anchor=mp(n,"anchor",["top","right","bottom","left"]),this.insetTop=wt(i),this.insetRight=wt(o),this.insetBottom=wt(a),this.insetLeft=wt(f),this.rx=wt(s),this.ry=wt(u)}render(e,n,r,i,o){const{marginTop:a,marginRight:f,marginBottom:s,marginLeft:u,width:c,height:h}=i,{anchor:l,insetTop:d,insetRight:p,insetBottom:m,insetLeft:g,rx:w,ry:y}=this,_=u+g,b=c-f-p,v=a+d,x=h-s-m;return Bt(l?"svg:line":"svg:rect",o).datum(0).call(tn,this,i,o).call(en,this).call(Gn,this,r).call(Le,this,{}).call(l==="left"?M=>M.attr("x1",_).attr("x2",_).attr("y1",v).attr("y2",x):l==="right"?M=>M.attr("x1",b).attr("x2",b).attr("y1",v).attr("y2",x):l==="top"?M=>M.attr("x1",_).attr("x2",b).attr("y1",v).attr("y2",v):l==="bottom"?M=>M.attr("x1",_).attr("x2",b).attr("y1",x).attr("y2",x):M=>M.attr("x",_).attr("y",v).attr("width",b-_).attr("height",x-v).attr("rx",w).attr("ry",y)).node()}}function f7(t){return new a7(t)}const Ef={ariaLabel:"tip",fill:"white",stroke:"currentColor"},s7=new Set(["geometry","href","src","ariaLabel","scales"]);class u7 extends fe{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&gn(e)&&wp(e)&&(n={...n,title:Ut});const{x:r,y:i,x1:o,x2:a,y1:f,y2:s,anchor:u,monospace:c,fontFamily:h=c?"ui-monospace, monospace":void 0,fontSize:l,fontStyle:d,fontVariant:p,fontWeight:m,lineHeight:g=1,lineWidth:w=20,frameAnchor:y,format:_,textAnchor:b="start",textOverflow:v,textPadding:x=8,title:M,pointerSize:k=12,pathFilter:E="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&s!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:s==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:s,scale:"y",optional:f==null},title:{value:M,optional:!0}},n,Ef),this.anchor=vp(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=wu(y),this.textAnchor=Rt(b,"middle"),this.textPadding=+x,this.pointerSize=+k,this.pathFilter=Yt(E),this.lineHeight=+g,this.lineWidth=+w,this.textOverflow=bm(v),this.monospace=!!c,this.fontFamily=Yt(h),this.fontSize=wt(l),this.fontStyle=Yt(d),this.fontVariant=Yt(p),this.fontWeight=Yt(m);for(const N in Ef)N in this.channels&&(this[N]=Ef[N]);this.splitLines=vm(this),this.clipLine=xm(this),this.format={..._}}render(e,n,r,i,o){const a=this,{x:f,y:s,fx:u,fy:c}=n,{ownerSVGElement:h,document:l}=o,{anchor:d,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:w,pointerSize:y,pathFilter:_}=this,{marginTop:b,marginLeft:v}=i,{x1:x,y1:M,x2:k,y2:E,x:N=x??k,y:$=M??E}=r,L=u?u(e.fx)-v:0,F=c?c(e.fy)-b:0,[P,S]=Ra(this,i),B=rm(r,P),W=im(r,S),j=p?Ou:Pu,X=j(lr);let z,I;"title"in r?(z=r.channels,I=m7):(z=p7.call(this,r,n),I=g7);const U=Bt("svg:g",o).call(tn,this,i,o).call(wm,this).call(Le,this,{x:N&&f,y:$&&s}).call(Z=>Z.selectAll().data(e).enter().append("g").attr("transform",G=>`translate(${Math.round(B(G))},${Math.round(W(G))})`).call(en,this).call(G=>G.append("path").attr("filter",_)).call(G=>G.append("text").each(function(D){const R=Jr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const A=I.call(a,D,e,z,n,r);if(typeof A=="string")for(const Y of a.splitLines(A))q(R,{value:a.clipLine(Y)});else{const Y=new Set;for(const V of A){const{label:C=""}=V;C&&Y.has(C)||(Y.add(C),q(R,V))}}})));function q(Z,{label:G,value:D,color:R,opacity:A}){G??(G=""),D??(D="");const Y=R!=null||A!=null;let V,C=g*100;const[st]=kr(G,C,j,X);if(st>=0)G=G.slice(0,st).trimEnd()+lr,V=D.trim(),D="";else{(G||!D&&!Y)&&(D=" "+D);const[ht]=kr(D,C-j(G),j,X);ht>=0&&(D=D.slice(0,ht).trimEnd()+lr,V=D.trim())}const H=Z.append("tspan").attr("x",0).attr("dy",`${m}em`).text("​");G&&H.append("tspan").attr("font-weight","bold").text(G),D&&H.append(()=>l.createTextNode(D)),Y&&H.append("tspan").text(" ■").attr("fill",R).attr("fill-opacity",A).style("user-select","none"),V&&H.append("title").text(V)}function Q(){const{width:Z,height:G}=i.facet??i;U.selectChildren().each(function(D){let{x:R,width:A,height:Y}=this.getBBox();A=Math.round(A),Y=Math.round(Y);let V=d;if(V===void 0){V=a.previousAnchor;const H=B(D)+L,ht=W(D)+F,ct=H+A+w*2<Z,_t=H-A-w*2>0,Re=ht+Y+y+w*2+7<G,qi=ht-Y-y-w*2>0,Wa=(/-left$/.test(V)?ct||!_t:ct&&!_t)?"left":"right",Ha=(/^top-/.test(V)?Re||!qi:Re&&!qi)?"top":"bottom";V=a.previousAnchor=`${Ha}-${Wa}`}const C=this.firstChild,st=this.lastChild;if(C.setAttribute("d",d7(V,y,w,A,Y)),R)for(const H of st.childNodes)H.setAttribute("x",-R);st.setAttribute("y",`${+l7(V,st.childNodes.length,m).toFixed(6)}em`),st.setAttribute("transform",`translate(${h7(V,y,w,A,Y)})`)}),U.attr("visibility",null)}return e.length&&(U.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(Q):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Q)),U.node()}}function c7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=yu(e,n)),new u7(t,{...r,x:e,y:n})}function l7(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function h7(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function d7(t,e,n,r,i){const o=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${a}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${a}h${-o}v${-a}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${a}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-o}v${a}h${o}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-a}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-a}h${-o}v${a}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-a}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${o}v${a}h${-o}v${e/2-a/2}z`}}function p7({channels:t},e){var i,o;const n={};let r=this.format;r=zl(r,t,"x"),r=zl(r,t,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const s=bl(t,a);s&&(n[a]=s)}}for(const a in t){if(a in n||a in r||s7.has(a))continue;const f=bl(t,a);f&&(n[a]=f)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const f=this.format[a];if(typeof f=="string"){const s=((i=n[a])==null?void 0:i.value)??((o=e[a])==null?void 0:o.domain())??[];this.format[a]=(Xt(s)?Li:Ar)(f)}else if(f===void 0||f===!0){const s=e[a];this.format[a]=s!=null&&s.bandwidth?Uu(s,s.domain()):Un}}return n}function zl(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const o=Object.entries(t),a=t[n];return o.splice(o.findIndex(([f])=>f===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function m7(t,e,{title:n}){return Un(n.value[t],t)}function*g7(t,e,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:na(r,n,o),value:this.format[o](e[o],t)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:Yl(r,n,"x"),value:ql(this.format.x2,n.x1,a,t)};else if(o==="y2"&&"y1"in n)yield{label:Yl(r,n,"y"),value:ql(this.format.y2,n.y1,a,t)};else{const f=a.value[t],s=a.scale;if(!hn(f)&&s==null)continue;yield{label:na(r,n,o),value:this.format[o](f,t),color:s==="color"?i[o][t]:null,opacity:s==="opacity"?i[o][t]:null}}}}function ql(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}–${t(n.value[r],r)}`}function Yl(t,e,n){const r=na(t,e,`${n}1`,n),i=na(t,e,`${n}2`,n);return r===i?r:`${r}–${i}`}function na(t,e,n,r=n){const i=e[n],o=t[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function Rr(t={}){var X;const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,s=$u(t.className),u=t.marks===void 0?[]:Hl(t.marks);u.push(...S7(u));const c=x7(e,t),h=new Map;for(const z of u){const I=Gl(z,c,t);I&&h.set(z,I)}const l=new Map;c&&Yr(l,[c],t),Yr(l,h,t);const d=Hl($7(u,l,t));for(const z of d){const I=Gl(z,c,t);I&&h.set(z,I)}u.unshift(...d);let p=z5(l,t);if(p!==void 0){const z=c?$f(p,c):void 0;for(const U of u){if(U.facet===null||U.facet==="super")continue;const q=h.get(U);q!==void 0&&(q.facetsIndex=U.fx!=null||U.fy!=null?$f(p,q):z)}const I=new Set;for(const{facetsIndex:U}of h.values())U==null||U.forEach((q,Q)=>{(q==null?void 0:q.length)>0&&I.add(Q)});p.forEach(0<I.size&&I.size<p.length?(U,q)=>U.empty=!I.has(q):U=>U.empty=!1);for(const U of u)if(U.facet==="exclude"){const q=h.get(U);q!==void 0&&(q.facetsIndex=W5(q.facetsIndex))}}for(const z of St.keys())ws(t[z])&&z!=="fx"&&z!=="fy"&&l.set(z,[]);const m=new Map;for(const z of u){if(m.has(z))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:I,channels:U}=h.get(z)??{},{data:q,facets:Q,channels:Z}=z.initialize(I,U,t);Bu(Z,t),m.set(z,{data:q,facets:Q,channels:Z})}const g=$s(Yr(l,m,t),t),w=U5(g,u,t);C5(g,w);const y=kl(g),{fx:_,fy:b}=y,v=_||b?Kp(g,w):w,x=_||b?D7(y,w):w,M=ku(t),k=M.document,E=ua("svg").call(k.documentElement);let N=E;M.ownerSVGElement=E,M.className=s,M.projection=Y8(t,v),M.filterFacets=(z,I)=>$f(p,{channels:I,groups:Du(z,I)}),M.getMarkState=z=>{const I=m.get(z),U=h.get(z);return{...I,channels:{...I.channels,...U==null?void 0:U.channels}}},M.dispatchValue=z=>{N.value!==z&&(N.value=z,N.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[z,I]of m)if(z.initializer!=null){const U=z.facet==="super"?x:v,q=z.initializer(I.data,I.facets,I.channels,y,U,M);if(q.data!==void 0&&(I.data=q.data),q.facets!==void 0&&(I.facets=q.facets),q.channels!==void 0){const{fx:Q,fy:Z,...G}=q.channels;v7(G),Object.assign(I.channels,G);for(const D of Object.values(G)){const{scale:R}=D;R!=null&&!J3(St.get(R))&&(Xm(D,t),$.add(R))}(Q!=null||Z!=null)&&h.set(z,!0)}}if($.size){const z=new Map;Yr(z,m,t,Q=>$.has(Q)),Yr(l,m,t,Q=>$.has(Q));const I=N7($s(z,t),g),{scales:U,...q}=kl(I);Object.assign(g,I),Object.assign(y,q),Object.assign(y.scales,U)}let L,F;p!==void 0&&(L={x:_==null?void 0:_.domain(),y:b==null?void 0:b.domain()},p=q5(p,L),F=Y5(_,b,w));for(const[z,I]of m)I.values=z.scale(I.channels,y,M);const{width:P,height:S}=w;Jr(E).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",S).attr("viewBox",`0 0 ${P} ${S}`).attr("aria-label",a).attr("aria-description",f).call(z=>z.append("style").text(`.${s} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${s} text,
.${s} tspan {
  white-space: pre;
}`)).call(Tu,n);for(const z of u){const{channels:I,values:U,facets:q}=m.get(z);if(p===void 0||z.facet==="super"){let Q=null;if(q&&(Q=q[0],Q=z.filter(Q,I,U),Q.length===0))continue;const Z=z.render(Q,y,U,x,M);if(Z==null)continue;E.appendChild(Z)}else{let Q;for(const Z of p){if(!(((X=z.facetAnchor)==null?void 0:X.call(z,p,L,Z))??!Z.empty))continue;let G=null;if(q){const R=h.has(z);if(G=q[R?Z.i:0],G=z.filter(G,I,U),G.length===0)continue;!R&&G===q[0]&&(G=B3(G)),G.fx=Z.x,G.fy=Z.y,G.fi=Z.i}const D=z.render(G,y,U,v,M);if(D!=null){(Q??(Q=Jr(E).append("g"))).append(()=>D).datum(Z);for(const R of["aria-label","aria-description","aria-hidden","transform"])D.hasAttribute(R)&&(Q.attr(R,D.getAttribute(R)),D.removeAttribute(R))}}Q==null||Q.selectChildren().attr("transform",F)}}const B=r7(g,M,t),{figure:W=r!=null||i!=null||o!=null||B.length>0}=t;W&&(N=k.createElement("figure"),N.className=`${s}-figure`,N.style.maxWidth="initial",r!=null&&N.append(Wl(k,r,"h2")),i!=null&&N.append(Wl(k,i,"h3")),N.append(...B,E),o!=null&&N.append(y7(k,o))),N.scale=P5(y.scales),N.legend=t7(g,M,t);const j=A8();return j>0&&Jr(E).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${j.toLocaleString("en-US")} warning${j===1?"":"s"}. Please check the console.`),N}function Wl(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function y7(t,e){const n=t.createElement("figcaption");return n.append(e),n}function b7({marks:t=[],...e}={}){return Rr({...e,marks:[...t,this]})}fe.prototype.plot=b7;function Hl(t){return t.flat(1/0).filter(e=>e!=null).map(_7)}function _7(t){return typeof t.render=="function"?t:new w7(t)}class w7 extends fe{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Bu(t,e){for(const n in t)Xm(t[n],e);return t}function Xm(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?s=>s*100:_p(a,i)}=e[n]??{};f!=null&&(t.value=kt(t.value,f),t.transform=!1)}function v7(t){for(const e in t)Dp(e,t[e])}function Yr(t,e,n,r=R3){var i,o;for(const{channels:a}of e.values())for(const f in a){const s=a[f],{scale:u}=s;if(u!=null&&r(u))if(u==="projection"){if(!V8(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,h=((o=n.y)==null?void 0:o.domain)===void 0;if(c||h){const[l,d]=j8(s);c&&Af(t,"x",l),h&&Af(t,"y",d)}}}else Af(t,u,s)}return t}function Af(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function x7(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=Qt(t.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=_i(i,{value:n,scale:"fx"})),r!=null&&(o.fy=_i(i,{value:r,scale:"fy"})),Bu(o,e);const a=Du(i,o);return{channels:o,groups:a,data:t.data}}function Gl(t,e,n){var s;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=Qt(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=_i(u,{value:r,scale:"fx"})),i!=null&&(c.fy=_i(u,{value:i,scale:"fy"})),Bu(c,n),{channels:c,groups:Du(u,c)}}if(e===void 0)return;const{channels:o,groups:a,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&((s=Qt(t.data))==null?void 0:s.length)===f.length&&an(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function M7(t,e={}){return ta({...e,x:null,y:null},(n,r,i,o,a,f)=>f.getMarkState(t))}function S7(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i}=r;i=/^x$/i.test(i)?n4:/^y$/i.test(i)?r4:e4,r=i(M7(n,r)),r.title=null;const o=c7(n.data,r);o.facet=n.facet,o.facetAnchor=n.facetAnchor,e.push(o)}}return e}function $7(t,e,n){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:s,grid:u,facet:c={},facet:{axis:h=s,grid:l}=c,x:{axis:d=s,grid:p=d===null?null:u}=i,y:{axis:m=s,grid:g=m===null?null:u}=o,fx:{axis:w=h,grid:y=w===null?null:l}=a,fy:{axis:_=h,grid:b=_===null?null:l}=f}=n;(r||!ws(i)&&!Vl("x",t))&&(d=p=null),(r||!ws(o)&&!Vl("y",t))&&(m=g=null),e.has("fx")||(w=y=null),e.has("fy")||(_=b=null),d===void 0&&(d=!uo(t,"x")),m===void 0&&(m=!uo(t,"y")),w===void 0&&(w=!uo(t,"fx")),_===void 0&&(_=!uo(t,"fy")),d===!0&&(d="bottom"),m===!0&&(m="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),_===!0&&(_=m==="right"||m===null?"left":"right");const v=[];return so(v,b,Y4,f),fo(v,_,I4,"right","left",c,f),so(v,y,H4,a),fo(v,w,P4,"top","bottom",c,a),so(v,g,q4,o),fo(v,m,Dm,"left","right",n,o),so(v,p,W4,i),fo(v,d,Lm,"bottom","top",n,i),v}function fo(t,e,n,r,i,o,a){if(!e)return;const f=T7(e);a=k7(f?r:e,o,a);const{line:s}=a;(n===Dm||n===Lm)&&s&&!bi(s)&&t.push(f7(E7(a))),t.push(n(a)),f&&t.push(n({...a,anchor:i,label:null}))}function so(t,e,n,r){!e||bi(e)||t.push(n(A7(e,r)))}function T7(t){return/^\s*both\s*$/i.test(t)}function k7(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:h,label:l=e.label,labelAnchor:d,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:h,label:l,labelAnchor:d,labelArrow:p,labelOffset:m}}function E7(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function A7(t,{stroke:e=Da(t)?t:void 0,ticks:n=C7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function C7(t){switch(typeof t){case"number":return!0;case"string":return!Da(t)}return gn(t)||typeof(t==null?void 0:t.range)=="function"}function uo(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Vl(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function N7(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function D7({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:s}=Nu(n),u=t&&Xl(t),c=e&&Xl(e);return{marginTop:e?c[0]:r,marginRight:t?f-u[1]:i,marginBottom:e?s-c[1]:o,marginLeft:t?u[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:s}}function Xl(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const L7=new Map([["basis",f3],["basis-closed",s3],["basis-open",u3],["bundle",c3],["bump-x",Z6],["bump-y",K6],["cardinal",l3],["cardinal-closed",h3],["cardinal-open",d3],["catmull-rom",p3],["catmull-rom-closed",m3],["catmull-rom-open",g3],["linear",Ea],["linear-closed",y3],["monotone-x",b3],["monotone-y",_3],["natural",w3],["step",v3],["step-after",M3],["step-before",x3]]);function R7(t=Ea,e){if(typeof t=="function")return t;const n=L7.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function F7(t=ra,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?ra:R7(t,e)}function ra(t){return Ea(t)}function I7(t={y:"count"},e={}){[t,e]=B7(t,e);const{x:n,y:r}=e;return U7(z7(n,e,Ut),null,null,r,t,Fu(e))}function P7(t,e,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=Su}=n,i={filter:null};return n[e]!=null&&(i[e]=r),n[`${e}1`]!=null&&(i[`${e}1`]=r),n[`${e}2`]!=null&&(i[`${e}2`]=r),t(i,n)}function O7(t={}){return P7(I7,"y",Oa(t,"x"))}function U7(t,e,n,r,{data:i=Np,filter:o=ea,sort:a,reverse:f,...s}={},u={}){t=jl(t),e=jl(e),s=Y7(s,u),i=Km(i,Ut),a=a==null?void 0:jm("sort",a,u),o=o==null?void 0:Zm("filter",o,u),n!=null&&ro(s,"x","x1","x2")&&(n=null),r!=null&&ro(s,"y","y1","y2")&&(r=null);const[c,h]=Ue(t),[l,d]=Ue(t),[p,m]=Ue(e),[g,w]=Ue(e),[y,_]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[b,v]=Ue(y),{x,y:M,z:k,fill:E,stroke:N,x1:$,x2:L,y1:F,y2:P,domain:S,cumulative:B,thresholds:W,interval:j,...X}=u,[z,I]=Ue(k),[U]=Ze(E),[q]=Ze(N),[Q,Z]=Ue(U),[G,D]=Ue(q);return{..."z"in u&&{z:z||k},..."fill"in u&&{fill:Q||E},..."stroke"in u&&{stroke:G||N},...xu(X,(R,A,Y)=>{const V=bp(Dt(R,y),Y==null?void 0:Y[_]),C=Dt(R,k),st=Dt(R,U),H=Dt(R,q),ht=c8(s,{z:C,fill:st,stroke:H}),ct=[],_t=[],Re=V&&v([]),qi=C&&I([]),Wa=st&&Z([]),Ha=H&&D([]),Yu=t&&h([]),dg=t&&d([]),Wu=e&&m([]),pg=e&&w([]),mg=G7(t==null?void 0:t(R),e==null?void 0:e(R));let gg=0;for(const Xn of s)Xn.initialize(R);a&&a.initialize(R),o&&o.initialize(R);for(const Xn of A){const Hu=[];for(const Fr of s)Fr.scope("facet",Xn);a&&a.scope("facet",Xn),o&&o.scope("facet",Xn);for(const[Fr,yg]of pl(Xn,ht))for(const[bg,Yi]of pl(yg,V))for(const[_e,_n]of mg(Yi))if(!(o&&!o.reduce(_e,_n))){Hu.push(gg++),_t.push(i.reduceIndex(_e,R,_n)),V&&Re.push(bg),C&&qi.push(ht===C?Fr:C[(_e.length>0?_e:Yi)[0]]),st&&Wa.push(ht===st?Fr:st[(_e.length>0?_e:Yi)[0]]),H&&Ha.push(ht===H?Fr:H[(_e.length>0?_e:Yi)[0]]),Yu&&(Yu.push(_n.x1),dg.push(_n.x2)),Wu&&(Wu.push(_n.y1),pg.push(_n.y2));for(const _g of s)_g.reduce(_e,_n);a&&a.reduce(_e)}ct.push(Hu)}return l8(ct,a,f),{data:_t,facets:ct}}),...!ro(s,"x")&&(c?{x1:c,x2:l,x:vs(c,l)}:{x,x1:$,x2:L}),...!ro(s,"y")&&(p?{y1:p,y2:g,y:vs(p,g)}:{y:M,y1:F,y2:P}),...b&&{[_]:b},...Object.fromEntries(s.map(({name:R,output:A})=>[R,A]))}}function B7({cumulative:t,domain:e,thresholds:n,interval:r,...i},o){return[i,{cumulative:t,domain:e,thresholds:n,interval:r,...o}]}function z7(t,{cumulative:e,domain:n,thresholds:r,interval:i},o){return t={...Ii(t)},t.domain===void 0&&(t.domain=n),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=q7(t.thresholds,t.interval),t}function jl(t){if(t==null)return;const{value:e,cumulative:n,domain:r=ee,thresholds:i}=t,o=a=>{let f=Dt(a,e),s;if(Xt(f)||H7(i)){f=kt(f,pp,Float64Array);let[c,h]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!ar(i)?i(f,c,h):i;typeof l=="number"&&(l=g0(c,h,l)),ar(l)&&(r===ee&&(c=l.floor(c),h=l.offset(l.floor(h))),l=l.range(c,l.offset(h))),s=l}else{f=Sr(f);let[c,h]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!ar(i)?i(f,c,h):i;if(typeof l=="number")if(r===ee){let d=xo(c,h,l);if(isFinite(d))if(d>0){let p=Math.round(c/d),m=Math.round(h/d);p*d<=c||--p,m*d>h||++m;let g=m-p+1;l=new Float64Array(g);for(let w=0;w<g;++w)l[w]=(p+w)*d}else if(d<0){d=-d;let p=Math.round(c*d),m=Math.round(h*d);p/d<=c||--p,m/d>h||++m;let g=m-p+1;l=new Float64Array(g);for(let w=0;w<g;++w)l[w]=(p+w)/d}else l=[c];else l=[c]}else l=fi(c,h,l);else ar(l)&&(r===ee&&(c=l.floor(c),h=l.offset(l.floor(h))),l=l.range(c,l.offset(h)));s=l}const u=[];if(s.length===1)u.push([s[0],s[0]]);else for(let c=1;c<s.length;++c)u.push([s[c-1],s[c]]);return u.bin=(n<0?X7:n>0?V7:zu)(u,s,f),u};return o.label=Hn(e),o}function q7(t,e,n=Zl){if(t===void 0)return e===void 0?n:Nr(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return y2;case"scott":return Ah;case"sturges":return d2;case"auto":return Zl}return hu(t)}return t}function Y7(t,e){return f8(t,e,jm)}function jm(t,e,n){return Ap(t,e,n,Zm)}function Zm(t,e,n){return Cp(t,e,n,Km)}function Km(t,e){return Mu(t,e,W7)}function W7(t){switch(`${t}`.toLowerCase()){case"x":return j7;case"x1":return K7;case"x2":return Q7;case"y":return Z7;case"y1":return J7;case"y2":return t9}throw new Error(`invalid bin reduce: ${t}`)}function Zl(t,e,n){return Math.min(200,Ah(t,e,n))}function H7(t){return Y3(t)||gn(t)&&Xt(t)}function G7(t,e){return t&&e?function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries()){const f=e.bin(r[i]);for(const[s,[u,c]]of e.entries())yield[f[s],{x1:o,y1:u,x2:a,y2:c}]}}:t?function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries())yield[r[i],{x1:o,x2:a}]}:function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries())yield[r[i],{y1:o,y2:a}]}}function zu(t,e,n){return e=Sr(e),r=>{var o;const i=t.map(()=>[]);for(const a of r)(o=i[oa(e,n[a])-1])==null||o.push(a);return i}}function V7(t,e,n){const r=zu(t,e,n);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const s=o[a-1],u=o[a];for(const c of s)u.push(c)}return o}}function X7(t,e,n){const r=zu(t,e,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],s=o[a];for(const u of f)s.push(u)}return o}}function Qm(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const j7={reduceIndex(t,e,{x1:n,x2:r}){return Qm(n,r)}},Z7={reduceIndex(t,e,{y1:n,y2:r}){return Qm(n,r)}},K7={reduceIndex(t,e,{x1:n}){return n}},Q7={reduceIndex(t,e,{x2:n}){return n}},J7={reduceIndex(t,e,{y1:n}){return n}},t9={reduceIndex(t,e,{y2:n}){return n}};function e9(t={}){return gp(t)?t:{...t,y:Ut}}function n9(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,r=new Uint8Array(n);let i=0;for(const f of e)for(const s of f)r[s]&&++i,r[s]=1;if(i===0)return{data:t,facets:e};t=gi(t);const o=t[hp]=new Uint32Array(n+i);e=e.map(f=>gi(f,Uint32Array));let a=n;r.fill(0);for(const f of e)for(let s=0,u=f.length;s<u;++s){const c=f[s];r[c]?(f[s]=a,t[a]=t[c],o[a]=c,++a):o[c]=c,r[c]=1}return{data:t,facets:e}}function r9(t={},e={}){arguments.length===1&&([t,e]=o9(t));const{x1:n,x:r=n,y:i,...o}=e,[a,f,s,u]=f9(r,i,"x","y",t,o);return{...a,x1:n,x:f,y1:s,y2:u,y:vs(s,u)}}function i9({y:t,y1:e,y2:n,...r}={}){return r=Oa(r,"x"),e===void 0&&n===void 0?r9({y:t,...r}):([e,n]=U3(t,e,n),{...r,y1:e,y2:n})}function o9(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const a9={length:!0};function f9(t,e=L3,n,r,{offset:i,order:o,reverse:a},f){if(e===null)throw new Error(`stack requires ${r}`);const s=yp(f),[u,c]=Ue(t),[h,l]=Jo(e),[d,p]=Jo(e);return h.hint=d.hint=a9,i=s9(i),o=l9(o,i,r),[xu(f,(m,g,w)=>{({data:m,facets:g}=n9(m,g));const y=t==null?void 0:c(bp(Dt(m,t),w==null?void 0:w[n])),_=Dt(m,e,Float64Array),b=Dt(m,s),v=o&&o(m,y,_,b),x=m.length,M=l(new Float64Array(x)),k=p(new Float64Array(x)),E=[];for(const N of g){const $=y?Array.from(fa(N,L=>y[L]).values()):[N];if(v)for(const L of $)L.sort(v);for(const L of $){let F=0,P=0;a&&L.reverse();for(const S of L){const B=_[S];B<0?F=k[S]=(M[S]=F)+B:B>0?P=k[S]=(M[S]=P)+B:k[S]=M[S]=P}}E.push($)}return i&&i(E,M,k,b),{data:m,facets:g}}),u,h,d]}function s9(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return u9;case"center":case"silhouette":return c9;case"wiggle":return tg}throw new Error(`unknown offset: ${t}`)}}function Jm(t,e){let n=0,r=0;for(const i of t){const o=e[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function u9(t,e,n){for(const r of t)for(const i of r){const[o,a]=Jm(i,n);for(const f of i){const s=1/(a-o||1);e[f]=s*(e[f]-o),n[f]=s*(n[f]-o)}}}function c9(t,e,n){for(const r of t){for(const i of r){const[o,a]=Jm(i,n);for(const f of i){const s=(a+o)/2;e[f]-=s,n[f]-=s}}eg(r,e,n)}ng(t,e,n)}function tg(t,e,n,r){for(const i of t){const o=new Nn;let a=0;for(const f of i){let s=-1;const u=f.map(d=>Math.abs(n[d]-e[d])),c=f.map(d=>{s=r?r[d]:++s;const p=n[d]-e[d],m=o.has(s)?p-o.get(s):0;return o.set(s,p),m}),h=[0,...f2(c)];for(const d of f)e[d]+=a,n[d]+=a;const l=un(u);l&&(a-=un(u,(d,p)=>(c[p]/2+h[p])*d)/l)}eg(i,e,n)}ng(t,e,n)}function eg(t,e,n){const r=He(t,i=>He(i,o=>e[o]));for(const i of t)for(const o of i)e[o]-=r,n[o]-=r}function ng(t,e,n){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(He(f,s=>e[s])+he(f,s=>n[s]))/2),a=He(o);for(let f=0;f<r;f++){const s=a-o[f];for(const u of i[f])e[u]+=s,n[u]+=s}}function l9(t,e,n){if(t===void 0&&e===tg)return Kl(ge);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Qo:ge;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return h9(i);case"z":return d9(i);case"sum":return p9(i);case"appearance":return m9(i);case"inside-out":return Kl(i)}return Ql(dp(t))}if(typeof t=="function")return(t.length===1?Ql:g9)(t);if(Array.isArray(t))return y9(t);throw new Error(`invalid order: ${t}`)}}function h9(t){return(e,n,r)=>(i,o)=>t(r[i],r[o])}function d9(t){return(e,n,r,i)=>(o,a)=>t(i[o],i[a])}function p9(t){return za(t,(e,n,r,i)=>Rs(Qe(e),o=>un(o,a=>r[a]),o=>i[o]))}function m9(t){return za(t,(e,n,r,i)=>Rs(Qe(e),o=>n[Eh(o,a=>r[a])],o=>i[o]))}function Kl(t){return za(t,(e,n,r,i)=>{const o=Qe(e),a=Rs(o,h=>n[Eh(h,l=>r[l])],h=>i[h]),f=sr(o,h=>un(h,l=>r[l]),h=>i[h]),s=[],u=[];let c=0;for(const h of a)c<0?(c+=f.get(h),s.push(h)):(c-=f.get(h),u.push(h));return u.reverse().concat(s)})}function Ql(t){return e=>{const n=Dt(e,t);return(r,i)=>ge(n[r],n[i])}}function g9(t){return e=>(n,r)=>t(e[n],e[r])}function y9(t){return za(ge,()=>t)}function za(t,e){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new Nn(e(n,r,i,o).map((f,s)=>[f,s]));return(f,s)=>t(a.get(o[f]),a.get(o[s]))}}class rg extends fe{constructor(e,n,r={},i){super(e,n,r,i);const{inset:o=0,insetTop:a=o,insetRight:f=o,insetBottom:s=o,insetLeft:u=o,rx:c,ry:h}=r;this.insetTop=wt(a),this.insetRight=wt(f),this.insetBottom=wt(s),this.insetLeft=wt(u),this.rx=Rt(c,"auto"),this.ry=Rt(h,"auto")}render(e,n,r,i,o){const{rx:a,ry:f}=this;return Bt("svg:g",o).call(tn,this,i,o).call(this._transform,this,n).call(s=>s.selectAll().data(e).enter().append("rect").call(en,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(tt,"rx",a).call(tt,"ry",f).call(Gn,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:f}=this,s=n&&e?e.bandwidth():o-r-i;return Math.max(0,s-a-f)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:f}=this,s=n&&e?e.bandwidth():o-r-i;return Math.max(0,s-a-f)}}const b9={ariaLabel:"bar"};class _9 extends rg{constructor(e,n={}){const{x:r,y1:i,y2:o}=n;super(e,{y1:{value:i,scale:"y"},y2:{value:o,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,b9)}_transform(e,n,{y:r}){e.call(Le,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:o}=this;return Tr(e)?i+o:a=>Math.min(n[a],r[a])+o}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:f,insetBottom:s}=this;return Tr(e)?a-i-o-f-s:u=>Math.max(0,Math.abs(r[u]-n[u])-f-s)}}function w9(t,e={}){return O3(e)||(e={...e,x:du,y2:Ut}),new _9(t,i9(dm(e9(e))))}const v9={ariaLabel:"cell"};class x9 extends rg{constructor(e,{x:n,y:r,...i}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,v9)}_transform(e,n){e.call(Le,n,{},0,0)}}function M9(t,{x:e,y:n,...r}={}){return[e,n]=yu(e,n),new x9(t,{...r,x:e,y:n})}const S9={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class $9 extends fe{constructor(e,n={}){const{x:r,y:i,z:o,curve:a,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:yp(n),optional:!0}},n,S9),this.z=o,this.curve=F7(a,f),Ua(this,n)}filter(e){return e}project(e,n,r){this.curve!==ra&&super.project(e,n,r)}render(e,n,r,i,o){const{x:a,y:f}=r,{curve:s}=this;return Bt("svg:g",o).call(tn,this,i,o).call(Le,this,n).call(u=>u.selectAll().data(U8(e,[a,f],this,r)).enter().append("path").call(en,this).call(I8,this,r).call(s4,this,r,o).attr("d",s===ra&&o.projection?T9(o.projection,a,f):j6().curve(s).defined(c=>c>=0).x(c=>a[c]).y(c=>f[c]))).node()}}function T9(t,e,n){const r=Xs(t);return e=Sr(e),n=Sr(n),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function ig(t,{x:e=du,y:n=Ut,...r}={}){return new $9(t,O7({...r,x:e,y:n}))}const k9={ariaLabel:"tick",fill:null,stroke:"currentColor"};class E9 extends fe{constructor(e,n,r){super(e,n,r,k9),Ua(this,r)}render(e,n,r,i,o){return Bt("svg:g",o).call(tn,this,i,o).call(this._transform,this,n).call(a=>a.selectAll().data(e).enter().append("line").call(en,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(Gn,this,r).call(Ru,this,r,o)).node()}}class A9 extends E9{constructor(e,n={}){const{x:r,y:i,inset:o=0,insetTop:a=o,insetBottom:f=o}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=wt(a),this.insetBottom=wt(f)}_transform(e,n,{x:r}){e.call(Le,n,{x:r},Ht,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){const{insetTop:i}=this;return n&&e?o=>n[o]+i:r+i}_y2({y:e},{y:n},{height:r,marginBottom:i}){const{insetBottom:o}=this;return n&&e?a=>n[a]+e.bandwidth()-o:r-i-o}}function C9(t,{x:e=Ut,...n}={}){return new A9(t,{...n,x:e})}function N9(t){let e,n,r,i,o,a;return{c(){e=O("main"),n=O("div"),o=J(),a=O("div"),a.textContent=`Each note is represented by a tick placed at its onset time from left to
        right. A smaller gap indicates an early note.`,K(n,"width",r=t[0]+"px"),K(n,"height",i=t[1]+"px"),fn(e,"width",t[0]+"px")},m(f,s){at(f,e,s),T(e,n),t[4](n),T(e,o),T(e,a)},p(f,[s]){s&1&&r!==(r=f[0]+"px")&&K(n,"width",r),s&2&&i!==(i=f[1]+"px")&&K(n,"height",i),s&1&&fn(e,"width",f[0]+"px")},i:Tt,o:Tt,d(f){f&&ot(e),t[4](null)}}}function D9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;vi(()=>{const s=Rr({width:i,height:o,marginLeft:0,marginRight:1,x:{axis:!1},y:{axis:!1},marks:[C9(r,{x:u=>u})]});n(2,a.textContent="",a),a.appendChild(s)});function f(s){sn[s?"unshift":"push"](()=>{a=s,n(2,a)})}return t.$$set=s=>{"pattern"in s&&n(3,r=s.pattern),"width"in s&&n(0,i=s.width),"height"in s&&n(1,o=s.height)},[i,o,a,r,f]}class og extends Ce{constructor(e){super(),Ae(this,e,D9,N9,Ee,{pattern:3,width:0,height:1})}}function L9(t){let e,n,r,i,o,a;return{c(){e=O("main"),n=O("div"),o=J(),a=O("div"),a.textContent=`For each note but the first, the bars' height shows the distance to the
    previous note. A smaller bar indicates an early note.`,K(n,"width",r=t[0]+"px"),K(n,"height",i=t[1]+"px"),fn(e,"width",t[0]+"px")},m(f,s){at(f,e,s),T(e,n),t[4](n),T(e,o),T(e,a)},p(f,[s]){s&1&&r!==(r=f[0]+"px")&&K(n,"width",r),s&2&&i!==(i=f[1]+"px")&&K(n,"height",i),s&1&&fn(e,"width",f[0]+"px")},i:Tt,o:Tt,d(f){f&&ot(e),t[4](null)}}}function R9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;vi(()=>{const s=r.map((c,h)=>h===0?0:c-r[h-1]),u=Rr({width:i,height:o,marginLeft:0,marginRight:1,y:{axis:!1},marks:[w9(s,{x:(c,h)=>h+1,y:c=>c})]});n(2,a.textContent="",a),a.appendChild(u)});function f(s){sn[s?"unshift":"push"](()=>{a=s,n(2,a)})}return t.$$set=s=>{"pattern"in s&&n(3,r=s.pattern),"width"in s&&n(0,i=s.width),"height"in s&&n(1,o=s.height)},[i,o,a,r,f]}class ag extends Ce{constructor(e){super(),Ae(this,e,R9,L9,Ee,{pattern:3,width:0,height:1})}}function F9(t){let e,n,r,i,o,a;return{c(){e=O("main"),n=O("div"),o=J(),a=O("div"),a.textContent=`For each note but the first, the rectangles' color shows the distance to the
    previous note. A brighter recangle indicates an early note.`,K(n,"width",r=t[0]+"px"),K(n,"height",i=t[1]+"px"),fn(e,"width",t[0]+"px")},m(f,s){at(f,e,s),T(e,n),t[4](n),T(e,o),T(e,a)},p(f,[s]){s&1&&r!==(r=f[0]+"px")&&K(n,"width",r),s&2&&i!==(i=f[1]+"px")&&K(n,"height",i),s&1&&fn(e,"width",f[0]+"px")},i:Tt,o:Tt,d(f){f&&ot(e),t[4](null)}}}function I9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;vi(()=>{const s=r.map((c,h)=>h===0?0:c-r[h-1]),u=Rr({width:i,height:o,marginLeft:0,marginRight:1,y:{axis:!1},color:{label:"time since previous note",scheme:"Greys"},marks:[M9(s,{x:(c,h)=>h+1,fill:c=>c})]});n(2,a.textContent="",a),a.appendChild(u)});function f(s){sn[s?"unshift":"push"](()=>{a=s,n(2,a)})}return t.$$set=s=>{"pattern"in s&&n(3,r=s.pattern),"width"in s&&n(0,i=s.width),"height"in s&&n(1,o=s.height)},[i,o,a,r,f]}class fg extends Ce{constructor(e){super(),Ae(this,e,I9,F9,Ee,{pattern:3,width:0,height:1})}}function P9(t){let e,n,r,i,o,a;return{c(){e=O("main"),n=O("div"),o=J(),a=O("div"),a.textContent=`The waveform of the audio showing the loudness over time time from left to
    right. Note onsets show up as peaks. A smaller gap between peaks indicates
    an early note.`,K(n,"width",r=t[0]+"px"),K(n,"height",i=t[1]+"px"),fn(e,"width",t[0]+"px")},m(f,s){at(f,e,s),T(e,n),t[6](n),T(e,o),T(e,a)},p(f,[s]){s&1&&r!==(r=f[0]+"px")&&K(n,"width",r),s&2&&i!==(i=f[1]+"px")&&K(n,"height",i),s&1&&fn(e,"width",f[0]+"px")},i:Tt,o:Tt,d(f){f&&ot(e),t[6](null)}}}function O9(t,e,n){let{pattern:r}=e,{audioFile:i}=e,{width:o=800}=e,{height:a=50}=e,f,s=null,u;const c=async p=>{n(5,s=await bh(p)),console.log(`Loaded ${p}, sr= ${s.sampleRate}`),u=s.sampleRate};let h=null;const l=(p,m)=>{m&&(h=_h(m,p,.5))};vi(()=>{if(n(2,f.textContent="",f),!h)return;const p=Rr({width:o,height:a,marginLeft:0,marginRight:1,x:{axis:!1,label:"time in seconds"},y:{axis:!1},marks:[ig(h,{x:(m,g)=>g/u,y:m=>m})]});f.appendChild(p)});function d(p){sn[p?"unshift":"push"](()=>{f=p,n(2,f)})}return t.$$set=p=>{"pattern"in p&&n(3,r=p.pattern),"audioFile"in p&&n(4,i=p.audioFile),"width"in p&&n(0,o=p.width),"height"in p&&n(1,a=p.height)},t.$$.update=()=>{t.$$.dirty&16&&c(i),t.$$.dirty&40&&l(r,s)},[o,a,f,r,i,s,d]}class sg extends Ce{constructor(e){super(),Ae(this,e,O9,P9,Ee,{pattern:3,audioFile:4,width:0,height:1})}}function U9(t){let e,n,r,i,o,a;return{c(){e=O("main"),n=O("audio"),r=J(),i=O("button"),i.textContent="play audio (p)",n.controls=!1},m(f,s){at(f,e,s),T(e,n),t[6](n),T(e,r),T(e,i),o||(a=$t(i,"click",t[1]),o=!0)},p:Tt,i:Tt,o:Tt,d(f){f&&ot(e),t[6](null),o=!1,a()}}}function B9(t,e,n){let{pattern:r}=e,{audioFile:i}=e,{currentTrialNumber:o=-1}=e,a=null;const f=async d=>{n(5,a=await bh(d)),console.log(`Loaded ${d}, sr= ${a.sampleRate}`)};let s=null,u;const c=(d,p)=>{p&&u&&(s=_h(p,d),Zg(s,p.sampleRate,u),console.log("rendered audio and attached to element"))},h=()=>{u&&(console.log("play"),u.pause(),n(0,u.currentTime=0,u),u.play())};ph(()=>{document.querySelector("html").addEventListener("keyup",d=>{d.key==="p"&&h()})});function l(d){sn[d?"unshift":"push"](()=>{u=d,n(0,u)})}return t.$$set=d=>{"pattern"in d&&n(2,r=d.pattern),"audioFile"in d&&n(3,i=d.audioFile),"currentTrialNumber"in d&&n(4,o=d.currentTrialNumber)},t.$$.update=()=>{t.$$.dirty&8&&f(i),t.$$.dirty&4&&console.log(r),t.$$.dirty&16&&o>-1&&window.setTimeout(h,200),t.$$.dirty&36&&c(r,a)},[u,h,r,i,o,a,l]}class ug extends Ce{constructor(e){super(),Ae(this,e,B9,U9,Ee,{pattern:2,audioFile:3,currentTrialNumber:4})}}function Jl(t,e,n){const r=t.slice();return r[8]=e[n],r}function th(t){let e,n=t[8].substring(0,30)+"",r;return{c(){e=O("option"),r=lt(n),e.__value=t[8],yt(e,e.__value)},m(i,o){at(i,e,o),T(e,r)},p:Tt,d(i){i&&ot(e)}}}function z9(t){let e,n,r,i,o,a,f,s=(_o*1e3).toFixed(0)+"",u,c,h,l,d,p,m,g,w=t[0].toFixed(1)+"",y,_,b=(t[2]*1e3).toFixed(1)+"",v,x,M,k,E,N,$,L,F,P,S,B,W,j,X,z,I,U,q,Q,Z=dr(t[5]),G=[];for(let D=0;D<Z.length;D+=1)G[D]=th(Jl(t,Z,D));return F=new ug({props:{pattern:t[1],audioFile:t[3]}}),S=new sg({props:{pattern:t[1],audioFile:t[3],width:co,height:lo}}),W=new og({props:{pattern:t[1],width:co,height:lo}}),X=new ag({props:{pattern:t[1],width:co,height:lo}}),I=new fg({props:{pattern:t[1],width:co,height:lo}}),{c(){e=O("main"),n=O("h2"),n.textContent="Playground",r=J(),i=O("p"),i.textContent=`All stimuli (audio and visualizations) and configurable deviation. Play
    around with different values to compare how stimuli look and how small
    deviations can be`,o=J(),a=O("div"),f=lt("inter-onset interval (IOI): "),u=lt(s),c=lt(" milliseconds ("),h=lt(t[4]),l=lt(` bpm)
    `),d=O("label"),p=lt(`deviation as percent of IOI
      `),m=O("input"),g=J(),y=lt(w),_=lt(`
      (`),v=lt(b),x=lt(" milliseconds)"),M=J(),k=O("label"),E=lt(`instrument sample:
      `),N=O("select");for(let D=0;D<G.length;D+=1)G[D].c();$=J(),L=O("div"),qt(F.$$.fragment),P=J(),qt(S.$$.fragment),B=J(),qt(W.$$.fragment),j=J(),qt(X.$$.fragment),z=J(),qt(I.$$.fragment),K(m,"type","range"),K(m,"min","-20"),K(m,"max","20"),K(m,"step","1"),K(d,"class","svelte-1sot113"),t[3]===void 0&&hr(()=>t[7].call(N)),K(k,"class","svelte-1sot113"),K(L,"class","stimuli svelte-1sot113")},m(D,R){at(D,e,R),T(e,n),T(e,r),T(e,i),T(e,o),T(e,a),T(a,f),T(a,u),T(a,c),T(a,h),T(a,l),T(a,d),T(d,p),T(d,m),yt(m,t[0]),T(d,g),T(d,y),T(d,_),T(d,v),T(d,x),T(a,M),T(a,k),T(k,E),T(k,N);for(let A=0;A<G.length;A+=1)G[A]&&G[A].m(N,null);rr(N,t[3],!0),T(e,$),T(e,L),It(F,L,null),T(L,P),It(S,L,null),T(L,B),It(W,L,null),T(L,j),It(X,L,null),T(L,z),It(I,L,null),U=!0,q||(Q=[$t(m,"change",t[6]),$t(m,"input",t[6]),$t(N,"change",t[7])],q=!0)},p(D,[R]){if((!U||R&16)&&le(h,D[4]),R&1&&yt(m,D[0]),(!U||R&1)&&w!==(w=D[0].toFixed(1)+"")&&le(y,w),(!U||R&4)&&b!==(b=(D[2]*1e3).toFixed(1)+"")&&le(v,b),R&32){Z=dr(D[5]);let H;for(H=0;H<Z.length;H+=1){const ht=Jl(D,Z,H);G[H]?G[H].p(ht,R):(G[H]=th(ht),G[H].c(),G[H].m(N,null))}for(;H<G.length;H+=1)G[H].d(1);G.length=Z.length}R&40&&rr(N,D[3]);const A={};R&2&&(A.pattern=D[1]),R&8&&(A.audioFile=D[3]),F.$set(A);const Y={};R&2&&(Y.pattern=D[1]),R&8&&(Y.audioFile=D[3]),S.$set(Y);const V={};R&2&&(V.pattern=D[1]),W.$set(V);const C={};R&2&&(C.pattern=D[1]),X.$set(C);const st={};R&2&&(st.pattern=D[1]),I.$set(st)},i(D){U||(dt(F.$$.fragment,D),dt(S.$$.fragment,D),dt(W.$$.fragment,D),dt(X.$$.fragment,D),dt(I.$$.fragment,D),U=!0)},o(D){mt(F.$$.fragment,D),mt(S.$$.fragment,D),mt(W.$$.fragment,D),mt(X.$$.fragment,D),mt(I.$$.fragment,D),U=!1},d(D){D&&ot(e),Cs(G,D),Pt(F),Pt(S),Pt(W),Pt(X),Pt(I),q=!1,Ke(Q)}}}let co=600,lo=100,_o=.5,q9=6,Y9=3,W9=!0,H9=0;function G9(t,e,n){let r,i;const o=["./FluidR3_GM_acoustic_grand_piano-mp3_A4.mp3","./MailboxBadgerPublicDomainDrumSamples27LiveDrumsHiHat.mp3"];let a=o[0],f=5,s=[];function u(){f=ii(this.value),n(0,f)}function c(){a=Nf(this),n(3,a),n(5,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(2,i=f/100*_o),t.$$.dirty&6&&(n(1,s=yh(q9,_o,Y9,i,W9,H9)),console.log("generated pattern",s))},n(4,r=1/_o*60),[f,s,i,a,r,o,u,c]}class V9 extends Ce{constructor(e){super(),Ae(this,e,G9,z9,Ee,{})}}var cg={exports:{}};(function(t,e){(function(n,r){r()})(Ir,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,h){var l=new XMLHttpRequest;l.open("GET",u),l.responseType="blob",l.onload=function(){s(l.response,c,h)},l.onerror=function(){console.error("could not download file")},l.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ir=="object"&&Ir.global===Ir?Ir:void 0,f=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(u,c,h){var l=a.URL||a.webkitURL,d=document.createElement("a");c=c||u.name||"download",d.download=c,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?o(d):i(d.href)?r(u,c,h):o(d,d.target="_blank")):(d.href=l.createObjectURL(u),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){o(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),c);else if(i(u))r(u,c,h);else{var l=document.createElement("a");l.href=u,l.target="_blank",setTimeout(function(){o(l)})}}:function(u,c,h,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,h);var d=u.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&p||f)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var _=g.result;_=m?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=_:location=_,l=null},g.readAsDataURL(u)}else{var w=a.URL||a.webkitURL,y=w.createObjectURL(u);l?l.location=y:location.href=y,l=null,setTimeout(function(){w.revokeObjectURL(y)},4e4)}});a.saveAs=s.saveAs=s,t.exports=s})})(cg);var X9=cg.exports;const j9=gh(X9);function vt(t){this.stairs={};for(const e in t){if(this.stairs[e]=t[e],this.stairs[e].name=e,typeof t[e].firstVal>"u")throw new Error("No firstVal specified for "+e);if(t[e].hasOwnProperty("firstVal")&&(this.stairs[e].firstVal=t[e].firstVal),typeof t[e].stepSizeDown>"u")throw new Error("No stepSizeDown specified for "+e);if(this.stairs[e].stepSizeDown=t[e].stepSizeDown,typeof t[e].stepSizeUp>"u")throw new Error("No stepSizeUp specified for "+e);this.stairs[e].stepSizeUp=t[e].stepSizeUp,this.stairs[e].down=t[e].down||1,this.stairs[e].up=t[e].up||1,this.stairs[e].direction=t[e].direction||-1,this.stairs[e].reversalLimit=t[e].reversalLimit||0,this.stairs[e].limits=t[e].limits||!1,this.stairs[e].operation=t[e].operation||"add",this.stairs[e].wait=t[e].wait||1,this.stairs[e].val=t[e].val||[this.stairs[e].firstVal],this.stairs[e].active=t[e].active||!1,this.stairs[e].sameStairMax=t[e].sameStairMax||-1,this.stairs[e].limitReached=t[e].limitReached||!1,this.stairs[e].reversals=t[e].reversals||0,this.stairs[e].successiveGood=t[e].successiveGood||0,this.stairs[e].successiveBad=t[e].successiveBad||0,this.stairs[e].sameStairCount=t[e].sameStairCount||0,this.stairs[e].verbosity=t[e].verbosity||0,this.stairs[e].verbosity>0&&console.log("Built staircase '"+this.stairs[e].name+"' ("+this.stairs[e].operation+"): Start="+this.stairs[e].firstVal+"; StepSize="+this.stairs[e].stepSize+"; Limits=["+this.stairs[e].limits[0]+", "+this.stairs[e].limits[1]+"]")}this.tasks={easier:{add:{noWait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]-e.stepSizeDown*(e.stepSizeDown/e.up)},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]+e.stepSizeUp*(e.stepSizeUp/e.up)}},wait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]-e.stepSizeDown:e.val[e.val.length-1]},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]+e.stepSizeUp:e.val[e.val.length-1]}}},multiply:{noWait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]/Math.pow(e.stepSizeDown,e.down/e.up)},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]*e.stepSizeUp}},wait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]/e.stepSizeDown:e.val[e.val.length-1]},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]*e.stepSizeUp:e.val[e.val.length-1]}}}},harder:{add:{wait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]+e.stepSizeUp:e.val[e.val.length-1]},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]-e.stepSizeDown:e.val[e.val.length-1]}},noWait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]+e.stepSizeUp*(e.stepSizeUp/e.down)},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]-e.stepSizeDown*(e.stepSize/e.down)}}},multiply:{wait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]*e.stepSizeUp:e.val[e.val.length-1]},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]/e.stepSizeDown:e.val[e.val.length-1]}},noWait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]*e.stepSizeUp},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]/Math.pow(e.stepSizeDown,e.up/e.down)}}}}}}vt.prototype.choose=function(t){const e=this.getActive(),n=t?"harder":"easier";t||(e.startingExplorationScale=1);const r=e.wait?"wait":"noWait";return e.verbosity>0&&console.log("Staircase '"+e.name+"' ("+e.operation+"): making test "+n+", "+r+" mode."),this.tasks[n][e.operation][r][e.direction](e)};vt.prototype.checkLimits=function(t){const e=t;e.val[e.val.length-1]<e.val[e.val.length-2]&&e.val[e.val.length-1]<e.limits[0]?(e.val[e.val.length-1]=e.limits[0],e.limitReached=!0):e.val[e.val.length-1]>e.val[e.val.length-2]&&e.val[e.val.length-1]>e.limits[1]?(e.val[e.val.length-1]=e.limits[1],e.limitReached=!0):e.limitReached=!1};vt.prototype.next=function(t){this.checkErr.ARG("next",arguments,1);const e=this.getActive();return e.val[e.val.length]=this.choose(t),this.checkLimits(e),e.val[e.val.length-1]};vt.prototype.init=function(){const t=[];for(const n in this.stairs)this.stairs[n].active&&this.deactivate(n),this.stairs[n].lock||(t[t.length]=n);const e=lg(0,t.length-1);return this.activate(t[e]),this};vt.prototype.changeActive=function(){const t=[];for(const n in this.stairs)!this.stairs[n].active&&!this.stairs[n].lock?t[t.length]=n:this.stairs[n].active&&this.deactivate(n);const e=lg(0,t.length-1);this.activate(t[e])};vt.prototype.setsameStairMax=function(t,e){return this.checkErr.ARG("setsameStairMax",arguments,2),this.checkErr.UNDEFINED(this.stairs,e),this.stairs[e].sameStairMax=t};vt.prototype.get=function(t){return this.checkErr.ARG("get",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val};vt.prototype.getLast=function(t){return this.checkErr.ARG("getLast",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val[this.stairs[t].val.length-1]};vt.prototype.getActive=function(){for(const t in this.stairs)if(this.stairs[t].active)return this.stairs[t];throw new Error("There is no active staircase. Consider initialize before using 'next' method")};vt.prototype.activate=function(t){this.checkErr.ARG("activate",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active=!0,this.stairs[t].verbosity>0&&console.log("Staircase '"+this.stairs[t].name+"' now active")};vt.prototype.deactivate=function(t){this.checkErr.ARG("deactivate",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active=!1,this.stairs[t].verbosity>0&&console.log("Staircase '"+this.stairs[t].name+"' deactivated")};vt.prototype.resetCounts=function(t){this.stairs[t].sameStairCount=0,this.stairs[t].successiveGood=0,this.stairs[t].limitReached=!1};vt.prototype.isActive=function(t){return this.checkErr.ARG("isActive",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active};vt.prototype.active=function(t){this.checkErr.ARG("active",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);for(const e in this.stairs)if(this.stairs[e].active)return e};vt.prototype.lock=function(t){this.checkErr.ARG("lock",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock=!0};vt.prototype.unlock=function(t){this.checkErr.ARG("unlock",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock=!1};vt.prototype.isLocked=function(t){return this.checkErr.ARG("isLocked",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock};vt.prototype.setVal=function(t,e){this.checkErr.ARG("setVal",arguments,2),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val[this.stairs[t].val.length]=e};vt.prototype.getReversals=function(t){this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);const e=[];let n=this.stairs[t].direction*-1;for(let r=1;r<this.stairs[t].val.length;r++)(n===1&&this.stairs[t].val[r]>this.stairs[t].val[r-1]||n===-1&&this.stairs[t].val[r]<this.stairs[t].val[r-1])&&(e[e.length]=this.stairs[t].val[r-1],n=n*-1);return e.shift(),e};vt.prototype.reversalLimitReached=function(t){return this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.getReversals(t).length>=this.stairs[t].reversalLimit&&this.stairs[t].reversalLimit!==0};vt.prototype.getFinalVal=function(t){this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);const e=this.getReversals(t);if(!e.length)throw new Error("Staircase '"+this.stairs[t].name+"': Not enough reversals to calculate final value.");let n=0;for(let r=0;r<e.length;r++)n=n+e[r];return n/e.length};const qu=function(){};qu.prototype.UNDEFINED=function(t,e){if(t[e]===void 0)throw new Error("Unable to find the staircase '"+e+"'")};qu.prototype.ARG=function(t,e,n){if(e.length===0)throw new Error("Wrong number of arguments for the method '"+t+"'. Required: "+n)};vt.prototype.checkErr=new qu;function lg(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Z9(t){let e,n,r,i;return{c(){e=O("main"),n=O("div"),K(n,"width",r=t[0]+"px"),K(n,"height",i=t[1]+"px")},m(o,a){at(o,e,a),T(e,n),t[6](n)},p(o,[a]){a&1&&r!==(r=o[0]+"px")&&K(n,"width",r),a&2&&i!==(i=o[1]+"px")&&K(n,"height",i)},i:Tt,o:Tt,d(o){o&&ot(e),t[6](null)}}}function K9(t,e,n){let{data:r=[]}=e,{final:i=0}=e,{width:o=800}=e,{height:a=150}=e,{showAbsolute:f=!1}=e,s;vi(()=>{const c=Rr({width:o,height:a,marginLeft:50,x:{axis:!0,label:"step"},y:{axis:!0},marks:[ig(f?r.map(h=>Math.abs(h)):r,{x:(h,l)=>l,y:h=>h}),ks([i],{stroke:"red",strokeDasharray:"2 3"}),ks([0])]});n(2,s.textContent="",s),s.appendChild(c)});function u(c){sn[c?"unshift":"push"](()=>{s=c,n(2,s)})}return t.$$set=c=>{"data"in c&&n(3,r=c.data),"final"in c&&n(4,i=c.final),"width"in c&&n(0,o=c.width),"height"in c&&n(1,a=c.height),"showAbsolute"in c&&n(5,f=c.showAbsolute)},[o,a,s,r,i,f,u]}class hg extends Ce{constructor(e){super(),Ae(this,e,K9,Z9,Ee,{data:3,final:4,width:0,height:1,showAbsolute:5})}}function eh(t){let e,n,r,i,o,a,f,s,u,c,h,l,d,p,m,g,w,y,_,b,v,x,M,k,E,N,$,L,F,P,S,B,W,j,X,z,I,U,q,Q,Z,G,D;return{c(){e=O("div"),n=O("label"),r=lt(`ID:
        `),i=O("input"),o=J(),a=O("label"),f=lt(`Age:
        `),s=O("select"),u=O("option"),u.textContent="20-24",c=O("option"),c.textContent="25-29",h=O("option"),h.textContent="30-34",l=O("option"),l.textContent="35-39",d=O("option"),d.textContent="40-44",p=O("option"),p.textContent="45-49",m=O("option"),m.textContent="50-54",g=O("option"),g.textContent="55-60",w=J(),y=O("label"),_=lt(`Gender:
        `),b=O("input"),v=J(),x=O("label"),M=lt(`Highest finished education (select the best fitting one):
        `),k=O("select"),E=O("option"),E.textContent="none",N=O("option"),N.textContent="high school",$=O("option"),$.textContent="bachelor",L=O("option"),L.textContent="master",F=O("option"),F.textContent="phd",P=J(),S=O("label"),B=lt(`Which music instruments do you play?
        `),W=O("input"),j=J(),X=O("label"),z=lt(`For how many years do you roughly play it/them?
        `),I=O("input"),U=J(),q=O("label"),Q=lt(`How many years of experience do you have with visualization?
        `),Z=O("input"),K(i,"type","text"),K(i,"placeholder","ID"),K(n,"class","svelte-q3yxdh"),u.__value="20-24",yt(u,u.__value),c.__value="25-29",yt(c,c.__value),h.__value="30-34",yt(h,h.__value),l.__value="35-39",yt(l,l.__value),d.__value="40-44",yt(d,d.__value),p.__value="45-49",yt(p,p.__value),m.__value="50-54",yt(m,m.__value),g.__value="55-60",yt(g,g.__value),t[5]===void 0&&hr(()=>t[25].call(s)),K(a,"class","svelte-q3yxdh"),K(b,"type","text"),K(b,"placeholder","m, f, d, or self-describe"),K(y,"class","svelte-q3yxdh"),E.__value="none",yt(E,E.__value),N.__value="highs",yt(N,N.__value),$.__value="bachelor",yt($,$.__value),L.__value="master",yt(L,L.__value),F.__value="phd",yt(F,F.__value),t[7]===void 0&&hr(()=>t[27].call(k)),K(x,"class","svelte-q3yxdh"),K(W,"type","text"),K(W,"placeholder","free text"),K(S,"class","svelte-q3yxdh"),K(I,"type","number"),K(I,"min","0"),K(I,"step","1"),K(X,"class","svelte-q3yxdh"),K(Z,"type","number"),K(Z,"min","0"),K(Z,"step","1"),K(q,"class","svelte-q3yxdh"),K(e,"class","demo-form svelte-q3yxdh")},m(R,A){at(R,e,A),T(e,n),T(n,r),T(n,i),yt(i,t[4]),T(e,o),T(e,a),T(a,f),T(a,s),T(s,u),T(s,c),T(s,h),T(s,l),T(s,d),T(s,p),T(s,m),T(s,g),rr(s,t[5],!0),T(e,w),T(e,y),T(y,_),T(y,b),yt(b,t[6]),T(e,v),T(e,x),T(x,M),T(x,k),T(k,E),T(k,N),T(k,$),T(k,L),T(k,F),rr(k,t[7],!0),T(e,P),T(e,S),T(S,B),T(S,W),yt(W,t[8]),T(e,j),T(e,X),T(X,z),T(X,I),yt(I,t[9]),T(e,U),T(e,q),T(q,Q),T(q,Z),yt(Z,t[10]),G||(D=[$t(i,"input",t[24]),$t(s,"change",t[25]),$t(b,"input",t[26]),$t(k,"change",t[27]),$t(W,"input",t[28]),$t(I,"input",t[29]),$t(Z,"input",t[30])],G=!0)},p(R,A){A[0]&16&&i.value!==R[4]&&yt(i,R[4]),A[0]&32&&rr(s,R[5]),A[0]&64&&b.value!==R[6]&&yt(b,R[6]),A[0]&128&&rr(k,R[7]),A[0]&256&&W.value!==R[8]&&yt(W,R[8]),A[0]&512&&ii(I.value)!==R[9]&&yt(I,R[9]),A[0]&1024&&ii(Z.value)!==R[10]&&yt(Z,R[10])},d(R){R&&ot(e),G=!1,Ke(D)}}}function nh(t){let e,n,r,i,o,a;const f=[J9,Q9],s=[];function u(c,h){return c[13]?0:c[17].length>0?1:-1}return~(r=u(t))&&(i=s[r]=f[r](t)),{c(){e=O("p"),e.innerHTML=`You will be presented with a sequence of six notes which should have equal
      distances. The <b>fourth note</b> might be played too early or too late, also
      affecting the ones after.`,n=J(),i&&i.c(),o=Ns()},m(c,h){at(c,e,h),at(c,n,h),~r&&s[r].m(c,h),at(c,o,h),a=!0},p(c,h){let l=r;r=u(c),r===l?~r&&s[r].p(c,h):(i&&(Bn(),mt(s[l],1,1,()=>{s[l]=null}),zn()),~r?(i=s[r],i?i.p(c,h):(i=s[r]=f[r](c),i.c()),dt(i,1),i.m(o.parentNode,o)):i=null)},i(c){a||(dt(i),a=!0)},o(c){mt(i),a=!1},d(c){c&&(ot(e),ot(n),ot(o)),~r&&s[r].d(c)}}}function Q9(t){let e,n,r,i,o;return i=new hg({props:{data:t[17],final:t[18]}}),{c(){e=O("p"),n=lt(t[19]),r=J(),qt(i.$$.fragment)},m(a,f){at(a,e,f),T(e,n),at(a,r,f),It(i,a,f),o=!0},p(a,f){(!o||f[0]&524288)&&le(n,a[19]);const s={};f[0]&131072&&(s.data=a[17]),f[0]&262144&&(s.final=a[18]),i.$set(s)},i(a){o||(dt(i.$$.fragment,a),o=!0)},o(a){mt(i.$$.fragment,a),o=!1},d(a){a&&(ot(e),ot(r)),Pt(i,a)}}}function J9(t){let e,n,r,i,o=t[3]+1+"",a,f,s,u,c,h=t[12]+1+"",l,d,p,m,g,w;const y=[ex,tx],_=[];function b(v,x){return v[16]==="audio"?0:v[15]===!1?1:-1}return~(p=b(t))&&(m=_[p]=y[p](t)),{c(){e=O("p"),e.textContent="Use the arrow keys: left for too early, right for too late.",n=J(),r=O("p"),i=lt("Test number "),a=lt(o),f=lt(" / 7"),s=J(),u=O("p"),c=lt("Trial number "),l=lt(h),d=J(),m&&m.c(),g=Ns()},m(v,x){at(v,e,x),at(v,n,x),at(v,r,x),T(r,i),T(r,a),T(r,f),at(v,s,x),at(v,u,x),T(u,c),T(u,l),at(v,d,x),~p&&_[p].m(v,x),at(v,g,x),w=!0},p(v,x){(!w||x[0]&8)&&o!==(o=v[3]+1+"")&&le(a,o),(!w||x[0]&4096)&&h!==(h=v[12]+1+"")&&le(l,h);let M=p;p=b(v),p===M?~p&&_[p].p(v,x):(m&&(Bn(),mt(_[M],1,1,()=>{_[M]=null}),zn()),~p?(m=_[p],m?m.p(v,x):(m=_[p]=y[p](v),m.c()),dt(m,1),m.m(g.parentNode,g)):m=null)},i(v){w||(dt(m),w=!0)},o(v){mt(m),w=!1},d(v){v&&(ot(e),ot(n),ot(r),ot(s),ot(u),ot(d),ot(g)),~p&&_[p].d(v)}}}function tx(t){let e,n,r,i;const o=[ox,ix,rx,nx],a=[];function f(s,u){return s[16]==="waveform"?0:s[16]==="tick"?1:s[16]==="bar"?2:s[16]==="color"?3:-1}return~(e=f(t))&&(n=a[e]=o[e](t)),{c(){n&&n.c(),r=Ns()},m(s,u){~e&&a[e].m(s,u),at(s,r,u),i=!0},p(s,u){let c=e;e=f(s),e===c?~e&&a[e].p(s,u):(n&&(Bn(),mt(a[c],1,1,()=>{a[c]=null}),zn()),~e?(n=a[e],n?n.p(s,u):(n=a[e]=o[e](s),n.c()),dt(n,1),n.m(r.parentNode,r)):n=null)},i(s){i||(dt(n),i=!0)},o(s){mt(n),i=!1},d(s){s&&ot(r),~e&&a[e].d(s)}}}function ex(t){let e,n,r,i;return e=new ug({props:{pattern:[...t[0].slice(0,t[0].length-1),t[0].at(-1)+Math.random()*1e-4],audioFile:t[1],currentTrialNumber:t[12]}}),{c(){qt(e.$$.fragment),n=J(),r=O("p"),r.textContent="You can play the audio as many times as you like."},m(o,a){It(e,o,a),at(o,n,a),at(o,r,a),i=!0},p(o,a){const f={};a[0]&1&&(f.pattern=[...o[0].slice(0,o[0].length-1),o[0].at(-1)+Math.random()*1e-4]),a[0]&2&&(f.audioFile=o[1]),a[0]&4096&&(f.currentTrialNumber=o[12]),e.$set(f)},i(o){i||(dt(e.$$.fragment,o),i=!0)},o(o){mt(e.$$.fragment,o),i=!1},d(o){o&&(ot(n),ot(r)),Pt(e,o)}}}function nx(t){let e,n;return e=new fg({props:{pattern:t[0],width:qa,height:Ya}}),{c(){qt(e.$$.fragment)},m(r,i){It(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(dt(e.$$.fragment,r),n=!0)},o(r){mt(e.$$.fragment,r),n=!1},d(r){Pt(e,r)}}}function rx(t){let e,n;return e=new ag({props:{pattern:t[0],width:qa,height:Ya}}),{c(){qt(e.$$.fragment)},m(r,i){It(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(dt(e.$$.fragment,r),n=!0)},o(r){mt(e.$$.fragment,r),n=!1},d(r){Pt(e,r)}}}function ix(t){let e,n;return e=new og({props:{pattern:t[0],width:qa,height:Ya}}),{c(){qt(e.$$.fragment)},m(r,i){It(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(dt(e.$$.fragment,r),n=!0)},o(r){mt(e.$$.fragment,r),n=!1},d(r){Pt(e,r)}}}function ox(t){let e,n;return e=new sg({props:{pattern:t[0],audioFile:t[1],width:qa,height:Ya}}),{c(){qt(e.$$.fragment)},m(r,i){It(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),i[0]&2&&(o.audioFile=r[1]),e.$set(o)},i(r){n||(dt(e.$$.fragment,r),n=!0)},o(r){mt(e.$$.fragment,r),n=!1},d(r){Pt(e,r)}}}function rh(t){let e,n,r,i,o,a;return{c(){e=O("div"),n=O("label"),r=lt(`Any final feedback?
        `),i=O("textarea")},m(f,s){at(f,e,s),T(e,n),T(n,r),T(n,i),yt(i,t[11]),o||(a=$t(i,"input",t[31]),o=!0)},p(f,s){s[0]&2048&&yt(i,f[11])},d(f){f&&ot(e),o=!1,a()}}}function ih(t){let e,n,r,i,o,a;return{c(){e=O("div"),e.textContent="Thanks for participating!",n=J(),r=O("div"),i=O("button"),i.textContent="Download results"},m(f,s){at(f,e,s),at(f,n,s),at(f,r,s),T(r,i),o||(a=$t(i,"click",t[21]),o=!0)},p:Tt,d(f){f&&(ot(e),ot(n),ot(r)),o=!1,a()}}}function oh(t){let e,n,r;return{c(){e=O("button"),e.textContent="next step"},m(i,o){at(i,e,o),n||(r=$t(e,"click",t[20]),n=!0)},p:Tt,d(i){i&&ot(e),n=!1,r()}}}function ax(t){let e,n,r,i,o,a,f,s,u=t[2]==="demo"&&eh(t),c=t[2]==="tests"&&nh(t),h=t[2]==="feedback"&&rh(t),l=t[2]==="done"&&ih(t),d=!t[14]&&t[2]!=="done"&&oh(t);return{c(){e=O("main"),n=O("h2"),n.textContent="Study",r=J(),u&&u.c(),i=J(),c&&c.c(),o=J(),h&&h.c(),a=J(),l&&l.c(),f=J(),d&&d.c()},m(p,m){at(p,e,m),T(e,n),T(e,r),u&&u.m(e,null),T(e,i),c&&c.m(e,null),T(e,o),h&&h.m(e,null),T(e,a),l&&l.m(e,null),T(e,f),d&&d.m(e,null),s=!0},p(p,m){p[2]==="demo"?u?u.p(p,m):(u=eh(p),u.c(),u.m(e,i)):u&&(u.d(1),u=null),p[2]==="tests"?c?(c.p(p,m),m[0]&4&&dt(c,1)):(c=nh(p),c.c(),dt(c,1),c.m(e,o)):c&&(Bn(),mt(c,1,1,()=>{c=null}),zn()),p[2]==="feedback"?h?h.p(p,m):(h=rh(p),h.c(),h.m(e,a)):h&&(h.d(1),h=null),p[2]==="done"?l?l.p(p,m):(l=ih(p),l.c(),l.m(e,f)):l&&(l.d(1),l=null),!p[14]&&p[2]!=="done"?d?d.p(p,m):(d=oh(p),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(p){s||(dt(c),s=!0)},o(p){mt(c),s=!1},d(p){p&&ot(e),u&&u.d(),c&&c.d(),h&&h.d(),l&&l.d(),d&&d.d()}}}let ah=.5;const Cf=20;let fx=6,sx=!0,ux=0,qa=600,Ya=100;function cx(t,e,n){let r;const i=["./FluidR3_GM_acoustic_grand_piano-mp3_A4.mp3","./MailboxBadgerPublicDomainDrumSamples27LiveDrumsHiHat.mp3"];let o=i[0],a=[{stimulus:"audio",audioFile:i[0]},{stimulus:"audio",audioFile:i[1]},{stimulus:"waveform",audioFile:i[0]},{stimulus:"waveform",audioFile:i[1]},{stimulus:"tick"},{stimulus:"bar"},{stimulus:"color"}],f="start",s=0,u="",c="20-24",h="m",l="master",d="",p=0,m=0,g="",w=0,y,_={},b=[],v,x,M=!1,k=!1,E=!1,N="tick",$=Cf,L=4-1,F=[],P=[],S=0,B="";const W=[];ph(()=>{document.querySelector("html").addEventListener("keyup",Z)});const j=()=>{x=new vt({ratio:{firstVal:Cf,down:2,up:1,stepSizeDown:1,stepSizeUp:1*.5488,limits:[0,Cf],direction:-1,reversalLimit:5,verbosity:1}}),x.init()};function X(){f==="start"?(a=Kg(a),n(2,f="demo")):f==="demo"?(n(2,f="tests"),n(3,s=0)):f==="tests"?s<a.length?(n(16,N=a[s].stimulus),n(1,o=a[s].audioFile),z()):n(2,f="feedback"):f==="feedback"&&n(2,f="done")}function z(){j(),n(12,w=0),y=0,v=0,n(13,M=!0),n(17,P=[]),b=[],I()}function I(){console.log("Starting trial "+w),_={},n(14,k=!0),U()}function U(){let _t=Math.round(x.getLast("ratio"));_t=Math.random()<.5?_t:-_t,_.deviation=_t,n(22,$=_t),console.log("generated pattern",F),n(15,E=!0),window.setTimeout(()=>{n(15,E=!1)},1e3)}function q(ct){if(!k)return;n(14,k=!1),_.decisionChoice=ct,_.errorCode=0;const _t=v;(_.decisionChoice==0&&_.deviation<0||_.decisionChoice==1&&_.deviation>0)&&_.errorCode==0&&v++,_.errorCode==0&&(x.next(_t!=v),b[b.length]=_),_.errorCode==0&&y++,n(12,w++,w),x.reversalLimitReached("ratio")?Q():I()}function Q(){n(13,M=!1),G(),n(17,P=[]),n(18,S=x.getFinalVal("ratio"));for(let ct=0;ct<b.length;ct++)n(17,P[ct]=b[ct].deviation,P);console.log(P),W.push({encoding:N,audioFile:o,final:S,data:P,score:v,testNumber:s,trialCount:w+1,trials:b,validTrialCount:y+1}),n(3,s++,s)}function Z(ct){switch(ct.key){case"ArrowLeft":q(0);break;case"ArrowRight":q(1);break}}function G(){n(19,B=`You scored ${v} / ${w+1} (${(v/(w+1)*100).toFixed(1)}%) Your end difficulty was ${x.getFinalVal("ratio")}`)}function D(){const ct={demographics:{partID:u,partAge:c,partGender:h,partEduation:l,partMusicInstr:d,partMusicInstrYears:p,partVisExperienceYears:m,partFeedback:g},date:new Date().toISOString(),tests:W};console.log(ct);const _t=JSON.stringify(ct),Re=new Blob([_t],{type:"text/plain;charset=utf-8"});j9(Re,"results.json")}function R(){u=this.value,n(4,u)}function A(){c=Nf(this),n(5,c)}function Y(){h=this.value,n(6,h)}function V(){l=Nf(this),n(7,l)}function C(){d=this.value,n(8,d)}function st(){p=ii(this.value),n(9,p)}function H(){m=ii(this.value),n(10,m)}function ht(){g=this.value,n(11,g)}return t.$$.update=()=>{t.$$.dirty[0]&4194304&&n(23,r=$/100*ah),t.$$.dirty[0]&8388609&&(n(0,F=yh(fx,ah,L,r,sx,ux)),console.log("generated pattern",F))},[F,o,f,s,u,c,h,l,d,p,m,g,w,M,k,E,N,P,S,B,X,D,$,r,R,A,Y,V,C,st,H,ht]}class lx extends Ce{constructor(e){super(),Ae(this,e,cx,ax,Ee,{},null,[-1,-1])}}function fh(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function sh(t,e,n){const r=t.slice();return r[8]=e[n],r}function uh(t){let e,n=t[8].encoding+"",r,i,o=(t[8].encoding==="audio"||t[8].encoding==="waveform"?t[8].audioFile:"")+"",a,f,s=t[8].final.toFixed(2)+"",u,c,h,l;return h=new hg({props:{data:t[8].data,final:t[8].final,showAbsolute:t[2],height:150}}),{c(){e=O("h5"),r=lt(n),i=J(),a=lt(o),f=lt(`
        (final: `),u=lt(s),c=lt(`)
        `),qt(h.$$.fragment)},m(d,p){at(d,e,p),T(e,r),at(d,i,p),at(d,a,p),at(d,f,p),at(d,u,p),at(d,c,p),It(h,d,p),l=!0},p(d,p){(!l||p&1)&&n!==(n=d[8].encoding+"")&&le(r,n),(!l||p&1)&&o!==(o=(d[8].encoding==="audio"||d[8].encoding==="waveform"?d[8].audioFile:"")+"")&&le(a,o),(!l||p&1)&&s!==(s=d[8].final.toFixed(2)+"")&&le(u,s);const m={};p&1&&(m.data=d[8].data),p&1&&(m.final=d[8].final),p&4&&(m.showAbsolute=d[2]),h.$set(m)},i(d){l||(dt(h.$$.fragment,d),l=!0)},o(d){mt(h.$$.fragment,d),l=!1},d(d){d&&(ot(e),ot(i),ot(a),ot(f),ot(u),ot(c)),Pt(h,d)}}}function ch(t){let e,n,r=t[1][t[7]]+"",i,o,a,f,s=dr(t[5]),u=[];for(let h=0;h<s.length;h+=1)u[h]=uh(sh(t,s,h));const c=h=>mt(u[h],1,1,()=>{u[h]=null});return{c(){e=O("div"),n=O("h4"),i=lt(r),o=J();for(let h=0;h<u.length;h+=1)u[h].c();a=J()},m(h,l){at(h,e,l),T(e,n),T(n,i),T(e,o);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(e,null);T(e,a),f=!0},p(h,l){if((!f||l&2)&&r!==(r=h[1][h[7]]+"")&&le(i,r),l&5){s=dr(h[5]);let d;for(d=0;d<s.length;d+=1){const p=sh(h,s,d);u[d]?(u[d].p(p,l),dt(u[d],1)):(u[d]=uh(p),u[d].c(),dt(u[d],1),u[d].m(e,a))}for(Bn(),d=s.length;d<u.length;d+=1)c(d);zn()}},i(h){if(!f){for(let l=0;l<s.length;l+=1)dt(u[l]);f=!0}},o(h){u=u.filter(Boolean);for(let l=0;l<u.length;l+=1)mt(u[l]);f=!1},d(h){h&&ot(e),Cs(u,h)}}}function hx(t){let e,n,r,i,o,a,f,s,u,c,h,l,d,p,m=dr(t[0]),g=[];for(let y=0;y<m.length;y+=1)g[y]=ch(fh(t,m,y));const w=y=>mt(g[y],1,1,()=>{g[y]=null});return{c(){e=O("main"),n=O("h2"),n.textContent="Analysis",r=J(),i=O("p"),i.textContent=`Open a file that you saved after a study here to see the staircases and
    final values.`,o=J(),a=O("input"),f=J(),s=O("button"),u=lt("toggle absolute values "),c=lt(t[2]),h=J();for(let y=0;y<g.length;y+=1)g[y].c();K(a,"type","file"),K(a,"accept",".json"),a.multiple=!0},m(y,_){at(y,e,_),T(e,n),T(e,r),T(e,i),T(e,o),T(e,a),T(e,f),T(e,s),T(s,u),T(s,c),T(e,h);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(e,null);l=!0,d||(p=[$t(a,"input",t[3]),$t(s,"click",t[4])],d=!0)},p(y,[_]){if((!l||_&4)&&le(c,y[2]),_&7){m=dr(y[0]);let b;for(b=0;b<m.length;b+=1){const v=fh(y,m,b);g[b]?(g[b].p(v,_),dt(g[b],1)):(g[b]=ch(v),g[b].c(),dt(g[b],1),g[b].m(e,null))}for(Bn(),b=m.length;b<g.length;b+=1)w(b);zn()}},i(y){if(!l){for(let _=0;_<m.length;_+=1)dt(g[_]);l=!0}},o(y){g=g.filter(Boolean);for(let _=0;_<g.length;_+=1)mt(g[_]);l=!1},d(y){y&&ot(e),Cs(g,y),d=!1,Ke(p)}}}function dx(t,e,n){let r=[],i=[],o=!1;return[r,i,o,async s=>{const u=[],c=[];for(const h of s.target.files){const l=await h.text();u.push(JSON.parse(l)),c.push(h.name)}n(0,r=u),n(1,i=c)},()=>n(2,o=!o)]}class px extends Ce{constructor(e){super(),Ae(this,e,dx,hx,Ee,{})}}function mx(t){let e,n;return e=new px({}),{c(){qt(e.$$.fragment)},m(r,i){It(e,r,i),n=!0},i(r){n||(dt(e.$$.fragment,r),n=!0)},o(r){mt(e.$$.fragment,r),n=!1},d(r){Pt(e,r)}}}function gx(t){let e,n;return e=new lx({}),{c(){qt(e.$$.fragment)},m(r,i){It(e,r,i),n=!0},i(r){n||(dt(e.$$.fragment,r),n=!0)},o(r){mt(e.$$.fragment,r),n=!1},d(r){Pt(e,r)}}}function yx(t){let e,n;return e=new V9({}),{c(){qt(e.$$.fragment)},m(r,i){It(e,r,i),n=!0},i(r){n||(dt(e.$$.fragment,r),n=!0)},o(r){mt(e.$$.fragment,r),n=!1},d(r){Pt(e,r)}}}function bx(t){let e,n,r,i,o,a,f,s,u,c,h,l,d,p,m;const g=[yx,gx,mx],w=[];function y(_,b){return _[0]==="playground"?0:_[0]==="study"?1:_[0]==="analysis"?2:-1}return~(h=y(t))&&(l=w[h]=g[h](t)),{c(){e=O("main"),n=O("h1"),n.textContent="Rhythm Error Perception Study",r=J(),i=O("div"),o=O("button"),o.textContent="Playground",a=J(),f=O("button"),f.textContent="Study",s=J(),u=O("button"),u.textContent="Analysis",c=J(),l&&l.c()},m(_,b){at(_,e,b),T(e,n),T(e,r),T(e,i),T(i,o),T(i,a),T(i,f),T(i,s),T(i,u),T(e,c),~h&&w[h].m(e,null),d=!0,p||(m=[$t(o,"click",t[1]),$t(f,"click",t[2]),$t(u,"click",t[3])],p=!0)},p(_,[b]){let v=h;h=y(_),h!==v&&(l&&(Bn(),mt(w[v],1,1,()=>{w[v]=null}),zn()),~h?(l=w[h],l||(l=w[h]=g[h](_),l.c()),dt(l,1),l.m(e,null)):l=null)},i(_){d||(dt(l),d=!0)},o(_){mt(l),d=!1},d(_){_&&ot(e),~h&&w[h].d(),p=!1,Ke(m)}}}function _x(t,e,n){let r="study";return[r,()=>n(0,r="playground"),()=>n(0,r="study"),()=>n(0,r="analysis")]}class wx extends Ce{constructor(e){super(),Ae(this,e,_x,bx,Ee,{})}}new wx({target:document.getElementById("app")});export{gh as g};
