var Ag=Object.defineProperty;var Cg=(t,e,n)=>e in t?Ag(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var of=(t,e,n)=>(Cg(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function At(){}function kh(t){return t()}function nc(){return Object.create(null)}function Fe(t){t.forEach(kh)}function Eh(t){return typeof t=="function"}function _e(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ng(t){return Object.keys(t).length===0}function M(t,e){t.appendChild(e)}function st(t,e,n){t.insertBefore(e,n||null)}function ot(t){t.parentNode&&t.parentNode.removeChild(t)}function ba(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function I(t){return document.createElement(t)}function rt(t){return document.createTextNode(t)}function K(){return rt(" ")}function qs(){return rt("")}function $t(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Q(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function wr(t){return t===""?null:+t}function Dg(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function gt(t,e){t.value=e??""}function ln(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function un(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function To(t){const e=t.querySelector(":checked");return e&&e.__value}let li;function oi(t){li=t}function Ah(){if(!li)throw new Error("Function called outside component initialization");return li}function Ch(t){Ah().$$.on_mount.push(t)}function ki(t){Ah().$$.after_update.push(t)}const lr=[],hn=[];let mr=[];const rc=[],Fg=Promise.resolve();let Hf=!1;function Lg(){Hf||(Hf=!0,Fg.then(Nh))}function In(t){mr.push(t)}const af=new Set;let ir=0;function Nh(){if(ir!==0)return;const t=li;do{try{for(;ir<lr.length;){const e=lr[ir];ir++,oi(e),Rg(e.$$)}}catch(e){throw lr.length=0,ir=0,e}for(oi(null),lr.length=0,ir=0;hn.length;)hn.pop()();for(let e=0;e<mr.length;e+=1){const n=mr[e];af.has(n)||(af.add(n),n())}mr.length=0}while(lr.length);for(;rc.length;)rc.pop()();Hf=!1,af.clear(),oi(t)}function Rg(t){if(t.fragment!==null){t.update(),Fe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(In)}}function Ig(t){const e=[],n=[];mr.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),mr=e}const _o=new Set;let En;function Vn(){En={r:0,c:[],p:En}}function Xn(){En.r||Fe(En.c),En=En.p}function tt(t,e){t&&t.i&&(_o.delete(t),t.i(e))}function ct(t,e,n,r){if(t&&t.o){if(_o.has(t))return;_o.add(t),En.c.push(()=>{_o.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function dn(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function xt(t){t&&t.c()}function _t(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),In(()=>{const o=t.$$.on_mount.map(kh).filter(Eh);t.$$.on_destroy?t.$$.on_destroy.push(...o):Fe(o),t.$$.on_mount=[]}),i.forEach(In)}function wt(t,e){const n=t.$$;n.fragment!==null&&(Ig(n.after_update),Fe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Pg(t,e){t.$$.dirty[0]===-1&&(lr.push(t),Lg(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function we(t,e,n,r,i,o,a=null,f=[-1]){const s=li;oi(t);const u=t.$$={fragment:null,ctx:[],props:o,update:At,not_equal:i,bound:nc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:nc(),dirty:f,skip_bound:!1,root:e.target||s.$$.root};a&&a(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,l,...d)=>{const p=d.length?d[0]:l;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&Pg(t,h)),l}):[],u.update(),c=!0,Fe(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=Dg(e.target);u.fragment&&u.fragment.l(h),h.forEach(ot)}else u.fragment&&u.fragment.c();e.intro&&tt(t.$$.fragment),_t(t,e.target,e.anchor),Nh()}oi(s)}class ve{constructor(){of(this,"$$");of(this,"$$set")}$destroy(){wt(this,1),this.$destroy=At}$on(e,n){if(!Eh(n))return At;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Ng(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Og="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Og);const Ug="modulepreload",Bg=function(t){return"/rhythm-vis/"+t},ic={},or=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Bg(o),o in ic)return;ic[o]=!0;const a=o.endsWith(".css"),f=a?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===o&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${f}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Ug,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function zg(t){if(t){if(t=new Uint8Array(t.buffer||t),Yg(t))return"wav";if(qg(t))return"mp3";if(Wg(t))return"flac";if(Gg(t))return"m4a";if(Vg(t))return"opus";if(Hg(t))return"oga";if(Xg(t))return"qoa"}}function qg(t){if(!(!t||t.length<3))return t[0]===73&&t[1]===68&&t[2]===51||t[0]===255&&(t[1]&224)===224||t[0]===84&&t[1]===65&&t[2]===71}function Yg(t){if(!(!t||t.length<12))return t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70&&t[8]===87&&t[9]===65&&t[10]===86&&t[11]===69}function Hg(t){if(!(!t||t.length<4))return t[0]===79&&t[1]===103&&t[2]===103&&t[3]===83}function Wg(t){if(!(!t||t.length<4))return t[0]===102&&t[1]===76&&t[2]===97&&t[3]===67}function Gg(t){if(!(!t||t.length<8))return t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112||t[0]===77&&t[1]===52&&t[2]===65&&t[3]===32}function Vg(t){if(!(!t||t.length<36))return t[0]===79&&t[1]===103&&t[2]===103&&t[3]===83&&t[28]===79&&t[29]===112&&t[30]===117&&t[31]===115&&t[32]===72&&t[33]===101&&t[34]===97&&t[35]===100}function Xg(t){if(t)return t[0]===113&&t[1]===111&&t[2]===97&&t[3]===102}let jg=class{constructor(e){if(!e)throw TypeError("options argument is required");if(!e.sampleRate)throw TypeError("options.sampleRate is required");if(e.sampleRate<3e3||e.sampleRate>768e3)throw TypeError("options.sampleRate must be within 3000..768000");if(!e.length)throw TypeError("options.length must be more than 0");this.sampleRate=e.sampleRate,this.numberOfChannels=e.numberOfChannels||1,this.length=e.length|0,this.duration=this.length/this.sampleRate,this._data=new Float32Array(this.length*this.numberOfChannels),this._channelData=[];for(let n=0;n<this.numberOfChannels;n++)this._channelData.push(this._data.subarray(n*this.length,(n+1)*this.length))}getChannelData(e){if(e>=this.numberOfChannels||e<0||e==null)throw Error("Cannot getChannelData: channel number ("+e+") exceeds number of channels ("+this.numberOfChannels+")");return this._channelData[e]}copyFromChannel(e,n,r){r==null&&(r=0);for(var i=this._channelData[n],o=r,a=0;o<this.length&&a<e.length;o++,a++)e[a]=i[o]}copyToChannel(e,n,r){var i=this._channelData[n];r||(r=0);for(var o=r,a=0;o<this.length&&a<e.length;o++,a++)i[o]=e[a]}};const Zg=globalThis.AudioBuffer||jg;async function Kg(t){if(!t&&!(t.length||t.buffer))throw Error("Bad decode target");t=new Uint8Array(t.buffer||t);let e=zg(t);if(!e)throw Error("Cannot detect audio format");if(!fn[e])throw Error("Missing decoder for "+e+" format");return fn[e](t)}const fn={async oga(t){let{OggVorbisDecoder:e}=await or(()=>import("./index-0f7ebfef.js"),["assets/index-0f7ebfef.js","assets/utilities-e574ec1e.js","assets/index-0047a0ad.js"]);const n=new e;return await n.ready,(fn.oga=async r=>r&&ar(await n.decodeFile(r)))(t)},async mp3(t){const{MPEGDecoder:e}=await or(()=>import("./index-0ce8503e.js"),["assets/index-0ce8503e.js","assets/utilities-e574ec1e.js"]),n=new e;return await n.ready,(fn.mp3=r=>r&&ar(n.decode(r)))(t)},async flac(t){const{FLACDecoder:e}=await or(()=>import("./index-ee245be7.js"),["assets/index-ee245be7.js","assets/utilities-e574ec1e.js","assets/index-0047a0ad.js"]),n=new e;return await n.ready,(fn.mp3=async r=>r&&ar(await n.decode(r)))(t)},async opus(t){const{OggOpusDecoder:e}=await or(()=>import("./index-4f133b28.js"),["assets/index-4f133b28.js","assets/utilities-e574ec1e.js","assets/index-0047a0ad.js"]),n=new e;return await n.ready,(fn.opus=async r=>r&&ar(await n.decodeFile(r)))(t)},async wav(t){let e=await or(()=>import("./index-f12e3d06.js").then(r=>r.i),[]),{decode:n}=e.default;return(fn.wav=r=>r&&ar(n(r)))(t)},async qoa(t){let{decode:e}=await or(()=>import("./index-334570fa.js"),[]);return(fn.qoa=n=>n&&ar(e(n)))(t)}};function ar({channelData:t,sampleRate:e}){let n=new Zg({sampleRate:e,length:t[0].length,numberOfChannels:t.length});for(let r=0;r<t.length;r++)n.getChannelData(r).set(t[r]);return n}var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qg=Jg;function Jg(t,e){e=e||{};var n=t.numberOfChannels,r=t.sampleRate,i=e.float32?3:1,o=i===3?32:16,a;return n===2?a=e2(t.getChannelData(0),t.getChannelData(1)):a=t.getChannelData(0),t2(a,i,r,n,o)}function t2(t,e,n,r,i){var o=i/8,a=r*o,f=new ArrayBuffer(44+t.length*o),s=new DataView(f);return Zi(s,0,"RIFF"),s.setUint32(4,36+t.length*o,!0),Zi(s,8,"WAVE"),Zi(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,e,!0),s.setUint16(22,r,!0),s.setUint32(24,n,!0),s.setUint32(28,n*a,!0),s.setUint16(32,a,!0),s.setUint16(34,i,!0),Zi(s,36,"data"),s.setUint32(40,t.length*o,!0),e===1?r2(s,44,t):n2(s,44,t),f}function e2(t,e){for(var n=t.length+e.length,r=new Float32Array(n),i=0,o=0;i<n;)r[i++]=t[o],r[i++]=e[o],o++;return r}function n2(t,e,n){for(var r=0;r<n.length;r++,e+=4)t.setFloat32(e,n[r],!0)}function r2(t,e,n){for(var r=0;r<n.length;r++,e+=2){var i=Math.max(-1,Math.min(1,n[r]));t.setInt16(e,i<0?i*32768:i*32767,!0)}}function Zi(t,e,n){for(var r=0;r<n.length;r++)t.setUint8(e+r,n.charCodeAt(r))}const i2=Dh(Qg);function ko(t=16,e=.5,n=0,r=0,i=!1,o=0){const a=[];for(let f=0;f<t;++f){let s;i?s=f>=n?r:0:s=f===n?r:0,a.push(f*e+o+s)}return a}async function Fh(t){const n=await(await fetch(t)).arrayBuffer();return await Kg(n)}function Lh(t,e,n=1){const r=e.at(-1)+n,i=t.getChannelData(0),o=new Float32Array(Math.ceil(r*t.sampleRate));for(const a of e){const f=Math.round(a*t.sampleRate);for(let s=0;s<i.length;++s)o[f+s]=i[s]}return o}function o2(t,e,n){const r=new AudioBuffer({sampleRate:e,length:t.length});r.copyToChannel(t,0);const i=new Blob([i2(r)],{type:"audio/wav"});n.src=window.URL.createObjectURL(i)}function a2(t){return t.map(e=>({value:e,sort:Math.random()})).sort((e,n)=>e.sort-n.sort).map(({value:e})=>e)}function Vt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ei(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ya(t){let e,n,r;t.length!==2?(e=Vt,n=(f,s)=>Vt(t(f),s),r=(f,s)=>t(f)-s):(e=t===Vt||t===Ei?t:f2,n=t,r=t);function i(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{const h=u+c>>>1;n(f[h],s)<0?u=h+1:c=h}while(u<c)}return u}function o(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{const h=u+c>>>1;n(f[h],s)<=0?u=h+1:c=h}while(u<c)}return u}function a(f,s,u=0,c=f.length){const h=i(f,s,u,c-1);return h>u&&r(f[h-1],s)>-r(f[h],s)?h-1:h}return{left:i,center:a,right:o}}function f2(){return 0}function Rh(t){return t===null?NaN:+t}function*s2(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const u2=ya(Vt),c2=u2.right;ya(Rh).center;const _a=c2;function Ys(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function l2(t){return t.length|0}function h2(t){return!(t>0)}function d2(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function p2(t){return e=>t(...e)}function m2(...t){const e=typeof t[t.length-1]=="function"&&p2(t.pop());t=t.map(d2);const n=t.map(l2),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(h2))return o;for(;;){o.push(i.map((f,s)=>t[s][f]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function g2(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function Ih(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function Ph(t,e){const n=Ih(t,e);return n&&Math.sqrt(n)}function re(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Pn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,f=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);f&&(n[r++]=f),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class On extends Map{constructor(e,n=Bh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Wf(this,e))}has(e){return super.has(Wf(this,e))}set(e,n){return super.set(Oh(this,e),n)}delete(e){return super.delete(Uh(this,e))}}class wa extends Set{constructor(e,n=Bh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Wf(this,e))}add(e){return super.add(Oh(this,e))}delete(e){return super.delete(Uh(this,e))}}function Wf({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Oh({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Uh({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Bh(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gf(t){return t}function va(t,...e){return Hs(t,Gf,Gf,e)}function gr(t,e,...n){return Hs(t,Gf,e,n)}function b2(t,e,...n){return Hs(t,Array.from,e,n)}function Hs(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const f=new On,s=r[a++];let u=-1;for(const c of o){const h=s(c,++u,o),l=f.get(h);l?l.push(c):f.set(h,[c])}for(const[c,h]of f)f.set(c,i(h,a));return e(f)}(t,0)}function y2(t,e){return Array.from(e,n=>t[n])}function hi(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const f=Eo(a[i],a[o]);if(f)return f}})):(n=t.map(n),r.sort((i,o)=>Eo(n[i],n[o]))),y2(t,r)}return t.sort(zh(n))}function zh(t=Vt){if(t===Vt)return Eo;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Eo(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Ws(t,e,n){return(e.length!==2?hi(gr(t,e,n),([r,i],[o,a])=>Vt(i,a)||Vt(r,o)):hi(va(t,n),([r,i],[o,a])=>e(i,a)||Vt(r,o))).map(([r])=>r)}const _2=Math.sqrt(50),w2=Math.sqrt(10),v2=Math.sqrt(2);function Ao(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=_2?10:o>=w2?5:o>=v2?2:1;let f,s,u;return i<0?(u=Math.pow(10,-i)/a,f=Math.round(t*u),s=Math.round(e*u),f/u<t&&++f,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*a,f=Math.round(t/u),s=Math.round(e/u),f*u<t&&++f,s*u>e&&--s),s<f&&.5<=n&&n<2?Ao(t,e,n*2):[f,s,u]}function di(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ao(e,t,n):Ao(t,e,n);if(!(o>=i))return[];const f=o-i+1,s=new Array(f);if(r)if(a<0)for(let u=0;u<f;++u)s[u]=(o-u)/-a;else for(let u=0;u<f;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<f;++u)s[u]=(i+u)/-a;else for(let u=0;u<f;++u)s[u]=(i+u)*a;return s}function Co(t,e,n){return e=+e,t=+t,n=+n,Ao(t,e,n)[2]}function Vf(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Co(e,t,n):Co(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function x2(t){return Math.max(1,Math.ceil(Math.log(Ys(t))/Math.LN2)+1)}function pe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function M2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Ve(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function $2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function qh(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Eo:zh(i);r>n;){if(r-n>600){const s=r-n+1,u=e-n+1,c=Math.log(s),h=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*h*(s-h)/s)*(u-s/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/s+l)),p=Math.min(r,Math.floor(e+(s-u)*h/s+l));qh(t,e,d,p,i)}const o=t[e];let a=n,f=r;for(Hr(t,n,e),i(t[r],o)>0&&Hr(t,n,r);a<f;){for(Hr(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[n],o)===0?Hr(t,n,f):(++f,Hr(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function Hr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Yh(t,e=Vt){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?Vt(a,i)>0:Vt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function vr(t,e,n){if(t=Float64Array.from(s2(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ve(t);if(e>=1)return pe(t);var r,i=(r-1)*e,o=Math.floor(i),a=pe(qh(t,o).subarray(0,o+1)),f=Ve(t.subarray(o+1));return a+(f-a)*(i-o)}}function S2(t,e,n=Rh){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),f=+n(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function T2(t,e,n){const r=Ys(t),i=vr(t,.75)-vr(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function Hh(t,e,n){const r=Ys(t),i=Ph(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function k2(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Xf(t,e){return vr(t,.5,e)}function*E2(t){for(const e of t)yield*e}function Wh(t){return Array.from(E2(t))}function A2(t,e){const n=new On;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function C2(t,e=N2){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function N2(t,e){return[t,e]}function jf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function pn(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function No(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function D2(t){return t}var ff=1,sf=2,Zf=3,Ki=4,oc=1e-6;function F2(t){return"translate("+t+",0)"}function L2(t){return"translate(0,"+t+")"}function R2(t){return e=>+t(e)}function I2(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function P2(){return!this.__axis}function O2(t,e){var n=[],r=null,i=null,o=6,a=6,f=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ff||t===Ki?-1:1,c=t===Ki||t===sf?"x":"y",h=t===ff||t===Zf?F2:L2;function l(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):D2),g=Math.max(o,0)+f,_=e.range(),b=+_[0]+s,v=+_[_.length-1]+s,y=(e.bandwidth?I2:R2)(e.copy(),s),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),$=w.selectAll(".tick").data(p,e).order(),E=$.exit(),N=$.enter().append("g").attr("class","tick"),D=$.select("line"),T=$.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(N),D=D.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),T=T.merge(N.append("text").attr("fill","currentColor").attr(c,u*g).attr("dy",t===ff?"0em":t===Zf?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),$=$.transition(d),D=D.transition(d),T=T.transition(d),E=E.transition(d).attr("opacity",oc).attr("transform",function(L){return isFinite(L=y(L))?h(L+s):this.getAttribute("transform")}),N.attr("opacity",oc).attr("transform",function(L){var O=this.parentNode.__axis;return h((O&&isFinite(O=O(L))?O:y(L))+s)})),E.remove(),x.attr("d",t===Ki||t===sf?a?"M"+u*a+","+b+"H"+s+"V"+v+"H"+u*a:"M"+s+","+b+"V"+v:a?"M"+b+","+u*a+"V"+s+"H"+v+"V"+u*a:"M"+b+","+s+"H"+v),$.attr("opacity",1).attr("transform",function(L){return h(y(L)+s)}),D.attr(c+"2",u*o),T.attr(c,u*g).text(m),w.filter(P2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===sf?"start":t===Ki?"end":"middle"),w.each(function(){this.__axis=y})}return l.scale=function(d){return arguments.length?(e=d,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),l):n.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(f=+d,l):f},l.offset=function(d){return arguments.length?(s=+d,l):s},l}function U2(t){return O2(Zf,t)}var B2={value:()=>{}};function Gh(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wo(n)}function wo(t){this._=t}function z2(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wo.prototype=Gh.prototype={constructor:wo,on:function(t,e){var n=this._,r=z2(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=q2(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=ac(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ac(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new wo(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function q2(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ac(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=B2,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Kf="http://www.w3.org/1999/xhtml";const xr={svg:"http://www.w3.org/2000/svg",xhtml:Kf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xa(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),xr.hasOwnProperty(e)?{space:xr[e],local:t}:t}function Y2(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Kf&&e.documentElement.namespaceURI===Kf?e.createElement(t):e.createElementNS(n,t)}}function H2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ma(t){var e=xa(t);return(e.local?H2:Y2)(e)}function W2(){}function Gs(t){return t==null?W2:function(){return this.querySelector(t)}}function G2(t){typeof t!="function"&&(t=Gs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=new Array(a),s,u,c=0;c<a;++c)(s=o[c])&&(u=t.call(s,s.__data__,c,o))&&("__data__"in s&&(u.__data__=s.__data__),f[c]=u);return new Kt(r,this._parents)}function V2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function X2(){return[]}function Vh(t){return t==null?X2:function(){return this.querySelectorAll(t)}}function j2(t){return function(){return V2(t.apply(this,arguments))}}function Z2(t){typeof t=="function"?t=j2(t):t=Vh(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],f=a.length,s,u=0;u<f;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),i.push(s));return new Kt(r,i)}function Xh(t){return function(){return this.matches(t)}}function jh(t){return function(e){return e.matches(t)}}var K2=Array.prototype.find;function Q2(t){return function(){return K2.call(this.children,t)}}function J2(){return this.firstElementChild}function tb(t){return this.select(t==null?J2:Q2(typeof t=="function"?t:jh(t)))}var eb=Array.prototype.filter;function nb(){return Array.from(this.children)}function rb(t){return function(){return eb.call(this.children,t)}}function ib(t){return this.selectAll(t==null?nb:rb(typeof t=="function"?t:jh(t)))}function ob(t){typeof t!="function"&&(t=Xh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&f.push(s);return new Kt(r,this._parents)}function Zh(t){return new Array(t.length)}function ab(){return new Kt(this._enter||this._groups.map(Zh),this._parents)}function Do(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Do.prototype={constructor:Do,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fb(t){return function(){return t}}function sb(t,e,n,r,i,o){for(var a=0,f,s=e.length,u=o.length;a<u;++a)(f=e[a])?(f.__data__=o[a],r[a]=f):n[a]=new Do(t,o[a]);for(;a<s;++a)(f=e[a])&&(i[a]=f)}function ub(t,e,n,r,i,o,a){var f,s,u=new Map,c=e.length,h=o.length,l=new Array(c),d;for(f=0;f<c;++f)(s=e[f])&&(l[f]=d=a.call(s,s.__data__,f,e)+"",u.has(d)?i[f]=s:u.set(d,s));for(f=0;f<h;++f)d=a.call(t,o[f],f,o)+"",(s=u.get(d))?(r[f]=s,s.__data__=o[f],u.delete(d)):n[f]=new Do(t,o[f]);for(f=0;f<c;++f)(s=e[f])&&u.get(l[f])===s&&(i[f]=s)}function cb(t){return t.__data__}function lb(t,e){if(!arguments.length)return Array.from(this,cb);var n=e?ub:sb,r=this._parents,i=this._groups;typeof t!="function"&&(t=fb(t));for(var o=i.length,a=new Array(o),f=new Array(o),s=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],l=h.length,d=hb(t.call(c,c&&c.__data__,u,r)),p=d.length,m=f[u]=new Array(p),g=a[u]=new Array(p),_=s[u]=new Array(l);n(c,h,m,g,_,d,e);for(var b=0,v=0,y,w;b<p;++b)if(y=m[b]){for(b>=v&&(v=b+1);!(w=g[v])&&++v<p;);y._next=w||null}}return a=new Kt(a,r),a._enter=f,a._exit=s,a}function hb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function db(){return new Kt(this._exit||this._groups.map(Zh),this._parents)}function pb(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function mb(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),f=new Array(i),s=0;s<a;++s)for(var u=n[s],c=r[s],h=u.length,l=f[s]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(l[p]=d);for(;s<i;++s)f[s]=n[s];return new Kt(f,this._parents)}function gb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function bb(t){t||(t=yb);function e(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],f=a.length,s=i[o]=new Array(f),u,c=0;c<f;++c)(u=a[c])&&(s[c]=u);s.sort(e)}return new Kt(i,this._parents).order()}function yb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _b(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function wb(){return Array.from(this)}function vb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function xb(){let t=0;for(const e of this)++t;return t}function Mb(){return!this.node()}function $b(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function Sb(t){return function(){this.removeAttribute(t)}}function Tb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kb(t,e){return function(){this.setAttribute(t,e)}}function Eb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ab(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Cb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Nb(t,e){var n=xa(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Tb:Sb:typeof e=="function"?n.local?Cb:Ab:n.local?Eb:kb)(n,e))}function Kh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Db(t){return function(){this.style.removeProperty(t)}}function Fb(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Lb(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Rb(t,e,n){return arguments.length>1?this.each((e==null?Db:typeof e=="function"?Lb:Fb)(t,e,n??"")):Mr(this.node(),t)}function Mr(t,e){return t.style.getPropertyValue(e)||Kh(t).getComputedStyle(t,null).getPropertyValue(e)}function Ib(t){return function(){delete this[t]}}function Pb(t,e){return function(){this[t]=e}}function Ob(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ub(t,e){return arguments.length>1?this.each((e==null?Ib:typeof e=="function"?Ob:Pb)(t,e)):this.node()[t]}function Qh(t){return t.trim().split(/^|\s+/)}function Vs(t){return t.classList||new Jh(t)}function Jh(t){this._node=t,this._names=Qh(t.getAttribute("class")||"")}Jh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function td(t,e){for(var n=Vs(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ed(t,e){for(var n=Vs(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Bb(t){return function(){td(this,t)}}function zb(t){return function(){ed(this,t)}}function qb(t,e){return function(){(e.apply(this,arguments)?td:ed)(this,t)}}function Yb(t,e){var n=Qh(t+"");if(arguments.length<2){for(var r=Vs(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?qb:e?Bb:zb)(n,e))}function Hb(){this.textContent=""}function Wb(t){return function(){this.textContent=t}}function Gb(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Vb(t){return arguments.length?this.each(t==null?Hb:(typeof t=="function"?Gb:Wb)(t)):this.node().textContent}function Xb(){this.innerHTML=""}function jb(t){return function(){this.innerHTML=t}}function Zb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Kb(t){return arguments.length?this.each(t==null?Xb:(typeof t=="function"?Zb:jb)(t)):this.node().innerHTML}function Qb(){this.nextSibling&&this.parentNode.appendChild(this)}function Jb(){return this.each(Qb)}function ty(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ey(){return this.each(ty)}function ny(t){var e=typeof t=="function"?t:Ma(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ry(){return null}function iy(t,e){var n=typeof t=="function"?t:Ma(t),r=e==null?ry:typeof e=="function"?e:Gs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function oy(){var t=this.parentNode;t&&t.removeChild(this)}function ay(){return this.each(oy)}function fy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sy(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function uy(t){return this.select(t?sy:fy)}function cy(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ly(t){return function(e){t.call(this,e,this.__data__)}}function hy(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function dy(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function py(t,e,n){return function(){var r=this.__on,i,o=ly(e);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function my(t,e,n){var r=hy(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var s=0,u=f.length,c;s<u;++s)for(i=0,c=f[s];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(f=e?py:dy,i=0;i<o;++i)this.each(f(r[i],e,n));return this}function nd(t,e,n){var r=Kh(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function gy(t,e){return function(){return nd(this,t,e)}}function by(t,e){return function(){return nd(this,t,e.apply(this,arguments))}}function yy(t,e){return this.each((typeof e=="function"?by:gy)(t,e))}function*_y(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var rd=[null];function Kt(t,e){this._groups=t,this._parents=e}function Ai(){return new Kt([[document.documentElement]],rd)}function wy(){return this}Kt.prototype=Ai.prototype={constructor:Kt,select:G2,selectAll:Z2,selectChild:tb,selectChildren:ib,filter:ob,data:lb,enter:ab,exit:db,join:pb,merge:mb,selection:wy,order:gb,sort:bb,call:_b,nodes:wb,node:vb,size:xb,empty:Mb,each:$b,attr:Nb,style:Rb,property:Ub,classed:Yb,text:Vb,html:Kb,raise:Jb,lower:ey,append:ny,insert:iy,remove:ay,clone:uy,datum:cy,on:my,dispatch:yy,[Symbol.iterator]:_y};function ai(t){return typeof t=="string"?new Kt([[document.querySelector(t)]],[document.documentElement]):new Kt([[t]],rd)}function vy(t){let e;for(;e=t.sourceEvent;)t=e;return t}function xy(t,e){if(t=vy(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Rr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ci(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yn(){}var Un=.7,$r=1/Un,br="\\s*([+-]?\\d+)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",My=/^#([0-9a-f]{3,8})$/,$y=new RegExp(`^rgb\\(${br},${br},${br}\\)$`),Sy=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),Ty=new RegExp(`^rgba\\(${br},${br},${br},${pi}\\)$`),ky=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${pi}\\)$`),Ey=new RegExp(`^hsl\\(${pi},${Ce},${Ce}\\)$`),Ay=new RegExp(`^hsla\\(${pi},${Ce},${Ce},${pi}\\)$`),fc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rr(yn,Bn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sc,formatHex:sc,formatHex8:Cy,formatHsl:Ny,formatRgb:uc,toString:uc});function sc(){return this.rgb().formatHex()}function Cy(){return this.rgb().formatHex8()}function Ny(){return id(this).formatHsl()}function uc(){return this.rgb().formatRgb()}function Bn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=My.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cc(e):n===3?new Lt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$y.exec(t))?new Lt(e[1],e[2],e[3],1):(e=Sy.exec(t))?new Lt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ty.exec(t))?Qi(e[1],e[2],e[3],e[4]):(e=ky.exec(t))?Qi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ey.exec(t))?dc(e[1],e[2]/100,e[3]/100,1):(e=Ay.exec(t))?dc(e[1],e[2]/100,e[3]/100,e[4]):fc.hasOwnProperty(t)?cc(fc[t]):t==="transparent"?new Lt(NaN,NaN,NaN,0):null}function cc(t){return new Lt(t>>16&255,t>>8&255,t&255,1)}function Qi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lt(t,e,n,r)}function Xs(t){return t instanceof yn||(t=Bn(t)),t?(t=t.rgb(),new Lt(t.r,t.g,t.b,t.opacity)):new Lt}function mn(t,e,n,r){return arguments.length===1?Xs(t):new Lt(t,e,n,r??1)}function Lt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Rr(Lt,mn,Ci(yn,{brighter(t){return t=t==null?$r:Math.pow($r,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Un:Math.pow(Un,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lt(Fn(this.r),Fn(this.g),Fn(this.b),Fo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lc,formatHex:lc,formatHex8:Dy,formatRgb:hc,toString:hc}));function lc(){return`#${An(this.r)}${An(this.g)}${An(this.b)}`}function Dy(){return`#${An(this.r)}${An(this.g)}${An(this.b)}${An((isNaN(this.opacity)?1:this.opacity)*255)}`}function hc(){const t=Fo(this.opacity);return`${t===1?"rgb(":"rgba("}${Fn(this.r)}, ${Fn(this.g)}, ${Fn(this.b)}${t===1?")":`, ${t})`}`}function Fo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function An(t){return t=Fn(t),(t<16?"0":"")+t.toString(16)}function dc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new he(t,e,n,r)}function id(t){if(t instanceof he)return new he(t.h,t.s,t.l,t.opacity);if(t instanceof yn||(t=Bn(t)),!t)return new he;if(t instanceof he)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,f=o-i,s=(o+i)/2;return f?(e===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-e)/f+2:a=(e-n)/f+4,f/=s<.5?o+i:2-o-i,a*=60):f=s>0&&s<1?0:a,new he(a,f,s,t.opacity)}function Qf(t,e,n,r){return arguments.length===1?id(t):new he(t,e,n,r??1)}function he(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rr(he,Qf,Ci(yn,{brighter(t){return t=t==null?$r:Math.pow($r,t),new he(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Un:Math.pow(Un,t),new he(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lt(uf(t>=240?t-240:t+120,i,r),uf(t,i,r),uf(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new he(pc(this.h),Ji(this.s),Ji(this.l),Fo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fo(this.opacity);return`${t===1?"hsl(":"hsla("}${pc(this.h)}, ${Ji(this.s)*100}%, ${Ji(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pc(t){return t=(t||0)%360,t<0?t+360:t}function Ji(t){return Math.max(0,Math.min(1,t||0))}function uf(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const od=Math.PI/180,ad=180/Math.PI,Lo=18,fd=.96422,sd=1,ud=.82521,cd=4/29,yr=6/29,ld=3*yr*yr,Fy=yr*yr*yr;function hd(t){if(t instanceof Ne)return new Ne(t.l,t.a,t.b,t.opacity);if(t instanceof He)return dd(t);t instanceof Lt||(t=Xs(t));var e=df(t.r),n=df(t.g),r=df(t.b),i=cf((.2225045*e+.7168786*n+.0606169*r)/sd),o,a;return e===n&&n===r?o=a=i:(o=cf((.4360747*e+.3850649*n+.1430804*r)/fd),a=cf((.0139322*e+.0971045*n+.7141733*r)/ud)),new Ne(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Jf(t,e,n,r){return arguments.length===1?hd(t):new Ne(t,e,n,r??1)}function Ne(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Rr(Ne,Jf,Ci(yn,{brighter(t){return new Ne(this.l+Lo*(t??1),this.a,this.b,this.opacity)},darker(t){return new Ne(this.l-Lo*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=fd*lf(e),t=sd*lf(t),n=ud*lf(n),new Lt(hf(3.1338561*e-1.6168667*t-.4906146*n),hf(-.9787684*e+1.9161415*t+.033454*n),hf(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function cf(t){return t>Fy?Math.pow(t,1/3):t/ld+cd}function lf(t){return t>yr?t*t*t:ld*(t-cd)}function hf(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function df(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ly(t){if(t instanceof He)return new He(t.h,t.c,t.l,t.opacity);if(t instanceof Ne||(t=hd(t)),t.a===0&&t.b===0)return new He(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ad;return new He(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ts(t,e,n,r){return arguments.length===1?Ly(t):new He(t,e,n,r??1)}function He(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function dd(t){if(isNaN(t.h))return new Ne(t.l,0,0,t.opacity);var e=t.h*od;return new Ne(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Rr(He,ts,Ci(yn,{brighter(t){return new He(this.h,this.c,this.l+Lo*(t??1),this.opacity)},darker(t){return new He(this.h,this.c,this.l-Lo*(t??1),this.opacity)},rgb(){return dd(this).rgb()}}));var pd=-.14861,js=1.78277,Zs=-.29227,$a=-.90649,mi=1.97294,mc=mi*$a,gc=mi*js,bc=js*Zs-$a*pd;function Ry(t){if(t instanceof Ln)return new Ln(t.h,t.s,t.l,t.opacity);t instanceof Lt||(t=Xs(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(bc*r+mc*e-gc*n)/(bc+mc-gc),o=r-i,a=(mi*(n-i)-Zs*o)/$a,f=Math.sqrt(a*a+o*o)/(mi*i*(1-i)),s=f?Math.atan2(a,o)*ad-120:NaN;return new Ln(s<0?s+360:s,f,i,t.opacity)}function De(t,e,n,r){return arguments.length===1?Ry(t):new Ln(t,e,n,r??1)}function Ln(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rr(Ln,De,Ci(yn,{brighter(t){return t=t==null?$r:Math.pow($r,t),new Ln(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Un:Math.pow(Un,t),new Ln(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*od,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Lt(255*(e+n*(pd*r+js*i)),255*(e+n*(Zs*r+$a*i)),255*(e+n*(mi*r)),this.opacity)}}));function Iy(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Py(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<e-1?t[r+2]:2*o-i;return Iy((n-r/e)*e,a,i,o,f)}}const Sa=t=>()=>t;function md(t,e){return function(n){return t+n*e}}function Oy(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ks(t,e){var n=e-t;return n?md(t,n>180||n<-180?n-360*Math.round(n/360):n):Sa(isNaN(t)?e:t)}function Uy(t){return(t=+t)==1?Ut:function(e,n){return n-e?Oy(e,n,t):Sa(isNaN(e)?n:e)}}function Ut(t,e){var n=e-t;return n?md(t,n):Sa(isNaN(t)?e:t)}const zn=function t(e){var n=Uy(e);function r(i,o){var a=n((i=mn(i)).r,(o=mn(o)).r),f=n(i.g,o.g),s=n(i.b,o.b),u=Ut(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=f(c),i.b=s(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function By(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,f;for(a=0;a<n;++a)f=mn(e[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(s){return f.r=r(s),f.g=i(s),f.b=o(s),f+""}}}var zy=By(Py);function qy(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Yy(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hy(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ni(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function Wy(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ot(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Gy(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ni(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pf=new RegExp(es.source,"g");function Vy(t){return function(){return t}}function Xy(t){return function(e){return t(e)+""}}function gd(t,e){var n=es.lastIndex=pf.lastIndex=0,r,i,o,a=-1,f=[],s=[];for(t=t+"",e=e+"";(r=es.exec(t))&&(i=pf.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,s.push({i:a,x:Ot(r,i)})),n=pf.lastIndex;return n<e.length&&(o=e.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?s[0]?Xy(s[0].x):Vy(e):(e=s.length,function(u){for(var c=0,h;c<e;++c)f[(h=s[c]).i]=h.x(u);return f.join("")})}function Ni(t,e){var n=typeof e,r;return e==null||n==="boolean"?Sa(e):(n==="number"?Ot:n==="string"?(r=Bn(e))?(e=r,zn):gd:e instanceof Bn?zn:e instanceof Date?Wy:Yy(e)?qy:Array.isArray(e)?Hy:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gy:Ot)(t,e)}function Qs(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var yc=180/Math.PI,ns={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bd(t,e,n,r,i,o){var a,f,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,s/=f),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*yc,skewX:Math.atan(s)*yc,scaleX:a,scaleY:f}}var to;function jy(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ns:bd(e.a,e.b,e.c,e.d,e.e,e.f)}function Zy(t){return t==null||(to||(to=document.createElementNS("http://www.w3.org/2000/svg","g")),to.setAttribute("transform",t),!(t=to.transform.baseVal.consolidate()))?ns:(t=t.matrix,bd(t.a,t.b,t.c,t.d,t.e,t.f))}function yd(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,l,d,p){if(u!==h||c!==l){var m=d.push("translate(",null,e,null,n);p.push({i:m-4,x:Ot(u,h)},{i:m-2,x:Ot(c,l)})}else(h||l)&&d.push("translate("+h+e+l+n)}function a(u,c,h,l){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ot(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function f(u,c,h,l){u!==c?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ot(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function s(u,c,h,l,d,p){if(u!==h||c!==l){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:Ot(u,h)},{i:m-2,x:Ot(c,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(u,c){var h=[],l=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,l),a(u.rotate,c.rotate,h,l),f(u.skewX,c.skewX,h,l),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,l),u=c=null,function(d){for(var p=-1,m=l.length,g;++p<m;)h[(g=l[p]).i]=g.x(d);return h.join("")}}}var Ky=yd(jy,"px, ","px)","deg)"),Qy=yd(Zy,", ",")",")");function Jy(t){return function(e,n){var r=t((e=Qf(e)).h,(n=Qf(n)).h),i=Ut(e.s,n.s),o=Ut(e.l,n.l),a=Ut(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=o(f),e.opacity=a(f),e+""}}}const t_=Jy(Ks);function e_(t,e){var n=Ut((t=Jf(t)).l,(e=Jf(e)).l),r=Ut(t.a,e.a),i=Ut(t.b,e.b),o=Ut(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function n_(t){return function(e,n){var r=t((e=ts(e)).h,(n=ts(n)).h),i=Ut(e.c,n.c),o=Ut(e.l,n.l),a=Ut(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=o(f),e.opacity=a(f),e+""}}}const r_=n_(Ks);function _d(t){return function e(n){n=+n;function r(i,o){var a=t((i=De(i)).h,(o=De(o)).h),f=Ut(i.s,o.s),s=Ut(i.l,o.l),u=Ut(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=f(c),i.l=s(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r}(1)}_d(Ks);var Js=_d(Ut);function Ta(t,e){e===void 0&&(e=t,t=Ni);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function me(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Sr=0,Kr=0,Wr=0,wd=1e3,Ro,Qr,Io=0,qn=0,ka=0,gi=typeof performance=="object"&&performance.now?performance:Date,vd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tu(){return qn||(vd(i_),qn=gi.now()+ka)}function i_(){qn=0}function Po(){this._call=this._time=this._next=null}Po.prototype=xd.prototype={constructor:Po,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?tu():+n)+(e==null?0:+e),!this._next&&Qr!==this&&(Qr?Qr._next=this:Ro=this,Qr=this),this._call=t,this._time=n,rs()},stop:function(){this._call&&(this._call=null,this._time=1/0,rs())}};function xd(t,e,n){var r=new Po;return r.restart(t,e,n),r}function o_(){tu(),++Sr;for(var t=Ro,e;t;)(e=qn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Sr}function _c(){qn=(Io=gi.now())+ka,Sr=Kr=0;try{o_()}finally{Sr=0,f_(),qn=0}}function a_(){var t=gi.now(),e=t-Io;e>wd&&(ka-=e,Io=t)}function f_(){for(var t,e=Ro,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ro=n);Qr=t,rs(r)}function rs(t){if(!Sr){Kr&&(Kr=clearTimeout(Kr));var e=t-qn;e>24?(t<1/0&&(Kr=setTimeout(_c,t-gi.now()-ka)),Wr&&(Wr=clearInterval(Wr))):(Wr||(Io=gi.now(),Wr=setInterval(a_,wd)),Sr=1,vd(_c))}}function wc(t,e,n){var r=new Po;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var s_=Gh("start","end","cancel","interrupt"),u_=[],Md=0,vc=1,is=2,vo=3,xc=4,os=5,xo=6;function Ea(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;c_(t,n,{name:e,index:r,group:i,on:s_,tween:u_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Md})}function eu(t,e){var n=xe(t,e);if(n.state>Md)throw new Error("too late; already scheduled");return n}function Le(t,e){var n=xe(t,e);if(n.state>vo)throw new Error("too late; already running");return n}function xe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function c_(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=xd(o,0,n.time);function o(u){n.state=vc,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,l,d;if(n.state!==vc)return s();for(c in r)if(d=r[c],d.name===n.name){if(d.state===vo)return wc(a);d.state===xc?(d.state=xo,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=xo,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(wc(function(){n.state===vo&&(n.state=xc,n.timer.restart(f,n.delay,n.time),f(u))}),n.state=is,n.on.call("start",t,t.__data__,n.index,n.group),n.state===is){for(n.state=vo,i=new Array(l=n.tween.length),c=0,h=-1;c<l;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function f(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=os,1),h=-1,l=i.length;++h<l;)i[h].call(t,c);n.state===os&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=xo,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function l_(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>is&&r.state<os,r.state=xo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function h_(t){return this.each(function(){l_(this,t)})}function d_(t,e){var n,r;return function(){var i=Le(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function p_(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Le(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=f;break}s===u&&i.push(f)}o.tween=i}}function m_(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=xe(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?d_:p_)(n,t,e))}function nu(t,e,n){var r=t._id;return t.each(function(){var i=Le(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return xe(i,r).value[e]}}function $d(t,e){var n;return(typeof e=="number"?Ot:e instanceof Bn?zn:(n=Bn(e))?(e=n,zn):gd)(t,e)}function g_(t){return function(){this.removeAttribute(t)}}function b_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function y_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function __(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function w_(t,e,n){var r,i,o;return function(){var a,f=n(this),s;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=f+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,f)))}}function v_(t,e,n){var r,i,o;return function(){var a,f=n(this),s;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=f+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,f)))}}function x_(t,e){var n=xa(t),r=n==="transform"?Qy:$d;return this.attrTween(t,typeof e=="function"?(n.local?v_:w_)(n,r,nu(this,"attr."+t,e)):e==null?(n.local?b_:g_)(n):(n.local?__:y_)(n,r,e))}function M_(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function $_(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function S_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&$_(t,o)),n}return i._value=e,i}function T_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&M_(t,o)),n}return i._value=e,i}function k_(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=xa(t);return this.tween(n,(r.local?S_:T_)(r,e))}function E_(t,e){return function(){eu(this,t).delay=+e.apply(this,arguments)}}function A_(t,e){return e=+e,function(){eu(this,t).delay=e}}function C_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?E_:A_)(e,t)):xe(this.node(),e).delay}function N_(t,e){return function(){Le(this,t).duration=+e.apply(this,arguments)}}function D_(t,e){return e=+e,function(){Le(this,t).duration=e}}function F_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?N_:D_)(e,t)):xe(this.node(),e).duration}function L_(t,e){if(typeof e!="function")throw new Error;return function(){Le(this,t).ease=e}}function R_(t){var e=this._id;return arguments.length?this.each(L_(e,t)):xe(this.node(),e).ease}function I_(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Le(this,t).ease=n}}function P_(t){if(typeof t!="function")throw new Error;return this.each(I_(this._id,t))}function O_(t){typeof t!="function"&&(t=Xh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&f.push(s);return new Xe(r,this._parents,this._name,this._id)}function U_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var s=e[f],u=n[f],c=s.length,h=a[f]=new Array(c),l,d=0;d<c;++d)(l=s[d]||u[d])&&(h[d]=l);for(;f<r;++f)a[f]=e[f];return new Xe(a,this._parents,this._name,this._id)}function B_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function z_(t,e,n){var r,i,o=B_(e)?eu:Le;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(e,n),a.on=i}}function q_(t,e){var n=this._id;return arguments.length<2?xe(this.node(),n).on.on(t):this.each(z_(n,t,e))}function Y_(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function H_(){return this.on("end.remove",Y_(this._id))}function W_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gs(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],s=f.length,u=o[a]=new Array(s),c,h,l=0;l<s;++l)(c=f[l])&&(h=t.call(c,c.__data__,l,f))&&("__data__"in c&&(h.__data__=c.__data__),u[l]=h,Ea(u[l],e,n,l,u,xe(c,n)));return new Xe(o,this._parents,e,n)}function G_(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Vh(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var s=r[f],u=s.length,c,h=0;h<u;++h)if(c=s[h]){for(var l=t.call(c,c.__data__,h,s),d,p=xe(c,n),m=0,g=l.length;m<g;++m)(d=l[m])&&Ea(d,e,n,m,l,p);o.push(l),a.push(c)}return new Xe(o,a,e,n)}var V_=Ai.prototype.constructor;function X_(){return new V_(this._groups,this._parents)}function j_(t,e){var n,r,i;return function(){var o=Mr(this,t),a=(this.style.removeProperty(t),Mr(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Sd(t){return function(){this.style.removeProperty(t)}}function Z_(t,e,n){var r,i=n+"",o;return function(){var a=Mr(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function K_(t,e,n){var r,i,o;return function(){var a=Mr(this,t),f=n(this),s=f+"";return f==null&&(s=f=(this.style.removeProperty(t),Mr(this,t))),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,f))}}function Q_(t,e){var n,r,i,o="style."+e,a="end."+o,f;return function(){var s=Le(this,t),u=s.on,c=s.value[o]==null?f||(f=Sd(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),s.on=r}}function J_(t,e,n){var r=(t+="")=="transform"?Ky:$d;return e==null?this.styleTween(t,j_(t,r)).on("end.style."+t,Sd(t)):typeof e=="function"?this.styleTween(t,K_(t,r,nu(this,"style."+t,e))).each(Q_(this._id,t)):this.styleTween(t,Z_(t,r,e),n).on("end.style."+t,null)}function tw(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ew(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&tw(t,a,n)),r}return o._value=e,o}function nw(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ew(t,e,n??""))}function rw(t){return function(){this.textContent=t}}function iw(t){return function(){var e=t(this);this.textContent=e??""}}function ow(t){return this.tween("text",typeof t=="function"?iw(nu(this,"text",t)):rw(t==null?"":t+""))}function aw(t){return function(e){this.textContent=t.call(this,e)}}function fw(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&aw(i)),e}return r._value=t,r}function sw(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,fw(t))}function uw(){for(var t=this._name,e=this._id,n=Td(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,s,u=0;u<f;++u)if(s=a[u]){var c=xe(s,e);Ea(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Xe(r,this._parents,t,n)}function cw(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var f={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var u=Le(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(s)),u.on=e}),i===0&&o()})}var lw=0;function Xe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Td(){return++lw}var Pe=Ai.prototype;Xe.prototype={constructor:Xe,select:W_,selectAll:G_,selectChild:Pe.selectChild,selectChildren:Pe.selectChildren,filter:O_,merge:U_,selection:X_,transition:uw,call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:q_,attr:x_,attrTween:k_,style:J_,styleTween:nw,text:ow,textTween:sw,remove:H_,tween:m_,delay:C_,duration:F_,ease:R_,easeVarying:P_,end:cw,[Symbol.iterator]:Pe[Symbol.iterator]};function hw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var dw={time:null,delay:0,duration:250,ease:hw};function pw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function mw(t){var e,n;t instanceof Xe?(e=t._id,t=t._name):(e=Td(),(n=dw).time=tu(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,s,u=0;u<f;++u)(s=a[u])&&Ea(s,t,e,u,a,n||pw(s,e));return new Xe(r,this._parents,t,e)}Ai.prototype.interrupt=h_;Ai.prototype.transition=mw;const as=Math.PI,fs=2*as,Tn=1e-6,gw=fs-Tn;function kd(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kd;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ed{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kd:bw(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,s=r-e,u=i-n,c=a-e,h=f-n,l=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>Tn)if(!(Math.abs(h*s-u*c)>Tn)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,p=i-f,m=s*s+u*u,g=d*d+p*p,_=Math.sqrt(m),b=Math.sqrt(l),v=o*Math.tan((as-Math.acos((m+l-g)/(2*_*b)))/2),y=v/b,w=v/_;Math.abs(y-1)>Tn&&this._append`L${e+y*c},${n+y*h}`,this._append`A${o},${o},0,0,${+(h*d>c*p)},${this._x1=e+w*s},${this._y1=n+w*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),s=r*Math.sin(i),u=e+f,c=n+s,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Tn||Math.abs(this._y1-c)>Tn)&&this._append`L${u},${c}`,r&&(l<0&&(l=l%fs+fs),l>gw?this._append`A${r},${r},0,1,${h},${e-f},${n-s}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:l>Tn&&this._append`A${r},${r},0,${+(l>=as)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ss(t=3){return new Ed(+t)}function yw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Oo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Tr(t){return t=Oo(Math.abs(t)),t?t[1]:NaN}function _w(t,e){return function(n,r){for(var i=n.length,o=[],a=0,f=t[0],s=0;i>0&&f>0&&(s+f+1>r&&(f=Math.max(1,r-s)),o.push(n.substring(i-=f,i+f)),!((s+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(e)}}function ww(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var vw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bi(t){if(!(e=vw.exec(t)))throw new Error("invalid format: "+t);var e;return new ru({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bi.prototype=ru.prototype;function ru(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ru.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xw(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ad;function Mw(t,e){var n=Oo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ad=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Oo(t,Math.max(0,e+o-1))[0]}function Mc(t,e){var n=Oo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $c={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yw,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Mc(t*100,e),r:Mc,s:Mw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Sc(t){return t}var Tc=Array.prototype.map,kc=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $w(t){var e=t.grouping===void 0||t.thousands===void 0?Sc:_w(Tc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Sc:ww(Tc.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(h){h=bi(h);var l=h.fill,d=h.align,p=h.sign,m=h.symbol,g=h.zero,_=h.width,b=h.comma,v=h.precision,y=h.trim,w=h.type;w==="n"?(b=!0,w="g"):$c[w]||(v===void 0&&(v=12),y=!0,w="g"),(g||l==="0"&&d==="=")&&(g=!0,l="0",d="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",$=m==="$"?r:/[%p]/.test(w)?a:"",E=$c[w],N=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function D(T){var L=x,O=$,P,S,z;if(w==="c")O=E(T)+O,T="";else{T=+T;var G=T<0||1/T<0;if(T=isNaN(T)?s:E(Math.abs(T),v),y&&(T=xw(T)),G&&+T==0&&p!=="+"&&(G=!1),L=(G?p==="("?p:f:p==="-"||p==="("?"":p)+L,O=(w==="s"?kc[8+Ad/3]:"")+O+(G&&p==="("?")":""),N){for(P=-1,S=T.length;++P<S;)if(z=T.charCodeAt(P),48>z||z>57){O=(z===46?i+T.slice(P+1):T.slice(P))+O,T=T.slice(0,P);break}}}b&&!g&&(T=e(T,1/0));var j=L.length+T.length+O.length,X=j<_?new Array(_-j+1).join(l):"";switch(b&&g&&(T=e(X+T,X.length?_-O.length:1/0),X=""),d){case"<":T=L+T+O+X;break;case"=":T=L+X+T+O;break;case"^":T=X.slice(0,j=X.length>>1)+L+T+O+X.slice(j);break;default:T=X+L+T+O;break}return o(T)}return D.toString=function(){return h+""},D}function c(h,l){var d=u((h=bi(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Tr(l)/3)))*3,m=Math.pow(10,-p),g=kc[8+p/3];return function(_){return d(m*_)+g}}return{format:u,formatPrefix:c}}var eo,Ir,Cd;Sw({thousands:",",grouping:[3],currency:["$",""]});function Sw(t){return eo=$w(t),Ir=eo.format,Cd=eo.formatPrefix,eo}function Tw(t){return Math.max(0,-Tr(Math.abs(t)))}function kw(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tr(e)/3)))*3-Tr(Math.abs(t)))}function Ew(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tr(e)-Tr(t))+1}var ft=1e-6,Nd=1e-12,pt=Math.PI,kt=pt/2,Ec=pt/4,Qt=pt*2,Yt=180/pt,Tt=pt/180,yt=Math.abs,Pr=Math.atan,je=Math.atan2,dt=Math.cos,Dd=Math.exp,Uo=Math.log,mf=Math.pow,at=Math.sin,ie=Math.sign||function(t){return t>0?1:t<0?-1:0},Xt=Math.sqrt,iu=Math.tan;function Fd(t){return t>1?0:t<-1?pt:Math.acos(t)}function ue(t){return t>1?kt:t<-1?-kt:Math.asin(t)}function oe(){}function Bo(t,e){t&&Cc.hasOwnProperty(t.type)&&Cc[t.type](t,e)}var Ac={Feature:function(t,e){Bo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Bo(n[r].geometry,e)}},Cc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){us(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)us(n[r],e,0)},Polygon:function(t,e){Nc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Nc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Bo(n[r],e)}};function us(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function Nc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)us(t[n],e,1);e.polygonEnd()}function kn(t,e){t&&Ac.hasOwnProperty(t.type)?Ac[t.type](t,e):Bo(t,e)}function cs(t){return[je(t[1],t[0]),ue(t[2])]}function kr(t){var e=t[0],n=t[1],r=dt(n);return[r*dt(e),r*at(e),at(n)]}function no(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function zo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function gf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ro(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ls(t){var e=Xt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function hs(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function ds(t,e){return yt(t)>pt&&(t-=Math.round(t/Qt)*Qt),[t,e]}ds.invert=ds;function Ld(t,e,n){return(t%=Qt)?e||n?hs(Fc(t),Lc(e,n)):Fc(t):e||n?Lc(e,n):ds}function Dc(t){return function(e,n){return e+=t,yt(e)>pt&&(e-=Math.round(e/Qt)*Qt),[e,n]}}function Fc(t){var e=Dc(t);return e.invert=Dc(-t),e}function Lc(t,e){var n=dt(t),r=at(t),i=dt(e),o=at(e);function a(f,s){var u=dt(s),c=dt(f)*u,h=at(f)*u,l=at(s),d=l*n+c*r;return[je(h*i-d*o,c*n-l*r),ue(d*i+h*o)]}return a.invert=function(f,s){var u=dt(s),c=dt(f)*u,h=at(f)*u,l=at(s),d=l*i-h*o;return[je(h*i+l*o,c*n+d*r),ue(d*n-c*r)]},a}function Aw(t){t=Ld(t[0]*Tt,t[1]*Tt,t.length>2?t[2]*Tt:0);function e(n){return n=t(n[0]*Tt,n[1]*Tt),n[0]*=Yt,n[1]*=Yt,n}return e.invert=function(n){return n=t.invert(n[0]*Tt,n[1]*Tt),n[0]*=Yt,n[1]*=Yt,n},e}function Cw(t,e,n,r,i,o){if(n){var a=dt(e),f=at(e),s=r*n;i==null?(i=e+r*Qt,o=e-s/2):(i=Rc(a,i),o=Rc(a,o),(r>0?i<o:i>o)&&(i+=r*Qt));for(var u,c=i;r>0?c>o:c<o;c-=s)u=cs([a,-f*dt(c),-f*at(c)]),t.point(u[0],u[1])}}function Rc(t,e){e=kr(e),e[0]-=t,ls(e);var n=Fd(-e[1]);return((-e[2]<0?-n:n)+Qt-ft)%Qt}function Rd(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:oe,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Mo(t,e){return yt(t[0]-e[0])<ft&&yt(t[1]-e[1])<ft}function io(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Id(t,e,n,r,i){var o=[],a=[],f,s;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],_=p[m],b;if(Mo(g,_)){if(!g[2]&&!_[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}_[0]+=2*ft}o.push(b=new io(g,p,null,!0)),a.push(b.o=new io(g,null,b,!1)),o.push(b=new io(_,p,null,!1)),a.push(b.o=new io(_,null,b,!0))}}),!!o.length){for(a.sort(e),Ic(o),Ic(a),f=0,s=a.length;f<s;++f)a[f].e=n=!n;for(var u=o[0],c,h;;){for(var l=u,d=!0;l.v;)if((l=l.n)===u)return;c=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(f=0,s=c.length;f<s;++f)i.point((h=c[f])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(c=l.p.z,f=c.length-1;f>=0;--f)i.point((h=c[f])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,c=l.z,d=!d}while(!l.v);i.lineEnd()}}}function Ic(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function bf(t){return yt(t[0])<=pt?t[0]:ie(t[0])*((yt(t[0])+pt)%Qt-pt)}function Nw(t,e){var n=bf(e),r=e[1],i=at(r),o=[at(n),-dt(n),0],a=0,f=0,s=new Pn;i===1?r=kt+ft:i===-1&&(r=-kt-ft);for(var u=0,c=t.length;u<c;++u)if(l=(h=t[u]).length)for(var h,l,d=h[l-1],p=bf(d),m=d[1]/2+Ec,g=at(m),_=dt(m),b=0;b<l;++b,p=y,g=x,_=$,d=v){var v=h[b],y=bf(v),w=v[1]/2+Ec,x=at(w),$=dt(w),E=y-p,N=E>=0?1:-1,D=N*E,T=D>pt,L=g*x;if(s.add(je(L*N*at(D),_*$+L*dt(D))),a+=T?E+N*Qt:E,T^p>=n^y>=n){var O=zo(kr(d),kr(v));ls(O);var P=zo(o,O);ls(P);var S=(T^E>=0?-1:1)*ue(P[2]);(r>S||r===S&&(O[0]||O[1]))&&(f+=T^E>=0?1:-1)}}return(a<-ft||a<ft&&s<-Nd)^f&1}function Pd(t,e,n,r){return function(i){var o=e(i),a=Rd(),f=e(a),s=!1,u,c,h,l={point:d,lineStart:m,lineEnd:g,polygonStart:function(){l.point=_,l.lineStart=b,l.lineEnd=v,c=[],u=[]},polygonEnd:function(){l.point=d,l.lineStart=m,l.lineEnd=g,c=Wh(c);var y=Nw(u,r);c.length?(s||(i.polygonStart(),s=!0),Id(c,Fw,y,n,i)):y&&(s||(i.polygonStart(),s=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,w){t(y,w)&&i.point(y,w)}function p(y,w){o.point(y,w)}function m(){l.point=p,o.lineStart()}function g(){l.point=d,o.lineEnd()}function _(y,w){h.push([y,w]),f.point(y,w)}function b(){f.lineStart(),h=[]}function v(){_(h[0][0],h[0][1]),f.lineEnd();var y=f.clean(),w=a.result(),x,$=w.length,E,N,D;if(h.pop(),u.push(h),h=null,!!$){if(y&1){if(N=w[0],(E=N.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),x=0;x<E;++x)i.point((D=N[x])[0],D[1]);i.lineEnd()}return}$>1&&y&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(Dw))}}return l}}function Dw(t){return t.length>1}function Fw(t,e){return((t=t.x)[0]<0?t[1]-kt-ft:kt-t[1])-((e=e.x)[0]<0?e[1]-kt-ft:kt-e[1])}const Pc=Pd(function(){return!0},Lw,Iw,[-pt,-kt]);function Lw(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?pt:-pt,s=yt(o-e);yt(s-pt)<ft?(t.point(e,n=(n+a)/2>0?kt:-kt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(o,n),i=0):r!==f&&s>=pt&&(yt(e-r)<ft&&(e-=r*ft),yt(o-f)<ft&&(o-=f*ft),n=Rw(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=o,n=a),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Rw(t,e,n,r){var i,o,a=at(t-n);return yt(a)>ft?Pr((at(e)*(o=dt(r))*at(n)-at(r)*(i=dt(e))*at(t))/(i*o*a)):(e+r)/2}function Iw(t,e,n,r){var i;if(t==null)i=n*kt,r.point(-pt,i),r.point(0,i),r.point(pt,i),r.point(pt,0),r.point(pt,-i),r.point(0,-i),r.point(-pt,-i),r.point(-pt,0),r.point(-pt,i);else if(yt(t[0]-e[0])>ft){var o=t[0]<e[0]?pt:-pt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Pw(t){var e=dt(t),n=6*Tt,r=e>0,i=yt(e)>ft;function o(c,h,l,d){Cw(d,t,n,l,c,h)}function a(c,h){return dt(c)*dt(h)>e}function f(c){var h,l,d,p,m;return{lineStart:function(){p=d=!1,m=1},point:function(g,_){var b=[g,_],v,y=a(g,_),w=r?y?0:u(g,_):y?u(g+(g<0?pt:-pt),_):0;if(!h&&(p=d=y)&&c.lineStart(),y!==d&&(v=s(h,b),(!v||Mo(h,v)||Mo(b,v))&&(b[2]=1)),y!==d)m=0,y?(c.lineStart(),v=s(b,h),c.point(v[0],v[1])):(v=s(h,b),c.point(v[0],v[1],2),c.lineEnd()),h=v;else if(i&&h&&r^y){var x;!(w&l)&&(x=s(b,h,!0))&&(m=0,r?(c.lineStart(),c.point(x[0][0],x[0][1]),c.point(x[1][0],x[1][1]),c.lineEnd()):(c.point(x[1][0],x[1][1]),c.lineEnd(),c.lineStart(),c.point(x[0][0],x[0][1],3)))}y&&(!h||!Mo(h,b))&&c.point(b[0],b[1]),h=b,d=y,l=w},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return m|(p&&d)<<1}}}function s(c,h,l){var d=kr(c),p=kr(h),m=[1,0,0],g=zo(d,p),_=no(g,g),b=g[0],v=_-b*b;if(!v)return!l&&c;var y=e*_/v,w=-e*b/v,x=zo(m,g),$=ro(m,y),E=ro(g,w);gf($,E);var N=x,D=no($,N),T=no(N,N),L=D*D-T*(no($,$)-1);if(!(L<0)){var O=Xt(L),P=ro(N,(-D-O)/T);if(gf(P,$),P=cs(P),!l)return P;var S=c[0],z=h[0],G=c[1],j=h[1],X;z<S&&(X=S,S=z,z=X);var q=z-S,B=yt(q-pt)<ft,U=B||q<ft;if(!B&&j<G&&(X=G,G=j,j=X),U?B?G+j>0^P[1]<(yt(P[0]-S)<ft?G:j):G<=P[1]&&P[1]<=j:q>pt^(S<=P[0]&&P[0]<=z)){var H=ro(N,(-D+O)/T);return gf(H,$),[P,cs(H)]}}}function u(c,h){var l=r?t:pt-t,d=0;return c<-l?d|=1:c>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return Pd(a,f,o,r?[0,-t]:[-pt,t-pt])}function Ow(t,e,n,r,i,o){var a=t[0],f=t[1],s=e[0],u=e[1],c=0,h=1,l=s-a,d=u-f,p;if(p=n-a,!(!l&&p>0)){if(p/=l,l<0){if(p<c)return;p<h&&(h=p)}else if(l>0){if(p>h)return;p>c&&(c=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>h)return;p>c&&(c=p)}else if(l>0){if(p<c)return;p<h&&(h=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>c&&(c=p)}if(p=o-f,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<h&&(h=p)}return c>0&&(t[0]=a+c*l,t[1]=f+c*d),h<1&&(e[0]=a+h*l,e[1]=f+h*d),!0}}}}}var Jr=1e9,oo=-Jr;function Od(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function o(u,c,h,l){var d=0,p=0;if(u==null||(d=a(u,h))!==(p=a(c,h))||s(u,c)<0^h>0)do l.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==p);else l.point(c[0],c[1])}function a(u,c){return yt(u[0]-t)<ft?c>0?0:3:yt(u[0]-n)<ft?c>0?2:1:yt(u[1]-e)<ft?c>0?1:0:c>0?3:2}function f(u,c){return s(u.x,c.x)}function s(u,c){var h=a(u,1),l=a(c,1);return h!==l?h-l:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=Rd(),l,d,p,m,g,_,b,v,y,w,x,$={point:E,lineStart:L,lineEnd:O,polygonStart:D,polygonEnd:T};function E(S,z){i(S,z)&&c.point(S,z)}function N(){for(var S=0,z=0,G=d.length;z<G;++z)for(var j=d[z],X=1,q=j.length,B=j[0],U,H,J=B[0],Z=B[1];X<q;++X)U=J,H=Z,B=j[X],J=B[0],Z=B[1],H<=r?Z>r&&(J-U)*(r-H)>(Z-H)*(t-U)&&++S:Z<=r&&(J-U)*(r-H)<(Z-H)*(t-U)&&--S;return S}function D(){c=h,l=[],d=[],x=!0}function T(){var S=N(),z=x&&S,G=(l=Wh(l)).length;(z||G)&&(u.polygonStart(),z&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),G&&Id(l,f,S,o,u),u.polygonEnd()),c=u,l=d=p=null}function L(){$.point=P,d&&d.push(p=[]),w=!0,y=!1,b=v=NaN}function O(){l&&(P(m,g),_&&y&&h.rejoin(),l.push(h.result())),$.point=E,y&&c.lineEnd()}function P(S,z){var G=i(S,z);if(d&&p.push([S,z]),w)m=S,g=z,_=G,w=!1,G&&(c.lineStart(),c.point(S,z));else if(G&&y)c.point(S,z);else{var j=[b=Math.max(oo,Math.min(Jr,b)),v=Math.max(oo,Math.min(Jr,v))],X=[S=Math.max(oo,Math.min(Jr,S)),z=Math.max(oo,Math.min(Jr,z))];Ow(j,X,t,e,n,r)?(y||(c.lineStart(),c.point(j[0],j[1])),c.point(X[0],X[1]),G||c.lineEnd(),x=!1):G&&(c.lineStart(),c.point(S,z),x=!1)}b=S,v=z,y=G}return $}}const ps=t=>t;var yf=new Pn,ms=new Pn,Ud,Bd,gs,bs,sn={point:oe,lineStart:oe,lineEnd:oe,polygonStart:function(){sn.lineStart=Uw,sn.lineEnd=zw},polygonEnd:function(){sn.lineStart=sn.lineEnd=sn.point=oe,yf.add(yt(ms)),ms=new Pn},result:function(){var t=yf/2;return yf=new Pn,t}};function Uw(){sn.point=Bw}function Bw(t,e){sn.point=zd,Ud=gs=t,Bd=bs=e}function zd(t,e){ms.add(bs*t-gs*e),gs=t,bs=e}function zw(){zd(Ud,Bd)}const Oc=sn;var Er=1/0,qo=Er,yi=-Er,Yo=yi,qw={point:Yw,lineStart:oe,lineEnd:oe,polygonStart:oe,polygonEnd:oe,result:function(){var t=[[Er,qo],[yi,Yo]];return yi=Yo=-(qo=Er=1/0),t}};function Yw(t,e){t<Er&&(Er=t),t>yi&&(yi=t),e<qo&&(qo=e),e>Yo&&(Yo=e)}const Ho=qw;var ys=0,_s=0,ti=0,Wo=0,Go=0,hr=0,ws=0,vs=0,ei=0,qd,Yd,Te,ke,de={point:Yn,lineStart:Uc,lineEnd:Bc,polygonStart:function(){de.lineStart=Gw,de.lineEnd=Vw},polygonEnd:function(){de.point=Yn,de.lineStart=Uc,de.lineEnd=Bc},result:function(){var t=ei?[ws/ei,vs/ei]:hr?[Wo/hr,Go/hr]:ti?[ys/ti,_s/ti]:[NaN,NaN];return ys=_s=ti=Wo=Go=hr=ws=vs=ei=0,t}};function Yn(t,e){ys+=t,_s+=e,++ti}function Uc(){de.point=Hw}function Hw(t,e){de.point=Ww,Yn(Te=t,ke=e)}function Ww(t,e){var n=t-Te,r=e-ke,i=Xt(n*n+r*r);Wo+=i*(Te+t)/2,Go+=i*(ke+e)/2,hr+=i,Yn(Te=t,ke=e)}function Bc(){de.point=Yn}function Gw(){de.point=Xw}function Vw(){Hd(qd,Yd)}function Xw(t,e){de.point=Hd,Yn(qd=Te=t,Yd=ke=e)}function Hd(t,e){var n=t-Te,r=e-ke,i=Xt(n*n+r*r);Wo+=i*(Te+t)/2,Go+=i*(ke+e)/2,hr+=i,i=ke*t-Te*e,ws+=i*(Te+t),vs+=i*(ke+e),ei+=i*3,Yn(Te=t,ke=e)}const zc=de;function Wd(t){this._context=t}Wd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Qt);break}}},result:oe};var xs=new Pn,_f,Gd,Vd,ni,ri,Vo={point:oe,lineStart:function(){Vo.point=jw},lineEnd:function(){_f&&Xd(Gd,Vd),Vo.point=oe},polygonStart:function(){_f=!0},polygonEnd:function(){_f=null},result:function(){var t=+xs;return xs=new Pn,t}};function jw(t,e){Vo.point=Xd,Gd=ni=t,Vd=ri=e}function Xd(t,e){ni-=t,ri-=e,xs.add(Xt(ni*ni+ri*ri)),ni=t,ri=e}const qc=Vo;let Yc,Xo,Hc,Wc;class Gc{constructor(e){this._append=e==null?jd:Zw(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Hc||this._append!==Xo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Hc=r,Xo=this._append,Wc=this._,this._=i}this._+=Wc;break}}}result(){const e=this._;return this._="",e.length?e:null}}function jd(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Zw(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return jd;if(e!==Yc){const n=10**e;Yc=e,Xo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Xo}function ou(t,e){let n=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),kn(f,i(o))),o.result()}return a.area=function(f){return kn(f,i(Oc)),Oc.result()},a.measure=function(f){return kn(f,i(qc)),qc.result()},a.bounds=function(f){return kn(f,i(Ho)),Ho.result()},a.centroid=function(f){return kn(f,i(zc)),zc.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,ps):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(e=null,new Gc(n)):new Wd(e=f),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const s=Math.floor(f);if(!(s>=0))throw new RangeError(`invalid digits: ${f}`);n=s}return e===null&&(o=new Gc(n)),a},a.projection(t).digits(n).context(e)}function Ms(t){return{stream:Aa(t)}}function Aa(t){return function(e){var n=new $s;for(var r in t)n[r]=t[r];return n.stream=e,n}}function $s(){}$s.prototype={constructor:$s,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function au(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),kn(n,t.stream(Ho)),e(Ho.result()),r!=null&&t.clipExtent(r),t}function fu(t,e,n){return au(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,s=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,s])},n)}function Zd(t,e,n){return fu(t,[[0,0],e],n)}function Kd(t,e,n){return au(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},n)}function Qd(t,e,n){return au(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},n)}var Vc=16,Kw=dt(30*Tt);function Xc(t,e){return+e?Jw(t,e):Qw(t)}function Qw(t){return Aa({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Jw(t,e){function n(r,i,o,a,f,s,u,c,h,l,d,p,m,g){var _=u-r,b=c-i,v=_*_+b*b;if(v>4*e&&m--){var y=a+l,w=f+d,x=s+p,$=Xt(y*y+w*w+x*x),E=ue(x/=$),N=yt(yt(x)-1)<ft||yt(o-h)<ft?(o+h)/2:je(w,y),D=t(N,E),T=D[0],L=D[1],O=T-r,P=L-i,S=b*O-_*P;(S*S/v>e||yt((_*O+b*P)/v-.5)>.3||a*l+f*d+s*p<Kw)&&(n(r,i,o,a,f,s,T,L,N,y/=$,w/=$,x,m,g),g.point(T,L),n(T,L,N,y,w,x,u,c,h,l,d,p,m,g))}}return function(r){var i,o,a,f,s,u,c,h,l,d,p,m,g={point:_,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),g.lineStart=w},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function _(E,N){E=t(E,N),r.point(E[0],E[1])}function b(){h=NaN,g.point=v,r.lineStart()}function v(E,N){var D=kr([E,N]),T=t(E,N);n(h,l,c,d,p,m,h=T[0],l=T[1],c=E,d=D[0],p=D[1],m=D[2],Vc,r),r.point(h,l)}function y(){g.point=_,r.lineEnd()}function w(){b(),g.point=x,g.lineEnd=$}function x(E,N){v(i=E,N),o=h,a=l,f=d,s=p,u=m,g.point=v}function $(){n(h,l,c,d,p,m,o,a,i,f,s,u,Vc,r),g.lineEnd=y,y()}return g}}var tv=Aa({point:function(t,e){this.stream.point(t*Tt,e*Tt)}});function ev(t){return Aa({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function nv(t,e,n,r,i){function o(a,f){return a*=r,f*=i,[e+t*a,n-t*f]}return o.invert=function(a,f){return[(a-e)/t*r,(n-f)/t*i]},o}function jc(t,e,n,r,i,o){if(!o)return nv(t,e,n,r,i);var a=dt(o),f=at(o),s=a*t,u=f*t,c=a/t,h=f/t,l=(f*n-a*e)/t,d=(f*e+a*n)/t;function p(m,g){return m*=r,g*=i,[s*m-u*g+e,n-u*m-s*g]}return p.invert=function(m,g){return[r*(c*m-h*g+l),i*(d-h*m-c*g)]},p}function _n(t){return Jd(function(){return t})()}function Jd(t){var e,n=150,r=480,i=250,o=0,a=0,f=0,s=0,u=0,c,h=0,l=1,d=1,p=null,m=Pc,g=null,_,b,v,y=ps,w=.5,x,$,E,N,D;function T(S){return E(S[0]*Tt,S[1]*Tt)}function L(S){return S=E.invert(S[0],S[1]),S&&[S[0]*Yt,S[1]*Yt]}T.stream=function(S){return N&&D===S?N:N=tv(ev(c)(m(x(y(D=S)))))},T.preclip=function(S){return arguments.length?(m=S,p=void 0,P()):m},T.postclip=function(S){return arguments.length?(y=S,g=_=b=v=null,P()):y},T.clipAngle=function(S){return arguments.length?(m=+S?Pw(p=S*Tt):(p=null,Pc),P()):p*Yt},T.clipExtent=function(S){return arguments.length?(y=S==null?(g=_=b=v=null,ps):Od(g=+S[0][0],_=+S[0][1],b=+S[1][0],v=+S[1][1]),P()):g==null?null:[[g,_],[b,v]]},T.scale=function(S){return arguments.length?(n=+S,O()):n},T.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],O()):[r,i]},T.center=function(S){return arguments.length?(o=S[0]%360*Tt,a=S[1]%360*Tt,O()):[o*Yt,a*Yt]},T.rotate=function(S){return arguments.length?(f=S[0]%360*Tt,s=S[1]%360*Tt,u=S.length>2?S[2]%360*Tt:0,O()):[f*Yt,s*Yt,u*Yt]},T.angle=function(S){return arguments.length?(h=S%360*Tt,O()):h*Yt},T.reflectX=function(S){return arguments.length?(l=S?-1:1,O()):l<0},T.reflectY=function(S){return arguments.length?(d=S?-1:1,O()):d<0},T.precision=function(S){return arguments.length?(x=Xc($,w=S*S),P()):Xt(w)},T.fitExtent=function(S,z){return fu(T,S,z)},T.fitSize=function(S,z){return Zd(T,S,z)},T.fitWidth=function(S,z){return Kd(T,S,z)},T.fitHeight=function(S,z){return Qd(T,S,z)};function O(){var S=jc(n,0,0,l,d,h).apply(null,e(o,a)),z=jc(n,r-S[0],i-S[1],l,d,h);return c=Ld(f,s,u),$=hs(e,z),E=hs(c,$),x=Xc($,w),P()}function P(){return N=D=null,T}return function(){return e=t.apply(this,arguments),T.invert=e.invert&&L,O()}}function su(t){var e=0,n=pt/3,r=Jd(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*Tt,n=o[1]*Tt):[e*Yt,n*Yt]},i}function rv(t){var e=dt(t);function n(r,i){return[r*e,at(i)/e]}return n.invert=function(r,i){return[r/e,ue(i*e)]},n}function iv(t,e){var n=at(t),r=(n+at(e))/2;if(yt(r)<ft)return rv(t);var i=1+n*(2*r-n),o=Xt(i)/r;function a(f,s){var u=Xt(i-2*r*at(s))/r;return[u*at(f*=r),o-u*dt(f)]}return a.invert=function(f,s){var u=o-s,c=je(f,yt(u))*ie(u);return u*r<0&&(c-=pt*ie(f)*ie(u)),[c/r,ue((i-(f*f+u*u)*r*r)/(2*r))]},a}function jo(){return su(iv).scale(155.424).center([0,33.6442])}function t0(){return jo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ov(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function av(){var t,e,n=t0(),r,i=jo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=jo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,u={point:function(l,d){s=[l,d]}};function c(l){var d=l[0],p=l[1];return s=null,r.point(d,p),s||(o.point(d,p),s)||(f.point(d,p),s)}c.invert=function(l){var d=n.scale(),p=n.translate(),m=(l[0]-p[0])/d,g=(l[1]-p[1])/d;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:n).invert(l)},c.stream=function(l){return t&&e===l?t:t=ov([n.stream(e=l),i.stream(l),a.stream(l)])},c.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),h()):n.precision()},c.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),c.translate(n.translate())):n.scale()},c.translate=function(l){if(!arguments.length)return n.translate();var d=n.scale(),p=+l[0],m=+l[1];return r=n.translate(l).clipExtent([[p-.455*d,m-.238*d],[p+.455*d,m+.238*d]]).stream(u),o=i.translate([p-.307*d,m+.201*d]).clipExtent([[p-.425*d+ft,m+.12*d+ft],[p-.214*d-ft,m+.234*d-ft]]).stream(u),f=a.translate([p-.205*d,m+.212*d]).clipExtent([[p-.214*d+ft,m+.166*d+ft],[p-.115*d-ft,m+.234*d-ft]]).stream(u),h()},c.fitExtent=function(l,d){return fu(c,l,d)},c.fitSize=function(l,d){return Zd(c,l,d)},c.fitWidth=function(l,d){return Kd(c,l,d)},c.fitHeight=function(l,d){return Qd(c,l,d)};function h(){return t=e=null,c}return c.scale(1070)}function e0(t){return function(e,n){var r=dt(e),i=dt(n),o=t(r*i);return o===1/0?[2,0]:[o*i*at(e),o*at(n)]}}function Di(t){return function(e,n){var r=Xt(e*e+n*n),i=t(r),o=at(i),a=dt(i);return[je(e*o,r*a),ue(r&&n*o/r)]}}var n0=e0(function(t){return Xt(2/(1+t))});n0.invert=Di(function(t){return 2*ue(t/2)});function fv(){return _n(n0).scale(124.75).clipAngle(180-.001)}var r0=e0(function(t){return(t=Fd(t))&&t/at(t)});r0.invert=Di(function(t){return t});function sv(){return _n(r0).scale(79.4188).clipAngle(180-.001)}function Ca(t,e){return[t,Uo(iu((kt+e)/2))]}Ca.invert=function(t,e){return[t,2*Pr(Dd(e))-kt]};function uv(){return i0(Ca).scale(961/Qt)}function i0(t){var e=_n(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,f,s,u;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(i(h),c()):i()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=f=s=u=null:(a=+h[0][0],f=+h[0][1],s=+h[1][0],u=+h[1][1]),c()):a==null?null:[[a,f],[s,u]]};function c(){var h=pt*r(),l=e(Aw(e.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===Ca?[[Math.max(l[0]-h,a),f],[Math.min(l[0]+h,s),u]]:[[a,Math.max(l[1]-h,f)],[s,Math.min(l[1]+h,u)]])}return c()}function ao(t){return iu((kt+t)/2)}function cv(t,e){var n=dt(t),r=t===e?at(t):Uo(n/dt(e))/Uo(ao(e)/ao(t)),i=n*mf(ao(t),r)/r;if(!r)return Ca;function o(a,f){i>0?f<-kt+ft&&(f=-kt+ft):f>kt-ft&&(f=kt-ft);var s=i/mf(ao(f),r);return[s*at(r*a),i-s*dt(r*a)]}return o.invert=function(a,f){var s=i-f,u=ie(r)*Xt(a*a+s*s),c=je(a,yt(s))*ie(s);return s*r<0&&(c-=pt*ie(a)*ie(s)),[c/r,2*Pr(mf(i/u,1/r))-kt]},o}function lv(){return su(cv).scale(109.5).parallels([30,30])}function Zo(t,e){return[t,e]}Zo.invert=Zo;function hv(){return _n(Zo).scale(152.63)}function dv(t,e){var n=dt(t),r=t===e?at(t):(n-dt(e))/(e-t),i=n/r+t;if(yt(r)<ft)return Zo;function o(a,f){var s=i-f,u=r*a;return[s*at(u),i-s*dt(u)]}return o.invert=function(a,f){var s=i-f,u=je(a,yt(s))*ie(s);return s*r<0&&(u-=pt*ie(a)*ie(s)),[u/r,i-ie(r)*Xt(a*a+s*s)]},o}function pv(){return su(dv).scale(131.154).center([0,13.9389])}var fi=1.340264,si=-.081106,ui=893e-6,ci=.003796,Ko=Xt(3)/2,mv=12;function o0(t,e){var n=ue(Ko*at(e)),r=n*n,i=r*r*r;return[t*dt(n)/(Ko*(fi+3*si*r+i*(7*ui+9*ci*r))),n*(fi+si*r+i*(ui+ci*r))]}o0.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,f,s;o<mv&&(f=n*(fi+si*r+i*(ui+ci*r))-e,s=fi+3*si*r+i*(7*ui+9*ci*r),n-=a=f/s,r=n*n,i=r*r*r,!(yt(a)<Nd));++o);return[Ko*t*(fi+3*si*r+i*(7*ui+9*ci*r))/dt(n),ue(at(n)/Ko)]};function gv(){return _n(o0).scale(177.158)}function a0(t,e){var n=dt(e),r=dt(t)*n;return[n*at(t)/r,at(e)/r]}a0.invert=Di(Pr);function bv(){return _n(a0).scale(144.049).clipAngle(60)}function f0(t,e){return[dt(e)*at(t),at(e)]}f0.invert=Di(ue);function yv(){return _n(f0).scale(249.5).clipAngle(90+ft)}function s0(t,e){var n=dt(e),r=1+dt(t)*n;return[n*at(t)/r,at(e)/r]}s0.invert=Di(function(t){return 2*Pr(t)});function _v(){return _n(s0).scale(250).clipAngle(142)}function u0(t,e){return[Uo(iu((kt+e)/2)),-t]}u0.invert=function(t,e){return[-e,2*Pr(Dd(t))-kt]};function wv(){var t=i0(u0),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Re(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Na(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ss=Symbol("implicit");function uu(){var t=new On,e=[],n=[],r=Ss;function i(o){let a=t.get(o);if(a===void 0){if(r!==Ss)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new On;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uu(e,n).unknown(r)},Re.apply(i,arguments),i}function Da(){var t=uu().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,f=!1,s=0,u=0,c=.5;delete t.unknown;function h(){var l=e().length,d=i<r,p=d?i:r,m=d?r:i;o=(m-p)/Math.max(1,l-s+u*2),f&&(o=Math.floor(o)),p+=(m-p-o*(l-s))*c,a=o*(1-s),f&&(p=Math.round(p),a=Math.round(a));var g=jf(l).map(function(_){return p+o*_});return n(d?g.reverse():g)}return t.domain=function(l){return arguments.length?(e(l),h()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(s=Math.min(1,u=+l),h()):s},t.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),h()):s},t.paddingOuter=function(l){return arguments.length?(u=+l,h()):u},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),h()):c},t.copy=function(){return Da(e(),[r,i]).round(f).paddingInner(s).paddingOuter(u).align(c)},Re.apply(h(),arguments)}function c0(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c0(e())},t}function vv(){return c0(Da.apply(null,arguments).paddingInner(1))}function xv(t){return function(){return t}}function Ts(t){return+t}var Zc=[0,1];function ae(t){return t}function ks(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xv(isNaN(e)?NaN:.5)}function Mv(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $v(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ks(i,r),o=n(a,o)):(r=ks(r,i),o=n(o,a)),function(f){return o(r(f))}}function Sv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ks(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(f){var s=_a(t,f,1,r)-1;return o[s](i[s](f))}}function Fi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fa(){var t=Zc,e=Zc,n=Ni,r,i,o,a=ae,f,s,u;function c(){var l=Math.min(t.length,e.length);return a!==ae&&(a=Mv(t[0],t[l-1])),f=l>2?Sv:$v,s=u=null,h}function h(l){return l==null||isNaN(l=+l)?o:(s||(s=f(t.map(r),e,n)))(r(a(l)))}return h.invert=function(l){return a(i((u||(u=f(e,t.map(r),Ot)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,Ts),c()):t.slice()},h.range=function(l){return arguments.length?(e=Array.from(l),c()):e.slice()},h.rangeRound=function(l){return e=Array.from(l),n=Qs,c()},h.clamp=function(l){return arguments.length?(a=l?!0:ae,c()):a!==ae},h.interpolate=function(l){return arguments.length?(n=l,c()):n},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,c()}}function l0(){return Fa()(ae,ae)}function Tv(t,e,n,r){var i=Vf(t,e,n),o;switch(r=bi(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=kw(i,a))&&(r.precision=o),Cd(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ew(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Tw(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ir(r)}function Li(t){var e=t.domain;return t.ticks=function(n){var r=e();return di(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Tv(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],f=r[o],s,u,c=10;for(f<a&&(u=a,a=f,f=u,u=i,i=o,o=u);c-- >0;){if(u=Co(a,f,n),u===s)return r[i]=a,r[o]=f,e(r);if(u>0)a=Math.floor(a/u)*u,f=Math.ceil(f/u)*u;else if(u<0)a=Math.ceil(a*u)/u,f=Math.floor(f*u)/u;else break;s=u}return t},t}function cu(){var t=l0();return t.copy=function(){return Fi(t,cu())},Re.apply(t,arguments),Li(t)}function h0(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ts),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return h0(t).unknown(e)},t=arguments.length?Array.from(t,Ts):[0,1],Li(n)}function d0(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Kc(t){return Math.log(t)}function Qc(t){return Math.exp(t)}function kv(t){return-Math.log(-t)}function Ev(t){return-Math.exp(-t)}function Av(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Cv(t){return t===10?Av:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Nv(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Jc(t){return(e,n)=>-t(-e,n)}function p0(t){const e=t(Kc,Qc),n=e.domain;let r=10,i,o;function a(){return i=Nv(r),o=Cv(r),n()[0]<0?(i=Jc(i),o=Jc(o),t(kv,Ev)):t(Kc,Qc),e}return e.base=function(f){return arguments.length?(r=+f,a()):r},e.domain=function(f){return arguments.length?(n(f),a()):n()},e.ticks=f=>{const s=n();let u=s[0],c=s[s.length-1];const h=c<u;h&&([u,c]=[c,u]);let l=i(u),d=i(c),p,m;const g=f==null?10:+f;let _=[];if(!(r%1)&&d-l<g){if(l=Math.floor(l),d=Math.ceil(d),u>0){for(;l<=d;++l)for(p=1;p<r;++p)if(m=l<0?p/o(-l):p*o(l),!(m<u)){if(m>c)break;_.push(m)}}else for(;l<=d;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/o(-l):p*o(l),!(m<u)){if(m>c)break;_.push(m)}_.length*2<g&&(_=di(u,c,g))}else _=di(l,d,Math.min(d-l,g)).map(o);return h?_.reverse():_},e.tickFormat=(f,s)=>{if(f==null&&(f=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=bi(s)).precision==null&&(s.trim=!0),s=Ir(s)),f===1/0)return s;const u=Math.max(1,r*f/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?s(c):""}},e.nice=()=>n(d0(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),e}function m0(){const t=p0(Fa()).domain([1,10]);return t.copy=()=>Fi(t,m0()).base(t.base()),Re.apply(t,arguments),t}function tl(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function el(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function g0(t){var e=1,n=t(tl(e),el(e));return n.constant=function(r){return arguments.length?t(tl(e=+r),el(e)):e},Li(n)}function b0(){var t=g0(Fa());return t.copy=function(){return Fi(t,b0()).constant(t.constant())},Re.apply(t,arguments)}function nl(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Dv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fv(t){return t<0?-t*t:t*t}function y0(t){var e=t(ae,ae),n=1;function r(){return n===1?t(ae,ae):n===.5?t(Dv,Fv):t(nl(n),nl(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Li(e)}function _0(){var t=y0(Fa());return t.copy=function(){return Fi(t,_0()).exponent(t.exponent())},Re.apply(t,arguments),t}function w0(){var t=[],e=[],n=[],r;function i(){var a=0,f=Math.max(1,e.length);for(n=new Array(f-1);++a<f;)n[a-1]=S2(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:e[_a(n,a)]}return o.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Vt),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return w0().domain(t).range(e).unknown(r)},Re.apply(o,arguments)}function v0(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[_a(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return v0().domain(t).range(e).unknown(n)},Re.apply(i,arguments)}const wf=new Date,vf=new Date;function Nt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const s=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return s;let u;do s.push(u=new Date(+o)),e(o,f),t(o);while(u<o&&o<a);return s},i.filter=o=>Nt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!o(a););else for(;--f>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(wf.setTime(+o),vf.setTime(+a),t(wf),t(vf),Math.floor(n(wf,vf))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Qo=Nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qo);Qo.range;const We=1e3,fe=We*60,Ge=fe*60,Ze=Ge*24,lu=Ze*7,rl=Ze*30,xf=Ze*365,Ee=Nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*We)},(t,e)=>(e-t)/We,t=>t.getUTCSeconds());Ee.range;const La=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*We)},(t,e)=>{t.setTime(+t+e*fe)},(t,e)=>(e-t)/fe,t=>t.getMinutes());La.range;const Ri=Nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fe)},(t,e)=>(e-t)/fe,t=>t.getUTCMinutes());Ri.range;const Ra=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*We-t.getMinutes()*fe)},(t,e)=>{t.setTime(+t+e*Ge)},(t,e)=>(e-t)/Ge,t=>t.getHours());Ra.range;const Ii=Nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ge)},(t,e)=>(e-t)/Ge,t=>t.getUTCHours());Ii.range;const jn=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fe)/Ze,t=>t.getDate()-1);jn.range;const Ia=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ze,t=>t.getUTCDate()-1);Ia.range;const Pa=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ze,t=>Math.floor(t/Ze));Pa.range;function Zn(t){return Nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fe)/lu)}const Ar=Zn(0),_i=Zn(1),x0=Zn(2),M0=Zn(3),Hn=Zn(4),$0=Zn(5),S0=Zn(6);Ar.range;_i.range;x0.range;M0.range;Hn.range;$0.range;S0.range;function Kn(t){return Nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lu)}const Cr=Kn(0),wi=Kn(1),T0=Kn(2),k0=Kn(3),Wn=Kn(4),E0=Kn(5),A0=Kn(6);Cr.range;wi.range;T0.range;k0.range;Wn.range;E0.range;A0.range;const Pi=Nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Pi.range;const Oi=Nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Oi.range;const ge=Nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ge.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ge.range;const be=Nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());be.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});be.range;function C0(t,e,n,r,i,o){const a=[[Ee,1,We],[Ee,5,5*We],[Ee,15,15*We],[Ee,30,30*We],[o,1,fe],[o,5,5*fe],[o,15,15*fe],[o,30,30*fe],[i,1,Ge],[i,3,3*Ge],[i,6,6*Ge],[i,12,12*Ge],[r,1,Ze],[r,2,2*Ze],[n,1,lu],[e,1,rl],[e,3,3*rl],[t,1,xf]];function f(u,c,h){const l=c<u;l&&([u,c]=[c,u]);const d=h&&typeof h.range=="function"?h:s(u,c,h),p=d?d.range(u,+c+1):[];return l?p.reverse():p}function s(u,c,h){const l=Math.abs(c-u)/h,d=ya(([,,g])=>g).right(a,l);if(d===a.length)return t.every(Vf(u/xf,c/xf,h));if(d===0)return Qo.every(Math.max(Vf(u,c,h),1));const[p,m]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return p.every(m)}return[f,s]}const[Lv,N0]=C0(be,Oi,Cr,Pa,Ii,Ri),[Rv,Iv]=C0(ge,Pi,Ar,jn,Ra,La);function Mf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $f(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Pv(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,s=t.shortMonths,u=Vr(i),c=Xr(i),h=Vr(o),l=Xr(o),d=Vr(a),p=Xr(a),m=Vr(f),g=Xr(f),_=Vr(s),b=Xr(s),v={a:G,A:j,b:X,B:q,c:null,d:ul,e:ul,f:a3,g:g3,G:y3,H:r3,I:i3,j:o3,L:D0,m:f3,M:s3,p:B,q:U,Q:hl,s:dl,S:u3,u:c3,U:l3,V:h3,w:d3,W:p3,x:null,X:null,y:m3,Y:b3,Z:_3,"%":ll},y={a:H,A:J,b:Z,B:V,c:null,d:cl,e:cl,f:M3,g:F3,G:R3,H:w3,I:v3,j:x3,L:L0,m:$3,M:S3,p:F,q:R,Q:hl,s:dl,S:T3,u:k3,U:E3,V:A3,w:C3,W:N3,x:null,X:null,y:D3,Y:L3,Z:I3,"%":ll},w={a:D,A:T,b:L,B:O,c:P,d:fl,e:fl,f:Jv,g:al,G:ol,H:sl,I:sl,j:jv,L:Qv,m:Xv,M:Zv,p:N,q:Vv,Q:e3,s:n3,S:Kv,u:qv,U:Yv,V:Hv,w:zv,W:Wv,x:S,X:z,y:al,Y:ol,Z:Gv,"%":t3};v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),y.x=x(n,y),y.X=x(r,y),y.c=x(e,y);function x(k,C){return function(Y){var A=[],et=-1,W=0,lt=k.length,ht,bt,te;for(Y instanceof Date||(Y=new Date(+Y));++et<lt;)k.charCodeAt(et)===37&&(A.push(k.slice(W,et)),(bt=il[ht=k.charAt(++et)])!=null?ht=k.charAt(++et):bt=ht==="e"?" ":"0",(te=C[ht])&&(ht=te(Y,bt)),A.push(ht),W=et+1);return A.push(k.slice(W,et)),A.join("")}}function $(k,C){return function(Y){var A=Gr(1900,void 0,1),et=E(A,k,Y+="",0),W,lt;if(et!=Y.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(C&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(W=$f(Gr(A.y,0,1)),lt=W.getUTCDay(),W=lt>4||lt===0?wi.ceil(W):wi(W),W=Ia.offset(W,(A.V-1)*7),A.y=W.getUTCFullYear(),A.m=W.getUTCMonth(),A.d=W.getUTCDate()+(A.w+6)%7):(W=Mf(Gr(A.y,0,1)),lt=W.getDay(),W=lt>4||lt===0?_i.ceil(W):_i(W),W=jn.offset(W,(A.V-1)*7),A.y=W.getFullYear(),A.m=W.getMonth(),A.d=W.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),lt="Z"in A?$f(Gr(A.y,0,1)).getUTCDay():Mf(Gr(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(lt+5)%7:A.w+A.U*7-(lt+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,$f(A)):Mf(A)}}function E(k,C,Y,A){for(var et=0,W=C.length,lt=Y.length,ht,bt;et<W;){if(A>=lt)return-1;if(ht=C.charCodeAt(et++),ht===37){if(ht=C.charAt(et++),bt=w[ht in il?C.charAt(et++):ht],!bt||(A=bt(k,Y,A))<0)return-1}else if(ht!=Y.charCodeAt(A++))return-1}return A}function N(k,C,Y){var A=u.exec(C.slice(Y));return A?(k.p=c.get(A[0].toLowerCase()),Y+A[0].length):-1}function D(k,C,Y){var A=d.exec(C.slice(Y));return A?(k.w=p.get(A[0].toLowerCase()),Y+A[0].length):-1}function T(k,C,Y){var A=h.exec(C.slice(Y));return A?(k.w=l.get(A[0].toLowerCase()),Y+A[0].length):-1}function L(k,C,Y){var A=_.exec(C.slice(Y));return A?(k.m=b.get(A[0].toLowerCase()),Y+A[0].length):-1}function O(k,C,Y){var A=m.exec(C.slice(Y));return A?(k.m=g.get(A[0].toLowerCase()),Y+A[0].length):-1}function P(k,C,Y){return E(k,e,C,Y)}function S(k,C,Y){return E(k,n,C,Y)}function z(k,C,Y){return E(k,r,C,Y)}function G(k){return a[k.getDay()]}function j(k){return o[k.getDay()]}function X(k){return s[k.getMonth()]}function q(k){return f[k.getMonth()]}function B(k){return i[+(k.getHours()>=12)]}function U(k){return 1+~~(k.getMonth()/3)}function H(k){return a[k.getUTCDay()]}function J(k){return o[k.getUTCDay()]}function Z(k){return s[k.getUTCMonth()]}function V(k){return f[k.getUTCMonth()]}function F(k){return i[+(k.getUTCHours()>=12)]}function R(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var C=x(k+="",v);return C.toString=function(){return k},C},parse:function(k){var C=$(k+="",!1);return C.toString=function(){return k},C},utcFormat:function(k){var C=x(k+="",y);return C.toString=function(){return k},C},utcParse:function(k){var C=$(k+="",!0);return C.toString=function(){return k},C}}}var il={"-":"",_:" ",0:"0"},It=/^\s*\d+/,Ov=/^%/,Uv=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Bv(t){return t.replace(Uv,"\\$&")}function Vr(t){return new RegExp("^(?:"+t.map(Bv).join("|")+")","i")}function Xr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function zv(t,e,n){var r=It.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qv(t,e,n){var r=It.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Yv(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hv(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Wv(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ol(t,e,n){var r=It.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function al(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vv(t,e,n){var r=It.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Xv(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fl(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jv(t,e,n){var r=It.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sl(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Zv(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Kv(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Qv(t,e,n){var r=It.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Jv(t,e,n){var r=It.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function t3(t,e,n){var r=Ov.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function e3(t,e,n){var r=It.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function n3(t,e,n){var r=It.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ul(t,e){return mt(t.getDate(),e,2)}function r3(t,e){return mt(t.getHours(),e,2)}function i3(t,e){return mt(t.getHours()%12||12,e,2)}function o3(t,e){return mt(1+jn.count(ge(t),t),e,3)}function D0(t,e){return mt(t.getMilliseconds(),e,3)}function a3(t,e){return D0(t,e)+"000"}function f3(t,e){return mt(t.getMonth()+1,e,2)}function s3(t,e){return mt(t.getMinutes(),e,2)}function u3(t,e){return mt(t.getSeconds(),e,2)}function c3(t){var e=t.getDay();return e===0?7:e}function l3(t,e){return mt(Ar.count(ge(t)-1,t),e,2)}function F0(t){var e=t.getDay();return e>=4||e===0?Hn(t):Hn.ceil(t)}function h3(t,e){return t=F0(t),mt(Hn.count(ge(t),t)+(ge(t).getDay()===4),e,2)}function d3(t){return t.getDay()}function p3(t,e){return mt(_i.count(ge(t)-1,t),e,2)}function m3(t,e){return mt(t.getFullYear()%100,e,2)}function g3(t,e){return t=F0(t),mt(t.getFullYear()%100,e,2)}function b3(t,e){return mt(t.getFullYear()%1e4,e,4)}function y3(t,e){var n=t.getDay();return t=n>=4||n===0?Hn(t):Hn.ceil(t),mt(t.getFullYear()%1e4,e,4)}function _3(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function cl(t,e){return mt(t.getUTCDate(),e,2)}function w3(t,e){return mt(t.getUTCHours(),e,2)}function v3(t,e){return mt(t.getUTCHours()%12||12,e,2)}function x3(t,e){return mt(1+Ia.count(be(t),t),e,3)}function L0(t,e){return mt(t.getUTCMilliseconds(),e,3)}function M3(t,e){return L0(t,e)+"000"}function $3(t,e){return mt(t.getUTCMonth()+1,e,2)}function S3(t,e){return mt(t.getUTCMinutes(),e,2)}function T3(t,e){return mt(t.getUTCSeconds(),e,2)}function k3(t){var e=t.getUTCDay();return e===0?7:e}function E3(t,e){return mt(Cr.count(be(t)-1,t),e,2)}function R0(t){var e=t.getUTCDay();return e>=4||e===0?Wn(t):Wn.ceil(t)}function A3(t,e){return t=R0(t),mt(Wn.count(be(t),t)+(be(t).getUTCDay()===4),e,2)}function C3(t){return t.getUTCDay()}function N3(t,e){return mt(wi.count(be(t)-1,t),e,2)}function D3(t,e){return mt(t.getUTCFullYear()%100,e,2)}function F3(t,e){return t=R0(t),mt(t.getUTCFullYear()%100,e,2)}function L3(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function R3(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wn(t):Wn.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function I3(){return"+0000"}function ll(){return"%"}function hl(t){return+t}function dl(t){return Math.floor(+t/1e3)}var fr,hu,Ui;P3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P3(t){return fr=Pv(t),hu=fr.format,fr.parse,Ui=fr.utcFormat,fr.utcParse,fr}function O3(t){return new Date(t)}function U3(t){return t instanceof Date?+t:+new Date(+t)}function du(t,e,n,r,i,o,a,f,s,u){var c=l0(),h=c.invert,l=c.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),_=u("%a %d"),b=u("%b %d"),v=u("%B"),y=u("%Y");function w(x){return(s(x)<x?d:f(x)<x?p:a(x)<x?m:o(x)<x?g:r(x)<x?i(x)<x?_:b:n(x)<x?v:y)(x)}return c.invert=function(x){return new Date(h(x))},c.domain=function(x){return arguments.length?l(Array.from(x,U3)):l().map(O3)},c.ticks=function(x){var $=l();return t($[0],$[$.length-1],x??10)},c.tickFormat=function(x,$){return $==null?w:u($)},c.nice=function(x){var $=l();return(!x||typeof x.range!="function")&&(x=e($[0],$[$.length-1],x??10)),x?l(d0($,x)):c},c.copy=function(){return Fi(c,du(t,e,n,r,i,o,a,f,s,u))},c}function B3(){return Re.apply(du(Rv,Iv,ge,Pi,Ar,jn,Ra,La,Ee,hu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z3(){return Re.apply(du(Lv,N0,be,Oi,Cr,Ia,Ii,Ri,Ee,Ui).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ua(){var t=0,e=.5,n=1,r=1,i,o,a,f,s,u=ae,c,h=!1,l;function d(m){return isNaN(m=+m)?l:(m=.5+((m=+c(m))-o)*(r*m<r*o?f:s),u(h?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e,n]=m,i=c(t=+t),o=c(e=+e),a=c(n=+n),f=i===o?0:.5/(o-i),s=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(m){return arguments.length?(h=!!m,d):h},d.interpolator=function(m){return arguments.length?(u=m,d):u};function p(m){return function(g){var _,b,v;return arguments.length?([_,b,v]=g,u=Ta(m,[_,b,v]),d):[u(0),u(.5),u(1)]}}return d.range=p(Ni),d.rangeRound=p(Qs),d.unknown=function(m){return arguments.length?(l=m,d):l},function(m){return c=m,i=m(t),o=m(e),a=m(n),f=i===o?0:.5/(o-i),s=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function I0(){var t=Li(Ua()(ae));return t.copy=function(){return Oa(t,I0())},Na.apply(t,arguments)}function P0(){var t=p0(Ua()).domain([.1,1,10]);return t.copy=function(){return Oa(t,P0()).base(t.base())},Na.apply(t,arguments)}function O0(){var t=g0(Ua());return t.copy=function(){return Oa(t,O0()).constant(t.constant())},Na.apply(t,arguments)}function U0(){var t=y0(Ua());return t.copy=function(){return Oa(t,U0()).exponent(t.exponent())},Na.apply(t,arguments)}function ut(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const q3=ut("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Y3=ut("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),H3=ut("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),W3=ut("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),G3=ut("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),V3=ut("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),X3=ut("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),j3=ut("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Z3=ut("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),K3=ut("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),vt=t=>zy(t[t.length-1]);var B0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ut);const z0=vt(B0);var q0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ut);const Y0=vt(q0);var H0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ut);const W0=vt(H0);var G0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ut);const V0=vt(G0);var Es=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ut);const Jo=vt(Es);var X0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ut);const j0=vt(X0);var As=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ut);const ta=vt(As);var Z0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ut);const K0=vt(Z0);var Q0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ut);const J0=vt(Q0);var tp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ut);const ep=vt(tp);var np=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ut);const rp=vt(np);var ip=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ut);const op=vt(ip);var ap=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ut);const fp=vt(ap);var sp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ut);const up=vt(sp);var cp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ut);const lp=vt(cp);var hp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ut);const dp=vt(hp);var pp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ut);const mp=vt(pp);var gp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ut);const bp=vt(gp);var yp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ut);const _p=vt(yp);var wp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ut);const vp=vt(wp);var xp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ut);const Mp=vt(xp);var $p=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ut);const Sp=vt($p);var Tp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ut);const kp=vt(Tp);var Ep=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ut);const Ap=vt(Ep);var Cp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ut);const Np=vt(Cp);var Dp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ut);const Fp=vt(Dp);var Lp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ut);const Rp=vt(Lp);function Ip(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const Pp=Js(De(300,.5,0),De(-240,.5,1));var Op=Js(De(-100,.75,.35),De(80,1.5,.8)),Up=Js(De(260,.75,.35),De(80,1.5,.8)),fo=De();function Bp(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return fo.h=360*t-100,fo.s=1.5-1.5*e,fo.l=.8-.9*e,fo+""}var so=mn(),Q3=Math.PI/3,J3=Math.PI*2/3;function zp(t){var e;return t=(.5-t)*Math.PI,so.r=255*(e=Math.sin(t))*e,so.g=255*(e=Math.sin(t+Q3))*e,so.b=255*(e=Math.sin(t+J3))*e,so+""}function qp(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ba(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Yp=Ba(ut("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Hp=Ba(ut("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Wp=Ba(ut("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Gp=Ba(ut("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function sr(t){return function(){return t}}const Vp=Math.cos,pu=Math.min,ea=Math.sin,Dt=Math.sqrt,pl=1e-12,na=Math.PI,za=2*na;function t6(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ed(e)}function e6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Xp(t){this._context=t}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qa(t){return new Xp(t)}function n6(t){return t[0]}function r6(t){return t[1]}function i6(t,e){var n=sr(!0),r=null,i=qa,o=null,a=t6(f);t=typeof t=="function"?t:t===void 0?n6:sr(t),e=typeof e=="function"?e:e===void 0?r6:sr(e);function f(s){var u,c=(s=e6(s)).length,h,l=!1,d;for(r==null&&(o=i(d=a())),u=0;u<=c;++u)!(u<c&&n(h=s[u],u,s))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,u,s),+e(h,u,s));if(d)return o=null,d+""||null}return f.x=function(s){return arguments.length?(t=typeof s=="function"?s:sr(+s),f):t},f.y=function(s){return arguments.length?(e=typeof s=="function"?s:sr(+s),f):e},f.defined=function(s){return arguments.length?(n=typeof s=="function"?s:sr(!!s),f):n},f.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),f):i},f.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),f):r},f}class jp{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function o6(t){return new jp(t,!0)}function a6(t){return new jp(t,!1)}const f6=Dt(3),Zp={draw(t,e){const n=Dt(e+pu(e/28,.75))*.59436,r=n/2,i=r*f6;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},mu={draw(t,e){const n=Dt(e/na);t.moveTo(n,0),t.arc(0,0,n,0,za)}},Kp={draw(t,e){const n=Dt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Qp=Dt(1/3),s6=Qp*2,Jp={draw(t,e){const n=Dt(e/s6),r=n*Qp;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},t1={draw(t,e){const n=Dt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},e1={draw(t,e){const n=Dt(e-pu(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},n1={draw(t,e){const n=Dt(e),r=-n/2;t.rect(r,r,n,n)}},r1={draw(t,e){const n=Dt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},u6=.8908130915292852,i1=ea(na/10)/ea(7*na/10),c6=ea(za/10)*i1,l6=-Vp(za/10)*i1,o1={draw(t,e){const n=Dt(e*u6),r=c6*n,i=l6*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=za*o/5,f=Vp(a),s=ea(a);t.lineTo(s*n,-f*n),t.lineTo(f*r-s*i,s*r+f*i)}t.closePath()}},Sf=Dt(3),a1={draw(t,e){const n=-Dt(e/(Sf*3));t.moveTo(0,n*2),t.lineTo(-Sf*n,-n),t.lineTo(Sf*n,-n),t.closePath()}},h6=Dt(3),f1={draw(t,e){const n=Dt(e)*.6824,r=n/2,i=n*h6/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},ee=-.5,ne=Dt(3)/2,Cs=1/Dt(12),d6=(Cs/2+1)*3,s1={draw(t,e){const n=Dt(e/d6),r=n/2,i=n*Cs,o=r,a=n*Cs+n,f=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,s),t.lineTo(ee*r-ne*i,ne*r+ee*i),t.lineTo(ee*o-ne*a,ne*o+ee*a),t.lineTo(ee*f-ne*s,ne*f+ee*s),t.lineTo(ee*r+ne*i,ee*i-ne*r),t.lineTo(ee*o+ne*a,ee*a-ne*o),t.lineTo(ee*f+ne*s,ee*s-ne*f),t.closePath()}},u1={draw(t,e){const n=Dt(e-pu(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},p6=[mu,Kp,Jp,n1,o1,a1,s1],m6=[mu,e1,u1,f1,Zp,r1,t1];function gn(){}function ra(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ya(t){this._context=t}Ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ra(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ra(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g6(t){return new Ya(t)}function c1(t){this._context=t}c1.prototype={areaStart:gn,areaEnd:gn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ra(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b6(t){return new c1(t)}function l1(t){this._context=t}l1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ra(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y6(t){return new l1(t)}function h1(t,e){this._basis=new Ya(t),this._beta=e}h1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,f=-1,s;++f<=n;)s=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+s*o),this._beta*e[f]+(1-this._beta)*(i+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const _6=function t(e){function n(r){return e===1?new Ya(r):new h1(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function ia(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function gu(t,e){this._context=t,this._k=(1-e)/6}gu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ia(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ia(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const w6=function t(e){function n(r){return new gu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function bu(t,e){this._context=t,this._k=(1-e)/6}bu.prototype={areaStart:gn,areaEnd:gn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ia(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const v6=function t(e){function n(r){return new bu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function yu(t,e){this._context=t,this._k=(1-e)/6}yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ia(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const x6=function t(e){function n(r){return new yu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function _u(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>pl){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>pl){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function d1(t,e){this._context=t,this._alpha=e}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:_u(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const M6=function t(e){function n(r){return e?new d1(r,e):new gu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function p1(t,e){this._context=t,this._alpha=e}p1.prototype={areaStart:gn,areaEnd:gn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:_u(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $6=function t(e){function n(r){return e?new p1(r,e):new bu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function m1(t,e){this._context=t,this._alpha=e}m1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_u(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const S6=function t(e){function n(r){return e?new m1(r,e):new yu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function g1(t){this._context=t}g1.prototype={areaStart:gn,areaEnd:gn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function T6(t){return new g1(t)}function ml(t){return t<0?-1:1}function gl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(ml(o)+ml(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function bl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tf(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*e,o-f,a-f*n,o,a)}function oa(t){this._context=t}oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tf(this,this._t0,bl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tf(this,bl(this,n=gl(this,t,e)),n);break;default:Tf(this,this._t0,n=gl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function b1(t){this._context=new y1(t)}(b1.prototype=Object.create(oa.prototype)).point=function(t,e){oa.prototype.point.call(this,e,t)};function y1(t){this._context=t}y1.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function k6(t){return new oa(t)}function E6(t){return new b1(t)}function _1(t){this._context=t}_1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yl(t),i=yl(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yl(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function A6(t){return new _1(t)}function Ha(t,e){this._context=t,this._t=e}Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function C6(t){return new Ha(t,.5)}function N6(t){return new Ha(t,0)}function D6(t){return new Ha(t,1)}function ii(t,e,n){this.k=t,this.x=e,this.y=n}ii.prototype={constructor:ii,scale:function(t){return t===1?this:new ii(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ii(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ii.prototype;function bn(t){return t!=null&&!Number.isNaN(t)}function ye(t,e){return+bn(e)-+bn(t)||Vt(t,e)}function aa(t,e){return+bn(e)-+bn(t)||Ei(t,e)}function wu(t){return t!=null&&`${t}`!=""}function w1(t){return isFinite(t)?t:NaN}function vu(t){return t>0&&isFinite(t)?t:NaN}function v1(t){return t<0&&isFinite(t)?t:NaN}function F6(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${L6(t.getUTCFullYear())}-${Ye(t.getUTCMonth()+1,2)}-${Ye(t.getUTCDate(),2)}${n||r||i||o?`T${Ye(n,2)}:${Ye(r,2)}${i||o?`:${Ye(i,2)}${o?`.${Ye(o,3)}`:""}`:""}Z`:""}`}function L6(t){return t<0?`-${Ye(-t,6)}`:t>9999?`+${Ye(t,6)}`:Ye(t,4)}function Ye(t,e){return`${t}`.padStart(e,"0")}const R6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function x1(t,e){return R6.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const dr=1e3,Cn=dr*60,Nn=Cn*60,Ke=Nn*24,Se=Ke*7,Rn=Ke*30,an=Ke*365,kf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",dr],["5 seconds",5*dr],["15 seconds",15*dr],["30 seconds",30*dr],["minute",Cn],["5 minutes",5*Cn],["15 minutes",15*Cn],["30 minutes",30*Cn],["hour",Nn],["3 hours",3*Nn],["6 hours",6*Nn],["12 hours",12*Nn],["day",Ke],["2 days",2*Ke],["week",Se],["2 weeks",2*Se],["month",Rn],["3 months",3*Rn],["6 months",6*Rn],["year",an],["2 years",2*an],["5 years",5*an],["10 years",10*an],["20 years",20*an],["50 years",50*an],["100 years",100*an]],xu=new Map([["second",dr],["minute",Cn],["hour",Nn],["day",Ke],["monday",Se],["tuesday",Se],["wednesday",Se],["thursday",Se],["friday",Se],["saturday",Se],["sunday",Se],["week",Se],["month",Rn],["year",an]]),M1=new Map([["second",Ee],["minute",La],["hour",Ra],["day",jn],["monday",_i],["tuesday",x0],["wednesday",M0],["thursday",Hn],["friday",$0],["saturday",S0],["sunday",Ar],["week",Ar],["month",Pi],["year",ge]]),$1=new Map([["second",Ee],["minute",Ri],["hour",Ii],["day",Pa],["monday",wi],["tuesday",T0],["wednesday",k0],["thursday",Wn],["friday",E0],["saturday",A0],["sunday",Cr],["week",Cr],["month",Oi],["year",be]]),Bi=Symbol("intervalDuration"),Wa=Symbol("intervalType");for(const[t,e]of M1)e[Bi]=xu.get(t),e[Wa]="time";for(const[t,e]of $1)e[Bi]=xu.get(t),e[Wa]="utc";const I6=[["year",be,"utc"],["year",ge,"time"],["month",Oi,"utc"],["month",Pi,"time"],["day",Pa,"utc",6*Rn],["day",jn,"time",6*Rn],["hour",Ii,"utc",3*Ke],["minute",Ri,"utc",6*Nn],["second",Ee,"utc",30*Cn]];function S1(t,e,n){let r=`${t}`.toLowerCase();r.endsWith("s")&&(r=r.slice(0,-1));let i=1;const o=/^(?:(\d+)\s+)/.exec(r);switch(o&&(r=r.slice(o[0].length),i=+o[1]),r){case"quarter":r="month",i*=3;break;case"half":r="month",i*=6;break}let a=e.get(r);if(!a)throw new Error(`unknown interval: ${t}`);if(i>1){if(!a.every)throw new Error(`non-periodic interval: ${r}`);a=a.every(i),a[Bi]=xu.get(r)*i,a[Wa]=n}return a}function T1(t){return S1(t,M1,"time")}function Mu(t){return S1(t,$1,"utc")}function _l(t,e){if(!(e>1))return;const n=t[Bi];if(!kf.some(([,i])=>i===n)||n%Ke===0&&Ke<n&&n<Rn)return;const[r]=kf[ya(([,i])=>Math.log(i)).center(kf,Math.log(n*e))];return(t[Wa]==="time"?T1:Mu)(r)}function wl(t,e,n){const r=e==="time"?hu:Ui;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=P6(n);switch(t){case"millisecond":return ur(r(".%L"),r(":%M:%S"),i);case"second":return ur(r(":%S"),r("%-I:%M"),i);case"minute":return ur(r("%-I:%M"),r("%p"),i);case"hour":return ur(r("%-I %p"),r("%b %-d"),i);case"day":return ur(r("%-d"),r("%b"),i);case"month":return ur(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function P6(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function O6(t,e){const n=pe(C2(t,(r,i)=>Math.abs(i-r)));if(n<1e3)return wl("millisecond","utc",e);for(const[r,i,o,a]of I6){if(n>a||r==="hour"&&!n)break;if(t.every(f=>i.floor(f)>=f))return wl(r,o,e)}}function ur(t,e,n){return(r,i,o)=>{const a=t(r,i),f=e(r,i),s=i-Dr(o);return i!==s&&o[s]!==void 0&&f===e(o[s],s)?a:n(a,f)}}const vi=Object.getPrototypeOf(Uint8Array),U6=Object.prototype.toString,k1=Symbol("reindex");function Rt(t,e,n){const r=typeof e;return r==="string"?vl(t,E1(e),n):r==="function"?vl(t,e,n):r==="number"||e instanceof Date||r==="boolean"?Ct(t,zi(e),n):typeof(e==null?void 0:e.transform)=="function"?xl(e.transform(t),n):B6(xl(e,n),t==null?void 0:t[k1])}function B6(t,e){return e?Au(t,e):t}function vl(t,e,n){return Ct(t,(n==null?void 0:n.prototype)instanceof vi?z6(e):e,n)}function xl(t,e){return e===void 0?Jt(t):t instanceof e?t:e.prototype instanceof vi&&!(t instanceof vi)?e.from(t,Tu):e.from(t)}function z6(t){return(e,n)=>Tu(t(e,n))}const $o=[null],E1=t=>e=>e[t],$u={transform:Je},Bt={transform:t=>t},q6=()=>1,Y6=()=>!0,Ht=t=>t==null?t:`${t}`,Mt=t=>t==null?t:+t,Su=t=>t?t[0]:void 0,Ns=t=>t?t[1]:void 0,zi=t=>()=>t;function H6(t){const e=+`${t}`.slice(1)/100;return(n,r)=>vr(n,e,r)}function Nr(t){return t instanceof vi?t:Ct(t,Tu,Float64Array)}function Tu(t){return t==null?NaN:Number(t)}function W6(t){return Ct(t,A1)}function A1(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?x1(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Qe(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Ga(t)?[void 0,t]:[t,void 0]}function Zt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function C1(t,e,n){if(t!=null)return Me(t,e,n)}function Me(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Jt(t){return t==null||t instanceof Array||t instanceof vi?t:Array.from(t)}function Ct(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function xi(t,e=Array){return t instanceof e?t.slice():e.from(t)}function G6({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function N1({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function V6(t){return G6(t)||N1(t)||t.interval!==void 0}function wn(t){return(t==null?void 0:t.toString)===U6}function Ds(t){return wn(t)&&(t.type!==void 0||t.domain!==void 0)}function ku(t){return wn(t)&&typeof t.transform!="function"}function Mi(t){return ku(t)&&t.value===void 0&&t.channel===void 0}function X6(t,e,n,r=Bt){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function Eu(t,e){return t===void 0&&e===void 0?[Su,Ns]:[t,e]}function D1({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Qe(e)),t===void 0&&([t]=Qe(n)),t}function Je(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function Au(t,e){return Ct(e,n=>t[n],t.constructor)}function j6(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Dn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Z6(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function fa(t){let e;return[{transform:()=>e,label:Qn(t)},n=>e=n]}function ze(t){return t==null?[t]:fa(t)}function Qn(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function Fs(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return jt(r)||jt(i)?Ct(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):Ct(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function F1(t,e){const n=L1(e==null?void 0:e.interval,e==null?void 0:e.type);return n?Ct(t,n):t}function L1(t,e){const n=Cu(t,e);return n&&(r=>bn(r)?n.floor(r):r)}function Cu(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>jf(Math.ceil(r*n),i*n).map(o=>o/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>jf(Math.ceil(r/n),i/n).map(o=>o*n)}}if(typeof t=="string")return(e==="time"?T1:Mu)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Or(t,e){if(t=Cu(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function K6(t,e){if(t=Or(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Q6(t){return pr(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function pr(t){return typeof(t==null?void 0:t.range)=="function"}function qi(t){return t===void 0||ku(t)?t:{value:t}}function J6(t){return t==null?null:{transform:e=>Rt(e,t,Float64Array),label:Qn(t)}}function vn(t){return t&&typeof t[Symbol.iterator]=="function"}function R1(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function Ml(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function jt(t){for(const e of t)if(e!=null)return e instanceof Date}function t8(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&x1(e)}function e8(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function n8(t){for(const e of t)if(e!=null)return typeof e=="number"}function Ef(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const r8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ga(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||r8.has(t))}function i8(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Wt(t){return t==null||$i(t)}function $i(t){return/^\s*none\s*$/i.test(t)}function o8(t){return/^\s*round\s*$/i.test(t)}function I1(t,e){return C1(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Nu(t="middle"){return I1(t,"frameAnchor")}function Dr(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Ei(e,n)}function a8(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const o=r[i];n===t?n={...n,[i]:o}:n[i]=o}return n}function f8(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function P1(t){return vn(t)?f8(t):t}const Ae=Symbol("position"),tn=Symbol("color"),Yi=Symbol("radius"),Hi=Symbol("length"),Wi=Symbol("opacity"),Va=Symbol("symbol"),O1=Symbol("projection"),Et=new Map([["x",Ae],["y",Ae],["fx",Ae],["fy",Ae],["r",Yi],["color",tn],["opacity",Wi],["symbol",Va],["length",Hi],["projection",O1]]);function s8(t){return t===Ae||t===O1}function u8(t){return t===Ae||t===Yi||t===Hi||t===Wi}const c8=Math.sqrt(3),l8=2/c8,h8={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*l8,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},U1=new Map([["asterisk",Zp],["circle",mu],["cross",Kp],["diamond",Jp],["diamond2",t1],["hexagon",h8],["plus",e1],["square",n1],["square2",r1],["star",o1],["times",u1],["triangle",a1],["triangle2",f1],["wye",s1]]);function B1(t){return t&&typeof t.draw=="function"}function d8(t){return B1(t)?!0:typeof t!="string"?!1:U1.has(t.toLowerCase())}function Du(t){if(t==null||B1(t))return t;const e=U1.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Fu({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=z1(t)),e!=null&&!Mi(e)&&(r=Af(r,Y1(e))),n&&(r=Af(r,q1))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(e===null||Mi(e))&&{sort:e},transform:Af(r,a)}}function sa({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=z1(t)),e!=null&&!Mi(e)&&(r=Cf(r,Y1(e))),n&&(r=Cf(r,q1))),{...i,...(e===null||Mi(e))&&{sort:e},initializer:Cf(r,o)}}function Af(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,Jt(n),r,i)}}function Cf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...o){let a,f,s,u,c,h;return{data:f=n,facets:s=r,channels:a}=t.call(this,n,r,i,...o),{data:c=f,facets:h=s,channels:u}=e.call(this,f,s,{...i,...a},...o),{data:c,facets:h,channels:{...a,...u}}}}function z1(t){return(e,n)=>{const r=Rt(e,t);return{data:e,facets:n.map(i=>i.filter(o=>r[o]))}}}function q1(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function Y1(t){return(typeof t=="function"&&t.length!==1?p8:m8)(t)}function p8(t){return(e,n)=>{const r=(i,o)=>t(e[i],e[o]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function m8(t){let e,n;({channel:e,value:t,order:n}={...qi(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?aa:ye),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=ye;break;case"descending":n=aa;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let f;if(e===void 0)f=Rt(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[e],!f)return{};f=f.value}const s=(u,c)=>n(f[u],f[c]);return{data:i,facets:o.map(u=>u.slice().sort(s))}}}function uo(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function g8(t,e,n=H1){const r=Object.entries(t);return e.title!=null&&t.title===void 0&&r.push(["title",M8]),e.href!=null&&t.href===void 0&&r.push(["href",Ru]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?b8(i):n(i,o,e))}function H1(t,e,n,r=W1){let i;wn(e)&&"reduce"in e&&(i=e.scale,e=e.reduce);const o=r(t,e,n),[a,f]=fa(o.label);let s;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(u){o.initialize(u),s=f([])},scope(u,c){o.scope(u,c)},reduce(u,c){s.push(o.reduce(u,c))}}}function b8(t){return{name:t,initialize(){},scope(){},reduce(){}}}function W1(t,e,n,r=Lu){const i=Z6(t,n),o=r(e,i);let a,f;return{label:Qn(o===ua?null:i,o.label),initialize(s){a=i===void 0?s:Rt(s,i),o.scope==="data"&&(f=o.reduceIndex(Je(s),a))},scope(s,u){o.scope===s&&(f=o.reduceIndex(u,a))},reduce(s,u){return o.scope==null?o.reduceIndex(s,a,u):o.reduceIndex(s,a,f,u)}}}function $l(t,e){return e?hi(va(t,n=>e[n]),Su):[[,t]]}function Lu(t,e,n=y8){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&wn(t))return v8(t);if(typeof t=="function")return x8(t);if(/^p\d{2}$/i.test(t))return qe(H6(t));switch(`${t}`.toLowerCase()){case"first":return Ru;case"last":return $8;case"identity":return G1;case"count":return ua;case"distinct":return S8;case"sum":return e==null?ua:T8;case"proportion":return Tl(e,"data");case"proportion-facet":return Tl(e,"facet");case"deviation":return qe(Ph);case"min":return qe(Ve);case"min-index":return qe($2);case"max":return qe(pe);case"max-index":return qe(M2);case"mean":return Sl(k2);case"median":return Sl(Xf);case"variance":return qe(Ih);case"mode":return qe(A2)}return n(t)}function y8(t){throw new Error(`invalid reduce: ${t}`)}function _8(t,e){for(const n in e){const r=e[n];if(r!==void 0&&!t.some(i=>i.name===n))return r}}function w8(t,e,n){if(e){const r=e.output.transform(),i=(o,a)=>ye(r[o],r[a]);t.forEach(o=>o.sort(i))}n&&t.forEach(r=>r.reverse())}function v8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function x8(t){return{reduceIndex(e,n,r){return t(Au(n,e),r)}}}function qe(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function Sl(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return jt(n)?new Date(r):r}}}const G1={reduceIndex(t,e){return Au(e,t)}},Ru={reduceIndex(t,e){return e[t[0]]}},M8={reduceIndex(t,e){const r=hi(gr(t,o=>o.length,o=>e[o]),Ns),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[5-1]=[` ${o.length.toLocaleString("en-US")} more`,pn(o,Ns)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},$8={reduceIndex(t,e){return e[t[t.length-1]]}},ua={label:"Frequency",reduceIndex(t){return t.length}},S8={label:"Distinct",reduceIndex(t,e){const n=new wa;for(const r of t)n.add(e[r]);return n.size}},T8=qe(pn);function Tl(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>pn(n,o=>r[o])/i}}function Si(t,{scale:e,type:n,value:r,filter:i,hint:o,label:a=Qn(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),V1(f,{scale:e,type:n,value:Rt(t,r),label:a,filter:i,hint:o})}function k8(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Si(e,r,n)]))}function E8(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:e[i];return[r,a==null?o:Ct(o,a)]}));return n.channels=t,n}function V1(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&Ef(r,Ga)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&Ef(r,i8)?null:"opacity";break;case"symbol":n!==!0&&Ef(r,d8)?(e.scale=null,e.value=Ct(r,Du)):e.scale="symbol";break;default:e.scale=Et.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Et.has(n))throw new Error(`unknown scale: ${n}`);return e}function A8(t,e,n,r,i){const{order:o,reverse:a,reduce:f=!0,limit:s}=i;for(const u in i){if(!Et.has(u))continue;let{value:c,order:h=o,reverse:l=a,reduce:d=f,limit:p=s}=qi(i[u]);const m=c==null?void 0:c.startsWith("-");if(m&&(c=c.slice(1)),h=h===void 0?m!==(c==="width"||c==="height")?j1:X1:D8(h),d==null||d===!1)continue;const g=u==="fx"||u==="fy"?N8(e,r[u]):C8(n,u);if(!g)throw new Error(`missing channel for scale: ${u}`);const _=g.value,[b=0,v=1/0]=vn(p)?p:p<0?[p]:[0,p];if(c==null)g.domain=()=>{let y=Array.from(new wa(_));return l&&(y=y.reverse()),(b!==0||v!==1/0)&&(y=y.slice(b,v)),y};else{const y=c==="data"?t:c==="height"?kl(n,"y1","y2"):c==="width"?kl(n,"x1","x2"):Ls(n,c,c==="y"?"y2":c==="x"?"x2":void 0),w=Lu(d===!0?"max":d,y);g.domain=()=>{let x=b2(Je(_),$=>w.reduceIndex($,y),$=>_[$]);return h&&x.sort(h),l&&x.reverse(),(b!==0||v!==1/0)&&(x=x.slice(b,v)),x.map(Su)}}}}function C8(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function N8(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const f of t[o])i[f]=a}return e}function kl(t,e,n){const r=Ls(t,e),i=Ls(t,n);return Ct(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Ls(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function D8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return X1;case"descending":return j1}throw new Error(`invalid order: ${t}`)}function X1([t,e],[n,r]){return ye(e,r)||ye(t,n)}function j1([t,e],[n,r]){return aa(e,r)||ye(t,n)}function El(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function F8(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>i!==r[o]))&&(n=r,e=t(...r)),e)}const L8=F8(t=>new Intl.NumberFormat(t));function R8(t="en-US"){const e=L8(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function I8(t){return F6(t,"Invalid Date")}function P8(t="en-US"){const e=R8(t);return n=>(n instanceof Date?I8:typeof n=="number"?e:Ht)(n)}const Gn=P8();let Rs=0,Is;function O8(){const t=Rs;return Rs=0,Is=void 0,t}function cn(t){t!==Is&&(Is=t,console.warn(t),++Rs)}const Gt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let U8=0;function Al(){return`plot-clip-${++U8}`}function B8(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:s,stroke:u,strokeWidth:c,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:_,mixBlendMode:b,imageFilter:v,paintOrder:y,pointerEvents:w,shapeRendering:x,channels:$},{ariaLabel:E,fill:N="currentColor",fillOpacity:D,stroke:T="none",strokeOpacity:L,strokeWidth:O,strokeLinecap:P,strokeLinejoin:S,strokeMiterlimit:z,paintOrder:G}){N===null&&(f=null,s=null),T===null&&(u=null,h=null),Wt(N)?!Wt(T)&&(!Wt(f)||$!=null&&$.fill)&&(T="none"):Wt(T)&&(!Wt(u)||$!=null&&$.stroke)&&(N="none");const[j,X]=Qe(f,N),[q,B]=Zt(s,D),[U,H]=Qe(u,T),[J,Z]=Zt(h,L),[V,F]=Zt(_);$i(H)||(c===void 0&&(c=O),d===void 0&&(d=P),l===void 0&&(l=S),p===void 0&&!o8(l)&&(p=z),!$i(X)&&y===void 0&&(y=G));const[R,k]=Zt(c);return N!==null&&(t.fill=Pt(X,"currentColor"),t.fillOpacity=jr(B,1)),T!==null&&(t.stroke=Pt(H,"none"),t.strokeWidth=jr(k,1),t.strokeOpacity=jr(Z,1),t.strokeLinejoin=Pt(l,"miter"),t.strokeLinecap=Pt(d,"butt"),t.strokeMiterlimit=jr(p,4),t.strokeDasharray=Pt(m,"none"),t.strokeDashoffset=Pt(g,"0")),t.target=Ht(a),t.ariaLabel=Ht(E),t.ariaDescription=Ht(i),t.ariaHidden=Ht(o),t.opacity=jr(F,1),t.mixBlendMode=Pt(b,"normal"),t.imageFilter=Pt(v,"none"),t.paintOrder=Pt(y,"normal"),t.pointerEvents=Pt(w,"auto"),t.shapeRendering=Pt(x,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:j,scale:"auto",optional:!0},fillOpacity:{value:q,scale:"auto",optional:!0},stroke:{value:U,scale:"auto",optional:!0},strokeOpacity:{value:J,scale:"auto",optional:!0},strokeWidth:{value:R,optional:!0},opacity:{value:V,scale:"auto",optional:!0}}}function z8(t,e){e&&t.filter(n=>wu(e[n])).append("title").call(Y8,e)}function q8(t,e){e&&t.filter(([n])=>wu(e[n])).append("title").call(H8,e)}function Y8(t,e){e&&t.text(n=>Gn(e[n]))}function H8(t,e){e&&t.text(([n])=>Gn(e[n]))}function Jn(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:c,href:h}){r&&nt(t,"aria-label",l=>r[l]),o&&nt(t,"fill",l=>o[l]),a&&nt(t,"fill-opacity",l=>a[l]),f&&nt(t,"stroke",l=>f[l]),s&&nt(t,"stroke-opacity",l=>s[l]),u&&nt(t,"stroke-width",l=>u[l]),c&&nt(t,"opacity",l=>c[l]),h&&K1(t,l=>h[l],e),n||z8(t,i)}function W8(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:c,href:h}){r&&nt(t,"aria-label",([l])=>r[l]),o&&nt(t,"fill",([l])=>o[l]),a&&nt(t,"fill-opacity",([l])=>a[l]),f&&nt(t,"stroke",([l])=>f[l]),s&&nt(t,"stroke-opacity",([l])=>s[l]),u&&nt(t,"stroke-width",([l])=>u[l]),c&&nt(t,"opacity",([l])=>c[l]),h&&K1(t,([l])=>h[l],e),n||q8(t,i)}function G8({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:s},{tip:u}){return[t,u?void 0:e,n,r,i,o,a,f,s].filter(c=>c!==void 0)}function V8(t,e,n){const r=va(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&cn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*X8(t,e,n,r){const{z:i}=n,{z:o}=r,a=G8(r,n),f=[...e,...a];for(const s of o?V8(t,o,i):[t]){let u,c;t:for(const h of s){for(const l of f)if(!bn(l[h])){c&&c.push(-1);continue t}if(u===void 0){c&&(yield c),u=a.map(l=>Dn(l[h])),c=[h];continue}c.push(h);for(let l=0;l<a.length;++l)if(Dn(a[l][h])!==u[l]){yield c,u=a.map(p=>Dn(p[h])),c=[h];continue t}}c&&(yield c)}}function Z1(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=Me(t,"clip",["frame","sphere"])),t}function j8(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":{const{width:a,height:f,marginLeft:s,marginRight:u,marginTop:c,marginBottom:h}=n,l=Al();i=`url(#${l})`,t=zt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",l).append("rect").attr("x",s).attr("y",c).attr("width",a-u-s).attr("height",f-c-h)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const f=Al();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",ou(a)({type:"Sphere"}));break}}nt(t,"aria-label",e.ariaLabel),nt(t,"aria-description",e.ariaDescription),nt(t,"aria-hidden",e.ariaHidden),nt(t,"clip-path",i)}function en(t,e,n,r){j8(t,e,n,r),nt(t,"fill",e.fill),nt(t,"fill-opacity",e.fillOpacity),nt(t,"stroke",e.stroke),nt(t,"stroke-width",e.strokeWidth),nt(t,"stroke-opacity",e.strokeOpacity),nt(t,"stroke-linejoin",e.strokeLinejoin),nt(t,"stroke-linecap",e.strokeLinecap),nt(t,"stroke-miterlimit",e.strokeMiterlimit),nt(t,"stroke-dasharray",e.strokeDasharray),nt(t,"stroke-dashoffset",e.strokeDashoffset),nt(t,"shape-rendering",e.shapeRendering),nt(t,"filter",e.imageFilter),nt(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;nt(t,"pointer-events",i)}function nn(t,e){Z8(t,"mix-blend-mode",e.mixBlendMode),nt(t,"opacity",e.opacity)}function K1(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const o=this.ownerDocument.createElementNS(xr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(xr.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function nt(t,e,n){n!=null&&t.attr(e,n)}function Z8(t,e,n){n!=null&&t.style(e,n)}function Ie(t,e,{x:n,y:r},i=Gt,o=Gt){i+=e.dx,o+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function Pt(t,e){if((t=Ht(t))!==e)return t}function jr(t,e){if((t=Mt(t))!==e)return t}const K8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Iu(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!K8.test(t))throw new Error(`invalid class name: ${t}`);return t}function Pu(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Xa({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}function Ou(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:Z1(n)}}function zt(t,{document:e}){return ai(Ma(t).call(e.documentElement))}const Q1=Math.PI,Oe=2*Q1,Cl=.618;function Q8({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,s,u="frame";if(wn(t)){let w;if({type:t,domain:s,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:o=w!==void 0?w:o,clip:u=u,...f}=t,t==null)return}typeof t!="function"&&({type:t}=J1(t));const{width:c,height:h,marginLeft:l,marginRight:d,marginTop:p,marginBottom:m}=a,g=c-l-d-o-r,_=h-p-m-n-i;if(t=t==null?void 0:t({width:g,height:_,clip:u,...f}),t==null)return;u=J8(u,l,p,c-d,h-m);let b=l+o,v=p+n,y;if(s!=null){const[[w,x],[$,E]]=ou(t).bounds(s),N=Math.min(g/($-w),_/(E-x));N>0?(b-=(N*(w+$)-g)/2,v-=(N*(x+E)-_)/2,y=Ms({point(D,T){this.stream.point(D*N+b,T*N+v)}})):cn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=b===0&&v===0?tm():Ms({point(w,x){this.stream.point(w+b,x+v)}})),{stream:w=>t.stream(y.stream(u(w)))}}function J1(t){switch(`${t}`.toLowerCase()){case"albers-usa":return le(av,.7463,.4673);case"albers":return co(t0,.7463,.4673);case"azimuthal-equal-area":return le(fv,4,4);case"azimuthal-equidistant":return le(sv,Oe,Oe);case"conic-conformal":return co(lv,Oe,Oe);case"conic-equal-area":return co(jo,6.1702,2.9781);case"conic-equidistant":return co(pv,7.312,3.6282);case"equal-earth":return le(gv,5.4133,2.6347);case"equirectangular":return le(hv,Oe,Q1);case"gnomonic":return le(bv,3.4641,3.4641);case"identity":return{type:tm};case"reflect-y":return{type:t5};case"mercator":return le(uv,Oe,Oe);case"orthographic":return le(yv,2,2);case"stereographic":return le(_v,2,2);case"transverse-mercator":return le(wv,Oe,Oe);default:throw new Error(`unknown projection type: ${t}`)}}function J8(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Od(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function le(t,e,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var u,c,h;const s=t();return a!=null&&((u=s.precision)==null||u.call(s,a)),o!=null&&((c=s.rotate)==null||c.call(s,o)),typeof f=="number"&&((h=s.clipAngle)==null||h.call(s,f)),s.scale(Math.min(r/e,i/n)),s.translate([r/2,i/2]),s},aspectRatio:n/e}}function co(t,e,n){const{type:r,aspectRatio:i}=le(t,e,n);return{type:o=>{const{parallels:a,domain:f,width:s,height:u}=o,c=r(o);return a!=null&&(c.parallels(a),f===void 0&&c.fitSize([s,u],{type:"Sphere"})),c},aspectRatio:i}}const tm=zi({stream:t=>t}),t5=zi(Ms({point(t,e){this.stream.point(t,-e)}}));function e5(t,e,n,r){const i=n[t],o=n[e],a=i.length,f=n[t]=new Float64Array(a).fill(NaN),s=n[e]=new Float64Array(a).fill(NaN);let u;const c=r.stream({point(h,l){f[u]=h,s[u]=l}});for(u=0;u<a;++u)c.point(i[u],o[u])}function n5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(wn(t)&&(t=t.type),t!=null)}function r5(t){if(typeof(t==null?void 0:t.stream)=="function")return Cl;if(wn(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=J1(t);if(e)return e}return Cl}}function i5(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(a,f){e.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)kn(a,o);return[r,i]}const em=new Map([["accent",Y3],["category10",q3],["dark2",H3],["paired",W3],["pastel1",G3],["pastel2",V3],["set1",X3],["set2",j3],["set3",Z3],["tableau10",K3]]);function o5(t){return t!=null&&em.has(`${t}`.toLowerCase())}const Nl=new Map([...em,["brbg",Ue(B0,z0)],["prgn",Ue(q0,Y0)],["piyg",Ue(H0,W0)],["puor",Ue(G0,V0)],["rdbu",Ue(Es,Jo)],["rdgy",Ue(X0,j0)],["rdylbu",Ue(As,ta)],["rdylgn",Ue(Z0,K0)],["spectral",Ue(Q0,J0)],["burd",Dl(Es,Jo)],["buylrd",Dl(As,ta)],["blues",Ft($p,Sp)],["greens",Ft(Tp,kp)],["greys",Ft(Ep,Ap)],["oranges",Ft(Lp,Rp)],["purples",Ft(Cp,Np)],["reds",Ft(Dp,Fp)],["turbo",Be(qp)],["viridis",Be(Yp)],["magma",Be(Hp)],["inferno",Be(Wp)],["plasma",Be(Gp)],["cividis",Be(Ip)],["cubehelix",Be(Pp)],["warm",Be(Op)],["cool",Be(Up)],["bugn",Ft(tp,ep)],["bupu",Ft(np,rp)],["gnbu",Ft(ip,op)],["orrd",Ft(ap,fp)],["pubu",Ft(cp,lp)],["pubugn",Ft(sp,up)],["purd",Ft(hp,dp)],["rdpu",Ft(pp,mp)],["ylgn",Ft(yp,_p)],["ylgnbu",Ft(gp,bp)],["ylorbr",Ft(wp,vp)],["ylorrd",Ft(xp,Mp)],["rainbow",Fl(Bp)],["sinebow",Fl(zp)]]);function Ft(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?me(e,n):t[n])}function Ue(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?me(e,n):t[n])}function Dl(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?me(r=>e(1-r),n):t[n].slice().reverse())}function Be(t){return({length:e})=>me(t,Math.max(2,Math.floor(e)))}function Fl(t){return({length:e})=>me(t,Math.floor(e)+1).slice(0,-1)}function nm(t){const e=`${t}`.toLowerCase();if(!Nl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Nl.get(e)}function ja(t,e){const n=nm(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function a5(t,e="greys"){const n=new Set,[r,i]=ja(e,2);for(const o of t)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const Ll=new Map([["brbg",z0],["prgn",Y0],["piyg",W0],["puor",V0],["rdbu",Jo],["rdgy",j0],["rdylbu",ta],["rdylgn",K0],["spectral",J0],["burd",t=>Jo(1-t)],["buylrd",t=>ta(1-t)],["blues",Sp],["greens",kp],["greys",Ap],["purples",Np],["reds",Fp],["oranges",Rp],["turbo",qp],["viridis",Yp],["magma",Hp],["inferno",Wp],["plasma",Gp],["cividis",Ip],["cubehelix",Pp],["warm",Op],["cool",Up],["bugn",ep],["bupu",rp],["gnbu",op],["orrd",fp],["pubugn",up],["pubu",lp],["purd",dp],["rdpu",mp],["ylgnbu",bp],["ylgn",_p],["ylorbr",vp],["ylorrd",Mp],["rainbow",Bp],["sinebow",zp]]);function Uu(t){const e=`${t}`.toLowerCase();if(!Ll.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Ll.get(e)}const f5=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function s5(t){return t!=null&&f5.has(`${t}`.toLowerCase())}const rm=t=>e=>t(1-e),Nf=[0,1],Rl=new Map([["number",Ot],["rgb",zn],["hsl",t_],["hcl",r_],["lab",e_]]);function im(t){const e=`${t}`.toLowerCase();if(!Rl.has(e))throw new Error(`unknown interpolator: ${e}`);return Rl.get(e)}function Gi(t,e,n,{type:r,nice:i,clamp:o,zero:a,domain:f=am(t,n),unknown:s,round:u,scheme:c,interval:h,range:l=Et.get(t)===Yi?_5(n,f):Et.get(t)===Hi?w5(n,f):Et.get(t)===Wi?Nf:void 0,interpolate:d=Et.get(t)===tn?c==null&&l!==void 0?zn:Uu(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?Qs:Ot,reverse:p}){if(h=Or(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=im(d)),p=!!p,l!==void 0){const m=(f=Jt(f)).length,g=(l=Jt(l)).length;if(m!==g){if(d.length===1)throw new Error("invalid piecewise interpolator");d=Ta(d,l),l=void 0}}if(d.length===1?(p&&(d=rm(d),p=!1),l===void 0&&(l=Float64Array.from(f,(m,g)=>g/(f.length-1)),l.length===2&&(l=Nf)),e.interpolate((l===Nf?zi:zu)(d))):e.interpolate(d),a){const[m,g]=re(f);(m>0||g<0)&&(f=xi(f),Dr(f)!==Math.sign(m)?f[f.length-1]=0:f[0]=0)}return p&&(f=No(f)),e.domain(f).unknown(s),i&&(e.nice(u5(i,r)),f=e.domain()),l!==void 0&&e.range(l),o&&e.clamp(o),{type:r,domain:f,range:l,scale:e,interpolate:d,interval:h}}function u5(t,e){return t===!0?void 0:typeof t=="number"?t:K6(t,e)}function c5(t,e,n){return Gi(t,cu(),e,n)}function l5(t,e,n){return om(t,e,{...n,exponent:.5})}function om(t,e,{exponent:n=1,...r}){return Gi(t,_0().exponent(n),e,{...r,type:"pow"})}function h5(t,e,{base:n=10,domain:r=v5(e),...i}){return Gi(t,m0().base(n),e,{...i,domain:r})}function d5(t,e,{constant:n=1,...r}){return Gi(t,b0().constant(n),e,r)}function p5(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=x5(e),unknown:f,interpolate:s,reverse:u}){return n===void 0&&(n=s!==void 0?me(s,i):Et.get(t)===tn?ja(o,i):void 0),a.length>0&&(a=w0(a,n===void 0?{length:i}:n).quantiles()),Bu(t,e,{domain:a,range:n,reverse:u,unknown:f})}function m5(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=am(t,e),unknown:a,interpolate:f,reverse:s}){const[u,c]=re(o);let h;return n===void 0?(h=di(u,c,r),h[0]<=u&&h.splice(0,1),h[h.length-1]>=c&&h.pop(),r=h.length+1,n=f!==void 0?me(f,r):Et.get(t)===tn?ja(i,r):void 0):(h=me(Ot(u,c),r+1).slice(1,-1),u instanceof Date&&(h=h.map(l=>new Date(l)))),Dr(Jt(o))<0&&h.reverse(),Bu(t,e,{domain:h,range:n,reverse:s,unknown:a})}function Bu(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?me(o,n.length+1):Et.get(t)===tn?ja(i,n.length+1):void 0,reverse:f}){n=Jt(n);const s=Dr(n);if(!isNaN(s)&&!g5(n,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=No(a)),{type:"threshold",scale:v0(s<0?No(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function g5(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const o=Ei(i,i=t[n]);if(o!==0&&o!==e)return!1}return!0}function b5(t){return{type:"identity",scale:u8(Et.get(t))?h0():e=>e}}function Ti(t,e=w1){return t.length?[Ve(t,({value:n})=>n===void 0?n:Ve(n,e)),pe(t,({value:n})=>n===void 0?n:pe(n,e))]:[0,1]}function am(t,e){const n=Et.get(t);return(n===Yi||n===Wi||n===Hi?y5:Ti)(e)}function y5(t){return[0,t.length?pe(t,({value:e})=>e===void 0?e:pe(e,w1)):1]}function _5(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=vr(t,.5,({value:a})=>a===void 0?NaN:vr(a,.25,vu)),i=e.map(a=>3*Math.sqrt(a/r)),o=30/pe(i);return o<1?i.map(a=>a*o):i}function w5(t,e){const n=Xf(t,({value:o})=>o===void 0?NaN:Xf(o,Math.abs)),r=e.map(o=>12*o/n),i=60/pe(r);return i<1?r.map(o=>o*i):r}function v5(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return Ti(t,vu);if(n<0)return Ti(t,v1)}return[1,10]}function x5(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function zu(t){return(e,n)=>r=>t(e+r*(n-e))}function Za(t,e,n,r,{type:i,nice:o,clamp:a,domain:f=Ti(r),unknown:s,pivot:u=0,scheme:c,range:h,symmetric:l=!0,interpolate:d=Et.get(t)===tn?c==null&&h!==void 0?zn:Uu(c!==void 0?c:"rdbu"):Ot,reverse:p}){u=+u,f=Jt(f);let[m,g]=f;if(f.length>2&&cn(`Warning: the diverging ${t} scale domain contains extra elements.`),Ei(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,u),g=Math.max(g,u),typeof d!="function"&&(d=im(d)),h!==void 0&&(d=d.length===1?zu(d)(...h):Ta(d,h)),p&&(d=rm(d)),l){const _=n.apply(u),b=_-n.apply(m),v=n.apply(g)-_;b<v?m=n.invert(_-v):b>v&&(g=n.invert(_+b))}return e.domain([m,u,g]).unknown(s).interpolator(d),a&&e.clamp(a),o&&e.nice(o),{type:i,domain:[m,g],pivot:u,interpolate:d,scale:e}}function M5(t,e,n){return Za(t,I0(),k5,e,n)}function $5(t,e,n){return fm(t,e,{...n,exponent:.5})}function fm(t,e,{exponent:n=1,...r}){return Za(t,U0().exponent(n=+n),C5(n),e,{...r,type:"diverging-pow"})}function S5(t,e,{base:n=10,pivot:r=1,domain:i=Ti(e,r<0?v1:vu),...o}){return Za(t,P0().base(n=+n),E5,e,{domain:i,pivot:r,...o})}function T5(t,e,{constant:n=1,...r}){return Za(t,O0().constant(n=+n),N5(n),e,r)}const k5={apply(t){return t},invert(t){return t}},E5={apply:Math.log,invert:Math.exp},A5={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function C5(t){return t===.5?A5:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function N5(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function sm(t,e,n,r){return Gi(t,e,n,r)}function D5(t,e,n){return sm(t,B3(),e,n)}function F5(t,e,n){return sm(t,z3(),e,n)}const Vi=Symbol("ordinal");function um(t,e,n,{type:r,interval:i,domain:o,range:a,reverse:f,hint:s}){return i=Or(i,r),o===void 0&&(o=lm(n,i,t)),(r==="categorical"||r===Vi)&&(r="ordinal"),f&&(o=No(o)),o=e.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),e.range(a)),{type:r,domain:o,range:a,scale:e,hint:s,interval:i}}function L5(t,e,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:f,...s}){r=Or(r,n),i===void 0&&(i=lm(e,r,t));let u;if(Et.get(t)===Va)u=P5(e),o=o===void 0?O5(u):Ct(o,Du);else if(Et.get(t)===tn&&(o===void 0&&(n==="ordinal"||n===Vi)&&(o=a5(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const c=Uu(a),h=o[0],l=o[1]-o[0];o=({length:d})=>me(p=>c(h+l*p),d)}else o=nm(a);if(f===Ss)throw new Error(`implicit unknown on ${t} scale is not supported`);return um(t,uu().unknown(f),e,{...s,type:n,domain:i,range:o,hint:u})}function R5(t,e,{align:n=.5,padding:r=.5,...i}){return cm(vv().align(n).padding(r),e,i,t)}function I5(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return cm(Da().align(n).paddingInner(i).paddingOuter(o),e,a,t)}function cm(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=um(r,t,e,n),t.round=i,t}function lm(t,e,n){const r=new wa;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,o]=re(r).map(e.floor,e);return e.range(i,e.offset(o))}if(r.size>1e4&&Et.get(n)===Ae)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return hi(r,ye)}function Il(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function P5(t){return{fill:Il(t,"fill"),stroke:Il(t,"stroke")}}function O5(t){return Wt(t.fill)?m6:p6}function Ps(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:f,nice:s,clamp:u,zero:c,align:h,padding:l,projection:d,facet:{label:p=e}={},...m}={}){const g={};for(const[_,b]of t){const v=m[_],y=q5(_,b,{round:Et.get(_)===Ae?f:void 0,nice:s,clamp:u,zero:c,align:h,padding:l,projection:d,...v});if(y){let{label:w=_==="fx"||_==="fy"?p:e,percent:x,transform:$,inset:E,insetTop:N=E!==void 0?E:_==="y"?r:0,insetRight:D=E!==void 0?E:_==="x"?i:0,insetBottom:T=E!==void 0?E:_==="y"?o:0,insetLeft:L=E!==void 0?E:_==="x"?a:0}=v||{};if($==null)$=void 0;else if(typeof $!="function")throw new Error("invalid scale transform; not a function");y.percent=!!x,y.label=w===void 0?B5(b,y):w,y.transform=$,_==="x"||_==="fx"?(y.insetLeft=+L,y.insetRight=+D):(_==="y"||_==="fy")&&(y.insetTop=+N,y.insetBottom=+T),g[_]=y}}return g}function Pl(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:s}=i;e[r]=V5(i),n[r]=o,o.type=a,f!=null&&(o.interval=f),s!=null&&(o.label=s)}return n}function U5(t,e){const{x:n,y:r,fx:i,fy:o}=t,a=i||o?qu(e):e;i&&Ol(i,a),o&&Ul(o,a);const f=i||o?hm(t,e):e;n&&Ol(n,f),r&&Ul(r,f)}function B5(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!tr(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function qu(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:s,marginBottom:u,marginLeft:c}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,s),marginBottom:Math.max(r,u),marginLeft:Math.max(i,c),width:o,height:a}}function hm({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:s}=qu(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:e?e.scale.bandwidth()+r+o:s,facet:{width:f,height:s}}}function Ol(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=e,f=o+n,s=i-a-r;t.range=[f,Math.max(f,s)],tr(t)||(t.range=pm(t)),t.scale.range(t.range)}dm(t)}function Ul(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=e,f=o+n,s=i-a-r;t.range=[Math.max(f,s),f],tr(t)?t.range.reverse():t.range=pm(t),t.scale.range(t.range)}dm(t)}function dm(t){t.round===void 0&&H5(t)&&z5(t)<=30&&t.scale.round(!0)}function z5({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,f=Math.abs(r-n)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function pm(t){const e=t.scale.domain().length+mm(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,o)=>n+o/(e-1)*(r-n))}function q5(t,e=[],n={}){const r=Y5(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&tr({type:r})){const i=e.map(({value:o})=>o).filter(o=>o!==void 0);i.some(jt)?cn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${cr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${cr(r)}".`):i.some(t8)?cn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${cr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${cr(r)}".`):i.some(e8)&&cn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${cr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${cr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=lo(e,n,Nr);break;case"identity":switch(Et.get(t)){case Ae:n=lo(e,n,Nr);break;case Va:n=lo(e,n,W5);break}break;case"utc":case"time":n=lo(e,n,W6);break}switch(r){case"diverging":return M5(t,e,n);case"diverging-sqrt":return $5(t,e,n);case"diverging-pow":return fm(t,e,n);case"diverging-log":return S5(t,e,n);case"diverging-symlog":return T5(t,e,n);case"categorical":case"ordinal":case Vi:return L5(t,e,n);case"cyclical":case"sequential":case"linear":return c5(t,e,n);case"sqrt":return l5(t,e,n);case"threshold":return Bu(t,e,n);case"quantile":return p5(t,e,n);case"quantize":return m5(t,e,n);case"pow":return om(t,e,n);case"log":return h5(t,e,n);case"symlog":return d5(t,e,n);case"utc":return F5(t,e,n);case"time":return D5(t,e,n);case"point":return R5(t,e,n);case"band":return I5(t,e,n);case"identity":return b5(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function cr(t){return typeof t=="symbol"?t.description:t}const Bl={toString:()=>"projection"};function Y5(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=Bl);for(const{type:u}of e)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===Bl)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:u})=>u!==void 0))return;const s=Et.get(t);if(s===Yi)return"sqrt";if(s===Wi||s===Hi)return"linear";if(s===Va)return"ordinal";if((r||i||[]).length>2)return Df(s);if(r!==void 0){if(Ml(r))return Df(s);if(jt(r))return"utc"}else{const u=e.map(({value:c})=>c).filter(c=>c!==void 0);if(u.some(Ml))return Df(s);if(u.some(jt))return"utc"}if(s===tn){if(a!=null||s5(o))return"diverging";if(o5(o))return"categorical"}return"linear"}function Df(t){switch(t){case Ae:return"point";case tn:return Vi;default:return"ordinal"}}function tr({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Vi}function mm({type:t}){return t==="threshold"}function H5({type:t}){return t==="point"||t==="band"}function Fr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function lo(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function W5(t){return Ct(t,Du)}function G5(t){return e=>{if(!Et.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function V5({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:s}){if(e==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const u=t.unknown?t.unknown():void 0;return{type:e,domain:xi(n),...r!==void 0&&{range:xi(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...s!==void 0&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:c=>t(c),...t.invert&&{invert:c=>t.invert(c)}}}function X5(t,e,n={}){let r=.5-Gt,i=.5+Gt,o=.5+Gt,a=.5-Gt;for(const{marginTop:m,marginRight:g,marginBottom:_,marginLeft:b}of e)m>r&&(r=m),g>i&&(i=g),_>o&&(o=_),b>a&&(a=b);let{margin:f,marginTop:s=f!==void 0?f:r,marginRight:u=f!==void 0?f:i,marginBottom:c=f!==void 0?f:o,marginLeft:h=f!==void 0?f:a}=n;s=+s,u=+u,c=+c,h=+h;let{width:l=640,height:d=j5(t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,s-r+c-o)}=n;l=+l,d=+d;const p={width:l,height:d,marginTop:s,marginRight:u,marginBottom:c,marginLeft:h};if(t.fx||t.fy){let{margin:m,marginTop:g=m!==void 0?m:s,marginRight:_=m!==void 0?m:u,marginBottom:b=m!==void 0?m:c,marginLeft:v=m!==void 0?m:h}=n.facet??{};g=+g,_=+_,b=+b,v=+v,p.facet={marginTop:g,marginRight:_,marginBottom:b,marginLeft:v}}return p}function j5({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:c}){const h=n?n.scale.domain().length:1,l=r5(i);if(l){const p=r?r.scale.domain().length:1,m=(1.1*h-.1)/(1.1*p-.1)*l,g=Math.max(.1,Math.min(10,m));return Math.round((a-c-s)*g+f+u)}const d=e?tr(e)?e.scale.domain().length:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=zl("y",e)/(zl("x",t)*o),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,_=m*(a-c-s)-t.insetLeft-t.insetRight;return(p*_+e.insetTop+e.insetBottom)/g+f+u}return!!(e||n)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function zl(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=e.scale.exponent();i=s=>Math.pow(s,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,a]=re(r);return Math.abs(i(a)-i(o))}function Z5(t,e){const{fx:n,fy:r}=Ps(t,e),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?m2(i,o).map(([a,f],s)=>({x:a,y:f,i:s})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function K5(t,{x:e,y:n}){return e&&(e=Os(e)),n&&(n=Os(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Yu(t,{fx:e,fy:n}){const r=Je(t),i=e==null?void 0:e.value,o=n==null?void 0:n.value;return e&&n?gr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):e?gr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):gr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function Q5(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function J5(t){const e=[],n=new Uint32Array(pn(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(n.set(o,i),i+=o.length);e.push(n.slice(0,i))}return e}const t4=new Map([["top",Ff],["right",If],["bottom",Lf],["left",Rf],["top-left",ho(Ff,Rf)],["top-right",ho(Ff,If)],["bottom-left",ho(Lf,Rf)],["bottom-right",ho(Lf,If)],["top-empty",r4],["right-empty",a4],["bottom-empty",i4],["left-empty",o4],["empty",f4]]);function e4(t){if(t==null)return null;const e=t4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const ql=new WeakMap;function Os(t){let e=ql.get(t);return e||ql.set(t,e=new On(Ct(t,(n,r)=>[n,r]))),e}function xn(t,e){return Os(t).get(e)}function n4(t,e,n){return e=Dn(e),n=Dn(n),t.find(r=>Object.is(Dn(r.x),e)&&Object.is(Dn(r.y),n))}function Ka(t,e,n){var r;return(r=n4(t,e,n))==null?void 0:r.empty}function Ff(t,{y:e},{y:n}){return e?xn(e,n)===0:!0}function Lf(t,{y:e},{y:n}){return e?xn(e,n)===e.length-1:!0}function Rf(t,{x:e},{x:n}){return e?xn(e,n)===0:!0}function If(t,{x:e},{x:n}){return e?xn(e,n)===e.length-1:!0}function r4(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=xn(e,r);if(o>0)return Ka(t,n,e[o-1])}function i4(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=xn(e,r);if(o<e.length-1)return Ka(t,n,e[o+1])}function o4(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=xn(e,n);if(o>0)return Ka(t,e[o-1],r)}function a4(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=xn(e,n);if(o<e.length-1)return Ka(t,e[o+1],r)}function f4(t,e,{empty:n}){return n}function ho(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Pf(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class ce{constructor(e,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:s,sort:u,dx:c=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:p=l,marginBottom:m=l,marginLeft:g=l,clip:_=i==null?void 0:i.clip,channels:b,tip:v,render:y}=r;if(this.data=e,this.sort=Mi(u)?u:null,this.initializer=sa(r).initializer,this.transform=this.initializer?r.transform:Fu(r).transform,o===null||o===!1?this.facet=null:(this.facet=Me(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=e===$o&&typeof f=="string"?[f]:f,this.fy=e===$o&&typeof s=="string"?[s]:s),this.facetAnchor=e4(a),n=P1(n),b!==void 0&&(n={...s4(b),...n}),i!==void 0&&(n={...B8(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([w,x])=>{if(ku(x.value)){const{value:$,label:E=x.label,scale:N=x.scale}=x.value;x={...x,label:E,scale:N,value:$}}if(e===$o&&typeof x.value=="string"){const{value:$}=x;x={...x,value:[$]}}return[w,x]}).filter(([w,{value:x,optional:$}])=>{if(x!=null)return!0;if($)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+c,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=Z1(_),this.tip=u4(v),this.facet==="super"){if(f||s)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:x}=n[w];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=bm(y,this.render))}initialize(e,n,r){let i=Jt(this.data);e===void 0&&i!=null&&(e=[Je(i)]);const o=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=Jt(i)),e!==void 0&&(e.original=o);const a=k8(this.channels,i);return this.sort!=null&&A8(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:o=bn}=n[i];if(o!==null){const a=r[i];e=e.filter(f=>o(a[f]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in e&&e[o].scale==="y"&&e5(i,o,n,r.projection)}}scale(e,n,r){const i=E8(e,n);return r.projection&&this.project(e,i,r),i}}function gm(...t){return t.plot=ce.prototype.plot,t}function bm(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,a,f){return t.call(this,n,r,i,o,a,(s,u,c,h,l)=>e.call(this,s,u,c,h,l,f))}}function s4(t){return Object.fromEntries(Object.entries(P1(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:qi(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function u4(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Me(t,"tip",["x","y","xy"]):t}function Qa(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:wn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const Yl=new WeakMap;function Hu(t,e,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:s,...u}={}){return a=+a,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:n,y:r,channels:f,...u,render:bm(function(c,h,l,d,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:_}=p.getMarkState(this);let b=Yl.get(g);b||Yl.set(g,b={sticky:!1,roots:[],renders:[]});let v=b.renders.push(H)-1;const{x:y,y:w,fx:x,fy:$}=h;let E=x?x(c.fx)-d.marginLeft:0,N=$?$(c.fy)-d.marginTop:0;y!=null&&y.bandwidth&&(E+=y.bandwidth()/2),w!=null&&w.bandwidth&&(N+=w.bandwidth()/2);const D=c.fi!=null;let T;if(D){let F=b.facetStates;F||(b.facetStates=F=new Map),T=F.get(this),T||F.set(this,T=new Map)}const[L,O]=Xa(this,d),{px:P,py:S}=l,z=P?F=>P[F]:ym(l,L),G=S?F=>S[F]:_m(l,O);let j,X,q,B;function U(F,R){if(D)if(B&&(B=cancelAnimationFrame(B)),F==null)T.delete(c.fi);else{T.set(c.fi,R),B=requestAnimationFrame(()=>{B=null;for(const[k,C]of T)if(C<R||C===R&&k<c.fi){F=null;break}H(F)});return}H(F)}function H(F){if(j===F&&q===b.sticky)return;j=F,q=p.pointerSticky=b.sticky;const R=j==null?[]:[j];D&&(R.fx=c.fx,R.fy=c.fy,R.fi=c.fi);const k=m(R,h,l,d,p);if(X){if(D){const C=X.parentNode,Y=X.getAttribute("transform"),A=k.getAttribute("transform");Y?k.setAttribute("transform",Y):k.removeAttribute("transform"),A?C.setAttribute("transform",A):C.removeAttribute("transform"),k.removeAttribute("aria-label"),k.removeAttribute("aria-description"),k.removeAttribute("aria-hidden")}X.replaceWith(k)}return b.roots[v]=X=k,j==null&&(T==null?void 0:T.size)>1||p.dispatchValue(j==null?null:_[j]),k}function J(F){if(b.sticky||F.pointerType==="mouse"&&F.buttons===1)return;let[R,k]=xy(F);R-=E,k-=N;const C=R<d.marginLeft||R>d.width-d.marginRight?1:t,Y=k<d.marginTop||k>d.height-d.marginBottom?1:e;let A=null,et=a*a;for(const W of c){const lt=C*(z(W)-R),ht=Y*(G(W)-k),bt=lt*lt+ht*ht;bt<=et&&(A=W,et=bt)}if(A!=null&&(t!==1||e!==1)){const W=z(A)-R,lt=G(A)-k;et=W*W+lt*lt}U(A,et)}function Z(F){F.pointerType==="mouse"&&j!=null&&(b.sticky&&b.roots.some(R=>R==null?void 0:R.contains(F.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(R=>R(null))):(b.sticky=!0,H(j)),F.stopImmediatePropagation()))}function V(F){F.pointerType==="mouse"&&(b.sticky||U(null))}return g.addEventListener("pointerenter",J),g.addEventListener("pointermove",J),g.addEventListener("pointerdown",Z),g.addEventListener("pointerleave",V),H(null)},s)}}function c4(t){return Hu(1,1,t)}function l4(t){return Hu(1,.01,t)}function h4(t){return Hu(.01,1,t)}function ym({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function _m({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function wm(t){return tr(t)&&t.interval===void 0?void 0:"tabular-nums"}function d4(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:s=16+r,marginLeft:u=0,style:c,ticks:h=(i-u-f)/64,tickFormat:l,fontVariant:d=wm(t),round:p=!0,opacity:m,className:g}=e;const _=Ou(e);g=Iu(g),m=Zt(m)[1],l===null&&(l=()=>null);const b=zt("svg",_).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(L=>L.append("style").text(`.${g}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${g}-ramp text {
  white-space: pre;
}`)).call(Pu,c);let v=L=>L.selectAll(".tick line").attr("y1",a+s-o),y;const w=p?(L,O)=>L.rangeRound(O):(L,O)=>L.range(O),{type:x,domain:$,range:E,interpolate:N,scale:D,pivot:T}=t;if(N){const L=E===void 0?N:Ta(N.length===1?zu(N):N,E);y=w(D.copy(),me(Ot(u,i-f),Math.min($.length+(T!==void 0),E===void 0?1/0:E.length)));const O=256,P=_.document.createElement("canvas");P.width=O,P.height=1;const S=P.getContext("2d");for(let z=0,G=O-1;z<O;++z)S.fillStyle=L(z/G),S.fillRect(z,0,1,1);b.append("image").attr("opacity",m).attr("x",u).attr("y",a).attr("width",i-u-f).attr("height",o-a-s).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(x==="threshold"){const L=$,O=l===void 0?P=>P:typeof l=="string"?Ir(l):l;y=w(cu().domain([-1,E.length-1]),[u,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(E).enter().append("rect").attr("x",(P,S)=>y(S-1)).attr("y",a).attr("width",(P,S)=>y(S)-y(S-1)).attr("height",o-a-s).attr("fill",P=>P),h=Ct(L,(P,S)=>S),l=P=>O(L[P],P)}else y=w(Da().domain($),[u,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data($).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",o-a-s).attr("fill",D),v=()=>{};return b.append("g").attr("transform",`translate(0,${o-s})`).call(U2(y).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Pt(d,"normal")).call(v).call(L=>L.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}const vm=Math.PI/180;function Ja(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=Of(n),t.markerMid=Of(r),t.markerEnd=Of(i)}function Of(t){if(t==null||t===!1)return null;if(t===!0)return Wl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Hl("auto");case"arrow-reverse":return Hl("auto-start-reverse");case"dot":return p4;case"circle":case"circle-fill":return Wl;case"circle-stroke":return m4}throw new Error(`invalid marker: ${t}`)}function Hl(t){return(e,n)=>zt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function p4(t,e){return zt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Wl(t,e){return zt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function m4(t,e){return zt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let g4=0;function Wu(t,e,{stroke:n},r){return xm(t,e,n&&(i=>n[i]),r)}function b4(t,e,{stroke:n},r){return xm(t,e,n&&(([i])=>n[i]),r)}function xm(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a){const f=new Map;function s(u){return function(c){const h=o(c);let l=f.get(u);l||f.set(u,l=new Map);let d=l.get(h);if(!d){const p=this.parentNode.insertBefore(u(h,a),this),m=`plot-marker-${++g4}`;p.setAttribute("id",m),l.set(h,d=`url(#${m})`)}return d}}e&&t.attr("marker-start",s(e)),n&&t.attr("marker-mid",s(n)),r&&t.attr("marker-end",s(r))}function Gu({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=$m(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Mm({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=$m(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function $m(t,e,n){return t===void 0&&e===void 0&&n===void 0?Gt?[1,0]:[.5,.5]:[e,n]}function Sm(t,{interval:e}){return t={...qi(t)},t.interval=Cu(t.interval===void 0?e:t.interval),t}function Tm(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=n,{value:f,interval:s}=Sm(i,n);if(f==null||s==null&&!r)return n;const u=Qn(i);if(s==null){let d;const p={transform:m=>d||(d=Rt(m,f)),label:u};return{...n,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0?p:a}}let c,h;function l(d){return h!==void 0&&d===c?h:h=Ct(Rt(c=d,f),p=>s.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:u}:o,[`${t}2`]:a===void 0?{transform:d=>l(d).map(p=>s.offset(p)),label:u}:a})}function km(t,e,n){const{[t]:r}=n,{value:i,interval:o}=Sm(r,n);return i==null||o==null?n:e({...n,[t]:{label:Qn(r),transform:a=>{const f=Ct(Rt(a,i),u=>o.floor(u)),s=f.map(u=>o.offset(u));return f.map(jt(f)?(u,c)=>u==null||isNaN(u=+u)||(c=s[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=s[c],c==null)?NaN:(+u+ +c)/2)}}})}function y4(t={}){return Tm("x",Gu,t)}function Em(t={}){return Tm("y",Mm,t)}function _4(t={}){return km("x",Gu,t)}function w4(t={}){return km("y",Mm,t)}const Am={ariaLabel:"rule",fill:null,stroke:"currentColor"};class v4 extends ce{constructor(e,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:s=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Qa(n,"x"),Am),this.insetTop=Mt(f),this.insetBottom=Mt(s),Ja(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:s,y1:u,y2:c}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:_,insetBottom:b}=this;return zt("svg:g",o).call(en,this,i,o).call(Ie,this,{x:s&&a},Gt,0).call(v=>v.selectAll().data(e).enter().append("line").call(nn,this).attr("x1",s?y=>s[y]:(m+h-p)/2).attr("x2",s?y=>s[y]:(m+h-p)/2).attr("y1",u&&!Fr(f)?y=>u[y]+_:d+_).attr("y2",c&&!Fr(f)?f.bandwidth?y=>c[y]+f.bandwidth()-b:y=>c[y]-b:l-g-b).call(Jn,this,r).call(Wu,this,r,o)).node()}}class x4 extends ce{constructor(e,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:s=a}=n;super(e,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Qa(n,"y"),Am),this.insetRight=Mt(f),this.insetLeft=Mt(s),Ja(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n,{y:s,x1:u,x2:c}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:_,insetRight:b}=this;return zt("svg:g",o).call(en,this,i,o).call(Ie,this,{y:s&&f},0,Gt).call(v=>v.selectAll().data(e).enter().append("line").call(nn,this).attr("x1",u&&!Fr(a)?y=>u[y]+_:m+_).attr("x2",c&&!Fr(a)?a.bandwidth?y=>c[y]+a.bandwidth()-b:y=>c[y]-b:h-p-b).attr("y1",s?y=>s[y]:(d+l-g)/2).attr("y2",s?y=>s[y]:(d+l-g)/2).call(Jn,this,r).call(Wu,this,r,o)).node()}}function M4(t,e){let{x:n=Bt,y:r,y1:i,y2:o,...a}=Em(e);return[i,o]=Cm(r,i,o),new v4(t,{...a,x:n,y1:i,y2:o})}function Us(t,e){let{y:n=Bt,x:r,x1:i,x2:o,...a}=y4(e);return[i,o]=Cm(r,i,o),new x4(t,{...a,y:n,x1:i,x2:o})}function Cm(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Nm(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const $4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Dm="";class Vu extends ce{constructor(e,n={}){const{x:r,y:i,text:o=vn(e)&&R1(e)?Bt:$u,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:s=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:_,rotate:b}=n,[v,y]=Zt(b,0),[w,x]=C4(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:J6(v),optional:!0},text:{value:o,filter:wu,optional:!0}},n,$4),this.rotate=y,this.textAnchor=Pt(f,"middle"),this.lineAnchor=Me(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=Fm(h),this.monospace=!!l,this.fontFamily=Ht(d),this.fontSize=x,this.fontStyle=Ht(m),this.fontVariant=Ht(g),this.fontWeight=Ht(_),this.frameAnchor=Nu(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Im(this),this.clipLine=Pm(this)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:s,y:u,rotate:c,text:h,title:l,fontSize:d}=r,{rotate:p}=this,[m,g]=Xa(this,i);return zt("svg:g",o).call(en,this,i,o).call(Rm,this,h,i).call(Ie,this,{x:s&&a,y:u&&f}).call(_=>_.selectAll().data(e).enter().append("text").call(nn,this).call(S4,this,h,l).attr("transform",Nm`translate(${s?b=>s[b]:m},${u?b=>u[b]:g})${c?b=>` rotate(${c[b]})`:p?` rotate(${p})`:""}`).call(nt,"font-size",d&&(b=>d[b])).call(Jn,this,r)).node()}}function Fm(t){return t==null?null:Me(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function S4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:s}=e;t.each(function(u){const c=f(Gn(n[u])??"").map(s),h=c.length,l=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!c[p])continue;const m=this.ownerDocument.createElementNS(xr.svg,"tspan");m.setAttribute("x",0),p===d-1?m.setAttribute("y",`${(l+p)*o}em`):m.setAttribute("dy",`${d*o}em`),m.textContent=c[p],this.appendChild(m),d=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=c[0];if(a&&!r&&c[0]!==n[u]){const d=this.ownerDocument.createElementNS(xr.svg,"title");d.textContent=n[u],this.appendChild(d)}})}function Lm(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Eu(e,n)),new Vu(t,{...r,x:e,y:n})}function T4(t,{x:e=Bt,...n}={}){return new Vu(t,w4({...n,x:e}))}function k4(t,{y:e=Bt,...n}={}){return new Vu(t,_4({...n,y:e}))}function Rm(t,e,n){nt(t,"text-anchor",e.textAnchor),nt(t,"font-family",e.fontFamily),nt(t,"font-size",e.fontSize),nt(t,"font-style",e.fontStyle),nt(t,"font-variant",e.fontVariant===void 0?E4(n):e.fontVariant),nt(t,"font-weight",e.fontWeight)}function E4(t){return t&&(n8(t)||jt(t))?"tabular-nums":void 0}const A4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function C4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),A4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function N4(t,e,n){const r=[];let i,o=0;for(const[a,f,s]of D4(t)){if(i===void 0&&(i=a),o>i&&n(t,i,f)>e&&(r.push(t.slice(i,o)+(t[o-1]===Dm?"-":"")),i=a),s){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*D4(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case Dm:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const Gl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Xu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Ur(t,i))r+=Gl[t[i]]??(Um(t,i)?120:Gl.e);return r}function ju(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Ur(t,i))r+=Um(t,i)?200:100;return r}function Im({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?ju:Xu,i=e*100;return o=>N4(o,i,r)}function Pm({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return o=>o;const r=t?ju:Xu,i=e*100;switch(n){case"clip-start":return o=>Xl(o,i,r,"");case"clip-end":return o=>Vl(o,i,r,"");case"ellipsis-start":return o=>Xl(o,i,r,_r);case"ellipsis-middle":return o=>F4(o,i,r,_r);case"ellipsis-end":return o=>Vl(o,i,r,_r)}}const _r="";function Lr(t,e,n,r){const i=[];let o=0;for(let a=0,f=0,s=t.length;a<s;a=f){f=Ur(t,a);const u=n(t,a,f);if(o+u>e){for(o+=r;o>e&&a>0;)f=a,a=i.pop(),o-=n(t,a,f);return[a,e-o]}o+=u,i.push(a)}return[-1,0]}function Vl(t,e,n,r){t=t.trim();const i=n(r),[o]=Lr(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function F4(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[a,f]=Lr(t,e/2,n,o),[s]=Lr(t,i-e/2-f+o,n,-o);return s<0?r:t.slice(0,a).trimEnd()+r+t.slice(Ur(t,s)).trimStart()}function Xl(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r),[a]=Lr(t,i-e+o,n,-o);return a<0?r:r+t.slice(Ur(t,a)).trimStart()}const Bs=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,jl=/\p{Extended_Pictographic}/uy;function Ur(t,e){return e+=L4(t,e)?2:1,I4(t,e)&&(e=Bs.lastIndex),R4(t,e)?Ur(t,e+1):e}function Om(t,e){return t.charCodeAt(e)<128}function L4(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function R4(t,e){return t.charCodeAt(e)===8205}function I4(t,e){return Om(t,e)?!1:(Bs.lastIndex=e,Bs.test(t))}function Um(t,e){return Om(t,e)?!1:(jl.lastIndex=e,jl.test(t))}const P4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Bm=3.5,O4=Bm*5,zm={draw(t,e,n){const r=e*n/O4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},U4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},B4=new Map([["arrow",zm],["spike",U4]]);function z4(t){return t&&typeof t.draw=="function"}function q4(t){if(z4(t))return t;const e=B4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class qm extends ce{constructor(e,n={}){const{x:r,y:i,r:o=Bm,length:a,rotate:f,shape:s=zm,anchor:u="middle",frameAnchor:c}=n,[h,l]=Zt(a,12),[d,p]=Zt(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,P4),this.r=+o,this.length=l,this.rotate=p,this.shape=q4(s),this.anchor=Me(u,"anchor",["start","middle","end"]),this.frameAnchor=Nu(c)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:s,y:u,length:c,rotate:h}=r,{length:l,rotate:d,anchor:p,shape:m,r:g}=this,[_,b]=Xa(this,i);return zt("svg:g",o).call(en,this,i,o).call(Ie,this,{x:s&&a,y:u&&f}).call(v=>v.selectAll().data(e).enter().append("path").call(nn,this).attr("transform",Nm`translate(${s?y=>s[y]:_},${u?y=>u[y]:b})${h?y=>` rotate(${h[y]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?c?y=>` translate(0,${c[y]})`:` translate(0,${l})`:c?y=>` translate(0,${c[y]/2})`:` translate(0,${l/2})`}`).attr("d",c?y=>{const w=ss();return m.draw(w,c[y],g),w}:(()=>{const y=ss();return m.draw(y,l,g),y})()).call(Jn,this,r)).node()}}function Y4(t,e={}){const{x:n=Bt,...r}=e;return new qm(t,{...r,x:n})}function H4(t,e={}){const{y:n=Bt,...r}=e;return new qm(t,{...r,y:n})}function Mn(t,e){return arguments.length<2&&!vn(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function tf({anchor:t}={},e){return t===void 0?e[0]:Me(t,"anchor",e)}function Ym(t){return tf(t,["left","right"])}function Hm(t){return tf(t,["right","left"])}function Wm(t){return tf(t,["bottom","top"])}function Gm(t){return tf(t,["top","bottom"])}function Vm(){const[t,e]=Mn(...arguments);return jm("y",Ym(e),t,e)}function W4(){const[t,e]=Mn(...arguments);return jm("fy",Hm(e),t,e)}function Xm(){const[t,e]=Mn(...arguments);return Zm("x",Wm(e),t,e)}function G4(){const[t,e]=Mn(...arguments);return Zm("fx",Gm(e),t,e)}function jm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:g,x:_,margin:b,marginTop:v=b===void 0?20:b,marginRight:y=b===void 0?e==="right"?40:0:b,marginBottom:w=b===void 0?20:b,marginLeft:x=b===void 0?e==="left"?40:0:b,label:$,labelAnchor:E,labelArrow:N,labelOffset:D,...T}){return p=Mt(p),m=Mt(m),g=Mt(g),E!==void 0&&(E=Me(E,"labelAnchor",["center","top","bottom"])),N=ig(N),gm(p&&!Wt(o)?V4(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:_,...T}):null,Wt(s)?null:j4(t,e,n,{fill:s,fillOpacity:u,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,x:_,marginTop:v,marginRight:y,marginBottom:w,marginLeft:x,...T}),!Wt(s)&&$!==null?Lm([],tg({fill:s,fillOpacity:u,...T},function(L,O,P,S,z){const G=S[t],{marginTop:j,marginRight:X,marginBottom:q,marginLeft:B}=t==="y"&&z.inset||z,U=E??(G.bandwidth?"center":"top"),H=D??(e==="right"?X:B)-3;return U==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=U,this.frameAnchor=`${U}-${e}`,this.rotate=0),this.dy=U==="top"?3-j:U==="bottom"?q-3:0,this.dx=e==="right"?H:-H,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[rg(t,G,{anchor:e,label:$,labelAnchor:U,labelArrow:N})]}}}})):null)}function Zm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:g,y:_,margin:b,marginTop:v=b===void 0?e==="top"?30:0:b,marginRight:y=b===void 0?20:b,marginBottom:w=b===void 0?e==="bottom"?30:0:b,marginLeft:x=b===void 0?20:b,label:$,labelAnchor:E,labelArrow:N,labelOffset:D,...T}){return p=Mt(p),m=Mt(m),g=Mt(g),E!==void 0&&(E=Me(E,"labelAnchor",["center","left","right"])),N=ig(N),gm(p&&!Wt(o)?X4(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y:_,...T}):null,Wt(s)?null:Z4(t,e,n,{fill:s,fillOpacity:u,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,y:_,marginTop:v,marginRight:y,marginBottom:w,marginLeft:x,...T}),!Wt(s)&&$!==null?Lm([],tg({fill:s,fillOpacity:u,...T},function(L,O,P,S,z){const G=S[t],{marginTop:j,marginRight:X,marginBottom:q,marginLeft:B}=t==="x"&&z.inset||z,U=E??(G.bandwidth?"center":"right"),H=D??(e==="top"?j:q)-3;return U==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${U}`,this.textAnchor=U==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-H:H,this.dx=U==="right"?X-3:U==="left"?3-B:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[rg(t,G,{anchor:e,label:$,labelAnchor:U,labelArrow:N})]}}}})):null)}function V4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:s,inset:u=0,insetLeft:c=u,insetRight:h=u,dx:l=0,y:d=t==="y"?void 0:null,...p}){return Br(H4,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:d,...p,dx:e==="left"?+l-Gt+ +c:+l+Gt-h,anchor:"start",length:s,shape:e==="left"?i7:o7})}function X4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:s,inset:u=0,insetTop:c=u,insetBottom:h=u,dy:l=0,x:d=t==="x"?void 0:null,...p}){return Br(Y4,t,e,`${t}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:d,...p,dy:e==="bottom"?+l-Gt-h:+l+Gt+ +c,anchor:"start",length:s,shape:e==="bottom"?n7:r7})}function j4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*vm):0),text:s,textAnchor:u=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:c=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:l=0,insetLeft:d=l,insetRight:p=l,dx:m=0,y:g=t==="y"?void 0:null,..._}){return Br(k4,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:s,textAnchor:u,lineAnchor:c,fontVariant:h,rotate:a,y:g,..._,dx:e==="left"?+m-o-f+ +d:+m+ +o+ +f-p},function(b,v,y,w,x){h===void 0&&(this.fontVariant=ng(b)),s===void 0&&(x.text=eg(b,v,y,w,e))})}function Z4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*vm):0),text:s,textAnchor:u=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:h,inset:l=0,insetTop:d=l,insetBottom:p=l,dy:m=0,x:g=t==="x"?void 0:null,..._}){return Br(T4,t,e,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:c,fontVariant:h,rotate:a,x:g,..._,dy:e==="bottom"?+m+ +o+ +f-p:+m-o-f+ +d},function(b,v,y,w,x){h===void 0&&(this.fontVariant=ng(b)),s===void 0&&(x.text=eg(b,v,y,w,e))})}function K4(){const[t,e]=Mn(...arguments);return Km("y",Ym(e),t,e)}function Q4(){const[t,e]=Mn(...arguments);return Km("fy",Hm(e),t,e)}function J4(){const[t,e]=Mn(...arguments);return Qm("x",Wm(e),t,e)}function t7(){const[t,e]=Mn(...arguments);return Qm("fx",Gm(e),t,e)}function Km(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:o=e==="left"?i:null,x2:a=e==="right"?i:null,...f}){return Br(Us,t,e,`${t}-grid`,n,{y:r,x1:o,x2:a,...Jm(f)})}function Qm(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:o=e==="top"?i:null,y2:a=e==="bottom"?i:null,...f}){return Br(M4,t,e,`${t}-grid`,n,{x:r,y1:o,y2:a,...Jm(f)})}function Jm({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function tg({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:s,shapeRendering:u,clip:c=!1},h){return[,t]=Qe(t),[,e]=Zt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:s,shapeRendering:u,clip:c,initializer:h}}function Br(t,e,n,r,i,o,a){let f;function s(h,l,d,p,m,g){const _=h==null&&(e==="fx"||e==="fy"),{[e]:b}=p;if(!b)throw new Error(`missing scale: ${e}`);const v=b.domain();let{interval:y,ticks:w,tickFormat:x,tickSpacing:$=e==="x"?80:35}=o;if(typeof w=="string"&&og(b)&&(y=w,w=void 0),w===void 0&&(w=Or(y,b.type)??e7(b,$)),h==null){if(vn(w))h=Jt(w);else if(pr(w))h=Uf(w,...re(v));else if(b.interval){let N=b.interval;if(b.ticks){const[D,T]=re(v),L=(T-D)/N[Bi];N=_l(N,L/w)??N,h=Uf(N,D,T)}else{h=v;const D=h.length;N=_l(N,D/w)??N,N!==b.interval&&(h=Uf(N,...re(h)))}if(N===b.interval){const D=Math.round(h.length/w);D>1&&(h=h.filter((T,L)=>L%D===0))}}else b.ticks?h=b.ticks(w):h=v;if(!b.ticks&&h.length&&h!==v){const N=new wa(v);h=h.filter(D=>N.has(D)),h.length||cn(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?l=[Je(h)]:f[e]={scale:e,value:Bt}}a==null||a.call(this,b,h,w,x,f);const E=Object.fromEntries(Object.entries(f).map(([N,D])=>[N,{...D,value:Rt(h,D.value)}]));return _&&(l=g.filterFacets(h,E)),{data:h,facets:l,channels:E}}const u=sa(o).initializer,c=t(i,sa({...o,initializer:s},u));return i==null?(f=c.channels,c.channels={}):f={},c.ariaLabel=r,c.clip===void 0&&(c.clip=!1),c}function e7(t,e){const[n,r]=re(t.range());return(r-n)/e}function eg(t,e,n,r,i){return{value:Zu(t,e,n,r,i)}}function Zu(t,e,n,r,i){return typeof r=="function"?r:r===void 0&&e&&jt(e)?O6(e,i)??Gn:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?Gn:typeof r=="string"?(jt(t.domain())?Ui:Ir)(r):zi(r)}function Uf(t,e,n){return t.range(e,t.offset(t.floor(n)))}const n7={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},r7={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},i7={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},o7={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function ng(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function a7(t){return Math.sign(Dr(t.domain()))*Math.sign(Dr(t.range()))}function rg(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&og(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=a7(e);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function ig(t="auto"){return Wt(t)?!1:typeof t=="boolean"?t:Me(t,"labelArrow",["auto","up","right","down","left"])}function og(t){return jt(t.domain())}function Zl(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function f7(t,{opacity:e,...n}={}){if(!tr(t)&&!mm(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return ag(t,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Zt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function s7(t,{fill:e=(u=>(u=t.hint)==null?void 0:u.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=t.hint)==null?void 0:c.stroke)()!==void 0?t.hint.stroke:Wt(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},s){const[h,l]=Qe(e),[d,p]=Qe(r),m=Zl(s,h),g=Zl(s,d),_=a*a*Math.PI;return n=Zt(n)[1],i=Zt(i)[1],o=Zt(o)[1],ag(t,f,(b,v,y,w)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",w).attr("fill",h==="color"?x=>m.scale(x):l).attr("fill-opacity",n).attr("stroke",d==="color"?x=>g.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",x=>{const $=ss();return t.scale(x).draw($,_),$}))}function ag(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=wm(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:s=a,marginLeft:u=0,className:c,style:h,width:l}=e;const d=Ou(e);c=Iu(c),i=Zu(t.scale,t.domain,void 0,i);const p=zt("div",d).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,t,f,s).call(g=>g.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(m=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,t,f,s).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",u?`${+u}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Pt(o,"normal")).call(Pu,h).node()}const zs=new Map([["symbol",s7],["color",sg],["opacity",c7]]);function u7(t,e,n={}){return(r,i)=>{if(!zs.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return zs.get(r)(t[r],fg(e,n[r],i),o=>t[o])}}function fg({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return a8(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function sg(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return f7(t,n);case"ramp":return d4(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function c7({type:t,interpolate:e,...n},{legend:r=!0,color:i=mn(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return sg({type:t,...n,interpolate:l7(i)},{legend:r,...o})}function l7(t){const{r:e,g:n,b:r}=mn(t)||mn(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function h7(t,e,n){const r=[];for(const[i,o]of zs){const a=n[i];if(a!=null&&a.legend&&i in t){const f=o(t[i],fg(e,t[i],a),s=>t[s]);f!=null&&r.push(f)}}return r}const d7={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},p7={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class m7 extends ce{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:f=r,rx:s,ry:u}=e;super($o,void 0,e,n==null?d7:p7),this.anchor=C1(n,"anchor",["top","right","bottom","left"]),this.insetTop=Mt(i),this.insetRight=Mt(o),this.insetBottom=Mt(a),this.insetLeft=Mt(f),this.rx=Mt(s),this.ry=Mt(u)}render(e,n,r,i,o){const{marginTop:a,marginRight:f,marginBottom:s,marginLeft:u,width:c,height:h}=i,{anchor:l,insetTop:d,insetRight:p,insetBottom:m,insetLeft:g,rx:_,ry:b}=this,v=u+g,y=c-f-p,w=a+d,x=h-s-m;return zt(l?"svg:line":"svg:rect",o).datum(0).call(en,this,i,o).call(nn,this).call(Jn,this,r).call(Ie,this,{}).call(l==="left"?$=>$.attr("x1",v).attr("x2",v).attr("y1",w).attr("y2",x):l==="right"?$=>$.attr("x1",y).attr("x2",y).attr("y1",w).attr("y2",x):l==="top"?$=>$.attr("x1",v).attr("x2",y).attr("y1",w).attr("y2",w):l==="bottom"?$=>$.attr("x1",v).attr("x2",y).attr("y1",x).attr("y2",x):$=>$.attr("x",v).attr("y",w).attr("width",y-v).attr("height",x-w).attr("rx",_).attr("ry",b)).node()}}function g7(t){return new m7(t)}const Bf={ariaLabel:"tip",fill:"white",stroke:"currentColor"},b7=new Set(["geometry","href","src","ariaLabel","scales"]);class y7 extends ce{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&vn(e)&&R1(e)&&(n={...n,title:Bt});const{x:r,y:i,x1:o,x2:a,y1:f,y2:s,anchor:u,monospace:c,fontFamily:h=c?"ui-monospace, monospace":void 0,fontSize:l,fontStyle:d,fontVariant:p,fontWeight:m,lineHeight:g=1,lineWidth:_=20,frameAnchor:b,format:v,textAnchor:y="start",textOverflow:w,textPadding:x=8,title:$,pointerSize:E=12,pathFilter:N="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&s!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:s==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:s,scale:"y",optional:f==null},title:{value:$,optional:!0}},n,Bf),this.anchor=I1(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=Nu(b),this.textAnchor=Pt(y,"middle"),this.textPadding=+x,this.pointerSize=+E,this.pathFilter=Ht(N),this.lineHeight=+g,this.lineWidth=+_,this.textOverflow=Fm(w),this.monospace=!!c,this.fontFamily=Ht(h),this.fontSize=Mt(l),this.fontStyle=Ht(d),this.fontVariant=Ht(p),this.fontWeight=Ht(m);for(const D in Bf)D in this.channels&&(this[D]=Bf[D]);this.splitLines=Im(this),this.clipLine=Pm(this),this.format={...v}}render(e,n,r,i,o){const a=this,{x:f,y:s,fx:u,fy:c}=n,{ownerSVGElement:h,document:l}=o,{anchor:d,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:_,pointerSize:b,pathFilter:v}=this,{marginTop:y,marginLeft:w}=i,{x1:x,y1:$,x2:E,y2:N,x:D=x??E,y:T=$??N}=r,L=u?u(e.fx)-w:0,O=c?c(e.fy)-y:0,[P,S]=Xa(this,i),z=ym(r,P),G=_m(r,S),j=p?ju:Xu,X=j(_r);let q,B;"title"in r?(q=r.channels,B=$7):(q=M7.call(this,r,n),B=S7);const U=zt("svg:g",o).call(en,this,i,o).call(Rm,this).call(Ie,this,{x:D&&f,y:T&&s}).call(Z=>Z.selectAll().data(e).enter().append("g").attr("transform",V=>`translate(${Math.round(z(V))},${Math.round(G(V))})`).call(nn,this).call(V=>V.append("path").attr("filter",v)).call(V=>V.append("text").each(function(F){const R=ai(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const k=B.call(a,F,e,q,n,r);if(typeof k=="string")for(const C of a.splitLines(k))H(R,{value:a.clipLine(C)});else{const C=new Set;for(const Y of k){const{label:A=""}=Y;A&&C.has(A)||(C.add(A),H(R,Y))}}})));function H(Z,{label:V,value:F,color:R,opacity:k}){V??(V=""),F??(F="");const C=R!=null||k!=null;let Y,A=g*100;const[et]=Lr(V,A,j,X);if(et>=0)V=V.slice(0,et).trimEnd()+_r,Y=F.trim(),F="";else{(V||!F&&!C)&&(F=" "+F);const[lt]=Lr(F,A-j(V),j,X);lt>=0&&(F=F.slice(0,lt).trimEnd()+_r,Y=F.trim())}const W=Z.append("tspan").attr("x",0).attr("dy",`${m}em`).text("");V&&W.append("tspan").attr("font-weight","bold").text(V),F&&W.append(()=>l.createTextNode(F)),C&&W.append("tspan").text(" ").attr("fill",R).attr("fill-opacity",k).style("user-select","none"),Y&&W.append("title").text(Y)}function J(){const{width:Z,height:V}=i.facet??i;U.selectChildren().each(function(F){let{x:R,width:k,height:C}=this.getBBox();k=Math.round(k),C=Math.round(C);let Y=d;if(Y===void 0){Y=a.previousAnchor;const W=z(F)+L,lt=G(F)+O,ht=W+k+_*2<Z,bt=W-k-_*2>0,te=lt+C+b+_*2+7<V,$n=lt-C-b-_*2>0,er=(/-left$/.test(Y)?ht||!bt:ht&&!bt)?"left":"right",nr=(/^top-/.test(Y)?te||!$n:te&&!$n)?"top":"bottom";Y=a.previousAnchor=`${nr}-${er}`}const A=this.firstChild,et=this.lastChild;if(A.setAttribute("d",x7(Y,b,_,k,C)),R)for(const W of et.childNodes)W.setAttribute("x",-R);et.setAttribute("y",`${+w7(Y,et.childNodes.length,m).toFixed(6)}em`),et.setAttribute("transform",`translate(${v7(Y,b,_,k,C)})`)}),U.attr("visibility",null)}return e.length&&(U.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(J):typeof requestAnimationFrame<"u"&&requestAnimationFrame(J)),U.node()}}function _7(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Eu(e,n)),new y7(t,{...r,x:e,y:n})}function w7(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function v7(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function x7(t,e,n,r,i){const o=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${a}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${a}h${-o}v${-a}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${a}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-o}v${a}h${o}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-a}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-a}h${-o}v${a}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-a}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${o}v${a}h${-o}v${e/2-a/2}z`}}function M7({channels:t},e){var i,o;const n={};let r=this.format;r=Kl(r,t,"x"),r=Kl(r,t,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const s=El(t,a);s&&(n[a]=s)}}for(const a in t){if(a in n||a in r||b7.has(a))continue;const f=El(t,a);f&&(n[a]=f)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const f=this.format[a];if(typeof f=="string"){const s=((i=n[a])==null?void 0:i.value)??((o=e[a])==null?void 0:o.domain())??[];this.format[a]=(jt(s)?Ui:Ir)(f)}else if(f===void 0||f===!0){const s=e[a];this.format[a]=s!=null&&s.bandwidth?Zu(s,s.domain()):Gn}}return n}function Kl(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const o=Object.entries(t),a=t[n];return o.splice(o.findIndex(([f])=>f===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function $7(t,e,{title:n}){return Gn(n.value[t],t)}function*S7(t,e,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:ca(r,n,o),value:this.format[o](e[o],t)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:Jl(r,n,"x"),value:Ql(this.format.x2,n.x1,a,t)};else if(o==="y2"&&"y1"in n)yield{label:Jl(r,n,"y"),value:Ql(this.format.y2,n.y1,a,t)};else{const f=a.value[t],s=a.scale;if(!bn(f)&&s==null)continue;yield{label:ca(r,n,o),value:this.format[o](f,t),color:s==="color"?i[o][t]:null,opacity:s==="opacity"?i[o][t]:null}}}}function Ql(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}${t(n.value[r],r)}`}function Jl(t,e,n){const r=ca(t,e,`${n}1`,n),i=ca(t,e,`${n}2`,n);return r===i?r:`${r}${i}`}function ca(t,e,n,r=n){const i=e[n],o=t[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function zr(t={}){var X;const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,s=Iu(t.className),u=t.marks===void 0?[]:eh(t.marks);u.push(...F7(u));const c=N7(e,t),h=new Map;for(const q of u){const B=nh(q,c,t);B&&h.set(q,B)}const l=new Map;c&&Zr(l,[c],t),Zr(l,h,t);const d=eh(L7(u,l,t));for(const q of d){const B=nh(q,c,t);B&&h.set(q,B)}u.unshift(...d);let p=Z5(l,t);if(p!==void 0){const q=c?Pf(p,c):void 0;for(const U of u){if(U.facet===null||U.facet==="super")continue;const H=h.get(U);H!==void 0&&(H.facetsIndex=U.fx!=null||U.fy!=null?Pf(p,H):q)}const B=new Set;for(const{facetsIndex:U}of h.values())U==null||U.forEach((H,J)=>{(H==null?void 0:H.length)>0&&B.add(J)});p.forEach(0<B.size&&B.size<p.length?(U,H)=>U.empty=!B.has(H):U=>U.empty=!1);for(const U of u)if(U.facet==="exclude"){const H=h.get(U);H!==void 0&&(H.facetsIndex=J5(H.facetsIndex))}}for(const q of Et.keys())Ds(t[q])&&q!=="fx"&&q!=="fy"&&l.set(q,[]);const m=new Map;for(const q of u){if(m.has(q))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:B,channels:U}=h.get(q)??{},{data:H,facets:J,channels:Z}=q.initialize(B,U,t);Ku(Z,t),m.set(q,{data:H,facets:J,channels:Z})}const g=Ps(Zr(l,m,t),t),_=X5(g,u,t);U5(g,_);const b=Pl(g),{fx:v,fy:y}=b,w=v||y?hm(g,_):_,x=v||y?z7(b,_):_,$=Ou(t),E=$.document,N=Ma("svg").call(E.documentElement);let D=N;$.ownerSVGElement=N,$.className=s,$.projection=Q8(t,w),$.filterFacets=(q,B)=>Pf(p,{channels:B,groups:Yu(q,B)}),$.getMarkState=q=>{const B=m.get(q),U=h.get(q);return{...B,channels:{...B.channels,...U==null?void 0:U.channels}}},$.dispatchValue=q=>{D.value!==q&&(D.value=q,D.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[q,B]of m)if(q.initializer!=null){const U=q.facet==="super"?x:w,H=q.initializer(B.data,B.facets,B.channels,b,U,$);if(H.data!==void 0&&(B.data=H.data),H.facets!==void 0&&(B.facets=H.facets),H.channels!==void 0){const{fx:J,fy:Z,...V}=H.channels;C7(V),Object.assign(B.channels,V);for(const F of Object.values(V)){const{scale:R}=F;R!=null&&!s8(Et.get(R))&&(ug(F,t),T.add(R))}(J!=null||Z!=null)&&h.set(q,!0)}}if(T.size){const q=new Map;Zr(q,m,t,J=>T.has(J)),Zr(l,m,t,J=>T.has(J));const B=B7(Ps(q,t),g),{scales:U,...H}=Pl(B);Object.assign(g,B),Object.assign(b,H),Object.assign(b.scales,U)}let L,O;p!==void 0&&(L={x:v==null?void 0:v.domain(),y:y==null?void 0:y.domain()},p=K5(p,L),O=Q5(v,y,_));for(const[q,B]of m)B.values=q.scale(B.channels,b,$);const{width:P,height:S}=_;ai(N).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",S).attr("viewBox",`0 0 ${P} ${S}`).attr("aria-label",a).attr("aria-description",f).call(q=>q.append("style").text(`.${s} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${s} text,
.${s} tspan {
  white-space: pre;
}`)).call(Pu,n);for(const q of u){const{channels:B,values:U,facets:H}=m.get(q);if(p===void 0||q.facet==="super"){let J=null;if(H&&(J=H[0],J=q.filter(J,B,U),J.length===0))continue;const Z=q.render(J,b,U,x,$);if(Z==null)continue;N.appendChild(Z)}else{let J;for(const Z of p){if(!(((X=q.facetAnchor)==null?void 0:X.call(q,p,L,Z))??!Z.empty))continue;let V=null;if(H){const R=h.has(q);if(V=H[R?Z.i:0],V=q.filter(V,B,U),V.length===0)continue;!R&&V===H[0]&&(V=j6(V)),V.fx=Z.x,V.fy=Z.y,V.fi=Z.i}const F=q.render(V,b,U,w,$);if(F!=null){(J??(J=ai(N).append("g"))).append(()=>F).datum(Z);for(const R of["aria-label","aria-description","aria-hidden","transform"])F.hasAttribute(R)&&(J.attr(R,F.getAttribute(R)),F.removeAttribute(R))}}J==null||J.selectChildren().attr("transform",O)}}const z=h7(g,$,t),{figure:G=r!=null||i!=null||o!=null||z.length>0}=t;G&&(D=E.createElement("figure"),D.className=`${s}-figure`,D.style.maxWidth="initial",r!=null&&D.append(th(E,r,"h2")),i!=null&&D.append(th(E,i,"h3")),D.append(...z,N),o!=null&&D.append(T7(E,o))),D.scale=G5(b.scales),D.legend=u7(g,$,t);const j=O8();return j>0&&ai(N).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${j.toLocaleString("en-US")} warning${j===1?"":"s"}. Please check the console.`),D}function th(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function T7(t,e){const n=t.createElement("figcaption");return n.append(e),n}function k7({marks:t=[],...e}={}){return zr({...e,marks:[...t,this]})}ce.prototype.plot=k7;function eh(t){return t.flat(1/0).filter(e=>e!=null).map(E7)}function E7(t){return typeof t.render=="function"?t:new A7(t)}class A7 extends ce{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Ku(t,e){for(const n in t)ug(t[n],e);return t}function ug(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?s=>s*100:L1(a,i)}=e[n]??{};f!=null&&(t.value=Ct(t.value,f),t.transform=!1)}function C7(t){for(const e in t)V1(e,t[e])}function Zr(t,e,n,r=Y6){var i,o;for(const{channels:a}of e.values())for(const f in a){const s=a[f],{scale:u}=s;if(u!=null&&r(u))if(u==="projection"){if(!n5(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,h=((o=n.y)==null?void 0:o.domain)===void 0;if(c||h){const[l,d]=i5(s);c&&zf(t,"x",l),h&&zf(t,"y",d)}}}else zf(t,u,s)}return t}function zf(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function N7(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=Jt(t.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=Si(i,{value:n,scale:"fx"})),r!=null&&(o.fy=Si(i,{value:r,scale:"fy"})),Ku(o,e);const a=Yu(i,o);return{channels:o,groups:a,data:t.data}}function nh(t,e,n){var s;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=Jt(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=Si(u,{value:r,scale:"fx"})),i!=null&&(c.fy=Si(u,{value:i,scale:"fy"})),Ku(c,n),{channels:c,groups:Yu(u,c)}}if(e===void 0)return;const{channels:o,groups:a,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&((s=Jt(t.data))==null?void 0:s.length)===f.length&&cn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function D7(t,e={}){return sa({...e,x:null,y:null},(n,r,i,o,a,f)=>f.getMarkState(t))}function F7(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i}=r;i=/^x$/i.test(i)?l4:/^y$/i.test(i)?h4:c4,r=i(D7(n,r)),r.title=null;const o=_7(n.data,r);o.facet=n.facet,o.facetAnchor=n.facetAnchor,e.push(o)}}return e}function L7(t,e,n){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:s,grid:u,facet:c={},facet:{axis:h=s,grid:l}=c,x:{axis:d=s,grid:p=d===null?null:u}=i,y:{axis:m=s,grid:g=m===null?null:u}=o,fx:{axis:_=h,grid:b=_===null?null:l}=a,fy:{axis:v=h,grid:y=v===null?null:l}=f}=n;(r||!Ds(i)&&!rh("x",t))&&(d=p=null),(r||!Ds(o)&&!rh("y",t))&&(m=g=null),e.has("fx")||(_=b=null),e.has("fy")||(v=y=null),d===void 0&&(d=!go(t,"x")),m===void 0&&(m=!go(t,"y")),_===void 0&&(_=!go(t,"fx")),v===void 0&&(v=!go(t,"fy")),d===!0&&(d="bottom"),m===!0&&(m="left"),_===!0&&(_=d==="top"||d===null?"bottom":"top"),v===!0&&(v=m==="right"||m===null?"left":"right");const w=[];return mo(w,y,Q4,f),po(w,v,W4,"right","left",c,f),mo(w,b,t7,a),po(w,_,G4,"top","bottom",c,a),mo(w,g,K4,o),po(w,m,Vm,"left","right",n,o),mo(w,p,J4,i),po(w,d,Xm,"bottom","top",n,i),w}function po(t,e,n,r,i,o,a){if(!e)return;const f=R7(e);a=I7(f?r:e,o,a);const{line:s}=a;(n===Vm||n===Xm)&&s&&!$i(s)&&t.push(g7(P7(a))),t.push(n(a)),f&&t.push(n({...a,anchor:i,label:null}))}function mo(t,e,n,r){!e||$i(e)||t.push(n(O7(e,r)))}function R7(t){return/^\s*both\s*$/i.test(t)}function I7(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:h,label:l=e.label,labelAnchor:d,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:h,label:l,labelAnchor:d,labelArrow:p,labelOffset:m}}function P7(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function O7(t,{stroke:e=Ga(t)?t:void 0,ticks:n=U7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function U7(t){switch(typeof t){case"number":return!0;case"string":return!Ga(t)}return vn(t)||typeof(t==null?void 0:t.range)=="function"}function go(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function rh(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function B7(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function z7({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:s}=qu(n),u=t&&ih(t),c=e&&ih(e);return{marginTop:e?c[0]:r,marginRight:t?f-u[1]:i,marginBottom:e?s-c[1]:o,marginLeft:t?u[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:s}}function ih(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const q7=new Map([["basis",g6],["basis-closed",b6],["basis-open",y6],["bundle",_6],["bump-x",o6],["bump-y",a6],["cardinal",w6],["cardinal-closed",v6],["cardinal-open",x6],["catmull-rom",M6],["catmull-rom-closed",$6],["catmull-rom-open",S6],["linear",qa],["linear-closed",T6],["monotone-x",k6],["monotone-y",E6],["natural",A6],["step",C6],["step-after",D6],["step-before",N6]]);function Y7(t=qa,e){if(typeof t=="function")return t;const n=q7.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function H7(t=la,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?la:Y7(t,e)}function la(t){return qa(t)}function W7(t={y:"count"},e={}){[t,e]=j7(t,e);const{x:n,y:r}=e;return X7(Z7(n,e,Bt),null,null,r,t,Gu(e))}function G7(t,e,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=Ru}=n,i={filter:null};return n[e]!=null&&(i[e]=r),n[`${e}1`]!=null&&(i[`${e}1`]=r),n[`${e}2`]!=null&&(i[`${e}2`]=r),t(i,n)}function V7(t={}){return G7(W7,"y",Qa(t,"x"))}function X7(t,e,n,r,{data:i=G1,filter:o=ua,sort:a,reverse:f,...s}={},u={}){t=oh(t),e=oh(e),s=Q7(s,u),i=hg(i,Bt),a=a==null?void 0:cg("sort",a,u),o=o==null?void 0:lg("filter",o,u),n!=null&&uo(s,"x","x1","x2")&&(n=null),r!=null&&uo(s,"y","y1","y2")&&(r=null);const[c,h]=ze(t),[l,d]=ze(t),[p,m]=ze(e),[g,_]=ze(e),[b,v]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[y,w]=ze(b),{x,y:$,z:E,fill:N,stroke:D,x1:T,x2:L,y1:O,y2:P,domain:S,cumulative:z,thresholds:G,interval:j,...X}=u,[q,B]=ze(E),[U]=Qe(N),[H]=Qe(D),[J,Z]=ze(U),[V,F]=ze(H);return{..."z"in u&&{z:q||E},..."fill"in u&&{fill:J||N},..."stroke"in u&&{stroke:V||D},...Fu(X,(R,k,C)=>{const Y=F1(Rt(R,b),C==null?void 0:C[v]),A=Rt(R,E),et=Rt(R,U),W=Rt(R,H),lt=_8(s,{z:A,fill:et,stroke:W}),ht=[],bt=[],te=Y&&w([]),$n=A&&B([]),er=et&&Z([]),nr=W&&F([]),qt=t&&h([]),Xi=t&&d([]),tc=e&&m([]),Mg=e&&_([]),$g=e9(t==null?void 0:t(R),e==null?void 0:e(R));let Sg=0;for(const rr of s)rr.initialize(R);a&&a.initialize(R),o&&o.initialize(R);for(const rr of k){const ec=[];for(const qr of s)qr.scope("facet",rr);a&&a.scope("facet",rr),o&&o.scope("facet",rr);for(const[qr,Tg]of $l(rr,lt))for(const[kg,ji]of $l(Tg,Y))for(const[$e,Sn]of $g(ji))if(!(o&&!o.reduce($e,Sn))){ec.push(Sg++),bt.push(i.reduceIndex($e,R,Sn)),Y&&te.push(kg),A&&$n.push(lt===A?qr:A[($e.length>0?$e:ji)[0]]),et&&er.push(lt===et?qr:et[($e.length>0?$e:ji)[0]]),W&&nr.push(lt===W?qr:W[($e.length>0?$e:ji)[0]]),qt&&(qt.push(Sn.x1),Xi.push(Sn.x2)),tc&&(tc.push(Sn.y1),Mg.push(Sn.y2));for(const Eg of s)Eg.reduce($e,Sn);a&&a.reduce($e)}ht.push(ec)}return w8(ht,a,f),{data:bt,facets:ht}}),...!uo(s,"x")&&(c?{x1:c,x2:l,x:Fs(c,l)}:{x,x1:T,x2:L}),...!uo(s,"y")&&(p?{y1:p,y2:g,y:Fs(p,g)}:{y:$,y1:O,y2:P}),...y&&{[v]:y},...Object.fromEntries(s.map(({name:R,output:k})=>[R,k]))}}function j7({cumulative:t,domain:e,thresholds:n,interval:r,...i},o){return[i,{cumulative:t,domain:e,thresholds:n,interval:r,...o}]}function Z7(t,{cumulative:e,domain:n,thresholds:r,interval:i},o){return t={...qi(t)},t.domain===void 0&&(t.domain=n),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=K7(t.thresholds,t.interval),t}function oh(t){if(t==null)return;const{value:e,cumulative:n,domain:r=re,thresholds:i}=t,o=a=>{let f=Rt(a,e),s;if(jt(f)||t9(i)){f=Ct(f,A1,Float64Array);let[c,h]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!pr(i)?i(f,c,h):i;typeof l=="number"&&(l=N0(c,h,l)),pr(l)&&(r===re&&(c=l.floor(c),h=l.offset(l.floor(h))),l=l.range(c,l.offset(h))),s=l}else{f=Nr(f);let[c,h]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!pr(i)?i(f,c,h):i;if(typeof l=="number")if(r===re){let d=Co(c,h,l);if(isFinite(d))if(d>0){let p=Math.round(c/d),m=Math.round(h/d);p*d<=c||--p,m*d>h||++m;let g=m-p+1;l=new Float64Array(g);for(let _=0;_<g;++_)l[_]=(p+_)*d}else if(d<0){d=-d;let p=Math.round(c*d),m=Math.round(h*d);p/d<=c||--p,m/d>h||++m;let g=m-p+1;l=new Float64Array(g);for(let _=0;_<g;++_)l[_]=(p+_)/d}else l=[c];else l=[c]}else l=di(c,h,l);else pr(l)&&(r===re&&(c=l.floor(c),h=l.offset(l.floor(h))),l=l.range(c,l.offset(h)));s=l}const u=[];if(s.length===1)u.push([s[0],s[0]]);else for(let c=1;c<s.length;++c)u.push([s[c-1],s[c]]);return u.bin=(n<0?r9:n>0?n9:Qu)(u,s,f),u};return o.label=Qn(e),o}function K7(t,e,n=ah){if(t===void 0)return e===void 0?n:Or(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return T2;case"scott":return Hh;case"sturges":return x2;case"auto":return ah}return Mu(t)}return t}function Q7(t,e){return g8(t,e,cg)}function cg(t,e,n){return H1(t,e,n,lg)}function lg(t,e,n){return W1(t,e,n,hg)}function hg(t,e){return Lu(t,e,J7)}function J7(t){switch(`${t}`.toLowerCase()){case"x":return i9;case"x1":return a9;case"x2":return f9;case"y":return o9;case"y1":return s9;case"y2":return u9}throw new Error(`invalid bin reduce: ${t}`)}function ah(t,e,n){return Math.min(200,Hh(t,e,n))}function t9(t){return Q6(t)||vn(t)&&jt(t)}function e9(t,e){return t&&e?function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries()){const f=e.bin(r[i]);for(const[s,[u,c]]of e.entries())yield[f[s],{x1:o,y1:u,x2:a,y2:c}]}}:t?function*(n){const r=t.bin(n);for(const[i,[o,a]]of t.entries())yield[r[i],{x1:o,x2:a}]}:function*(n){const r=e.bin(n);for(const[i,[o,a]]of e.entries())yield[r[i],{y1:o,y2:a}]}}function Qu(t,e,n){return e=Nr(e),r=>{var o;const i=t.map(()=>[]);for(const a of r)(o=i[_a(e,n[a])-1])==null||o.push(a);return i}}function n9(t,e,n){const r=Qu(t,e,n);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const s=o[a-1],u=o[a];for(const c of s)u.push(c)}return o}}function r9(t,e,n){const r=Qu(t,e,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],s=o[a];for(const u of f)s.push(u)}return o}}function dg(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const i9={reduceIndex(t,e,{x1:n,x2:r}){return dg(n,r)}},o9={reduceIndex(t,e,{y1:n,y2:r}){return dg(n,r)}},a9={reduceIndex(t,e,{x1:n}){return n}},f9={reduceIndex(t,e,{x2:n}){return n}},s9={reduceIndex(t,e,{y1:n}){return n}},u9={reduceIndex(t,e,{y2:n}){return n}};function c9(t={}){return N1(t)?t:{...t,y:Bt}}function l9(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,r=new Uint8Array(n);let i=0;for(const f of e)for(const s of f)r[s]&&++i,r[s]=1;if(i===0)return{data:t,facets:e};t=xi(t);const o=t[k1]=new Uint32Array(n+i);e=e.map(f=>xi(f,Uint32Array));let a=n;r.fill(0);for(const f of e)for(let s=0,u=f.length;s<u;++s){const c=f[s];r[c]?(f[s]=a,t[a]=t[c],o[a]=c,++a):o[c]=c,r[c]=1}return{data:t,facets:e}}function h9(t={},e={}){arguments.length===1&&([t,e]=p9(t));const{x1:n,x:r=n,y:i,...o}=e,[a,f,s,u]=g9(r,i,"x","y",t,o);return{...a,x1:n,x:f,y1:s,y2:u,y:Fs(s,u)}}function d9({y:t,y1:e,y2:n,...r}={}){return r=Qa(r,"x"),e===void 0&&n===void 0?h9({y:t,...r}):([e,n]=X6(t,e,n),{...r,y1:e,y2:n})}function p9(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const m9={length:!0};function g9(t,e=q6,n,r,{offset:i,order:o,reverse:a},f){if(e===null)throw new Error(`stack requires ${r}`);const s=D1(f),[u,c]=ze(t),[h,l]=fa(e),[d,p]=fa(e);return h.hint=d.hint=m9,i=b9(i),o=w9(o,i,r),[Fu(f,(m,g,_)=>{({data:m,facets:g}=l9(m,g));const b=t==null?void 0:c(F1(Rt(m,t),_==null?void 0:_[n])),v=Rt(m,e,Float64Array),y=Rt(m,s),w=o&&o(m,b,v,y),x=m.length,$=l(new Float64Array(x)),E=p(new Float64Array(x)),N=[];for(const D of g){const T=b?Array.from(va(D,L=>b[L]).values()):[D];if(w)for(const L of T)L.sort(w);for(const L of T){let O=0,P=0;a&&L.reverse();for(const S of L){const z=v[S];z<0?O=E[S]=($[S]=O)+z:z>0?P=E[S]=($[S]=P)+z:E[S]=$[S]=P}}N.push(T)}return i&&i(N,$,E,y),{data:m,facets:g}}),u,h,d]}function b9(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return y9;case"center":case"silhouette":return _9;case"wiggle":return mg}throw new Error(`unknown offset: ${t}`)}}function pg(t,e){let n=0,r=0;for(const i of t){const o=e[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function y9(t,e,n){for(const r of t)for(const i of r){const[o,a]=pg(i,n);for(const f of i){const s=1/(a-o||1);e[f]=s*(e[f]-o),n[f]=s*(n[f]-o)}}}function _9(t,e,n){for(const r of t){for(const i of r){const[o,a]=pg(i,n);for(const f of i){const s=(a+o)/2;e[f]-=s,n[f]-=s}}gg(r,e,n)}bg(t,e,n)}function mg(t,e,n,r){for(const i of t){const o=new On;let a=0;for(const f of i){let s=-1;const u=f.map(d=>Math.abs(n[d]-e[d])),c=f.map(d=>{s=r?r[d]:++s;const p=n[d]-e[d],m=o.has(s)?p-o.get(s):0;return o.set(s,p),m}),h=[0,...g2(c)];for(const d of f)e[d]+=a,n[d]+=a;const l=pn(u);l&&(a-=pn(u,(d,p)=>(c[p]/2+h[p])*d)/l)}gg(i,e,n)}bg(t,e,n)}function gg(t,e,n){const r=Ve(t,i=>Ve(i,o=>e[o]));for(const i of t)for(const o of i)e[o]-=r,n[o]-=r}function bg(t,e,n){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(Ve(f,s=>e[s])+pe(f,s=>n[s]))/2),a=Ve(o);for(let f=0;f<r;f++){const s=a-o[f];for(const u of i[f])e[u]+=s,n[u]+=s}}function w9(t,e,n){if(t===void 0&&e===mg)return fh(ye);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?aa:ye;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return v9(i);case"z":return x9(i);case"sum":return M9(i);case"appearance":return $9(i);case"inside-out":return fh(i)}return sh(E1(t))}if(typeof t=="function")return(t.length===1?sh:S9)(t);if(Array.isArray(t))return T9(t);throw new Error(`invalid order: ${t}`)}}function v9(t){return(e,n,r)=>(i,o)=>t(r[i],r[o])}function x9(t){return(e,n,r,i)=>(o,a)=>t(i[o],i[a])}function M9(t){return ef(t,(e,n,r,i)=>Ws(Je(e),o=>pn(o,a=>r[a]),o=>i[o]))}function $9(t){return ef(t,(e,n,r,i)=>Ws(Je(e),o=>n[Yh(o,a=>r[a])],o=>i[o]))}function fh(t){return ef(t,(e,n,r,i)=>{const o=Je(e),a=Ws(o,h=>n[Yh(h,l=>r[l])],h=>i[h]),f=gr(o,h=>pn(h,l=>r[l]),h=>i[h]),s=[],u=[];let c=0;for(const h of a)c<0?(c+=f.get(h),s.push(h)):(c-=f.get(h),u.push(h));return u.reverse().concat(s)})}function sh(t){return e=>{const n=Rt(e,t);return(r,i)=>ye(n[r],n[i])}}function S9(t){return e=>(n,r)=>t(e[n],e[r])}function T9(t){return ef(ye,()=>t)}function ef(t,e){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new On(e(n,r,i,o).map((f,s)=>[f,s]));return(f,s)=>t(a.get(o[f]),a.get(o[s]))}}class yg extends ce{constructor(e,n,r={},i){super(e,n,r,i);const{inset:o=0,insetTop:a=o,insetRight:f=o,insetBottom:s=o,insetLeft:u=o,rx:c,ry:h}=r;this.insetTop=Mt(a),this.insetRight=Mt(f),this.insetBottom=Mt(s),this.insetLeft=Mt(u),this.rx=Pt(c,"auto"),this.ry=Pt(h,"auto")}render(e,n,r,i,o){const{rx:a,ry:f}=this;return zt("svg:g",o).call(en,this,i,o).call(this._transform,this,n).call(s=>s.selectAll().data(e).enter().append("rect").call(nn,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(nt,"rx",a).call(nt,"ry",f).call(Jn,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:f}=this,s=n&&e?e.bandwidth():o-r-i;return Math.max(0,s-a-f)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:f}=this,s=n&&e?e.bandwidth():o-r-i;return Math.max(0,s-a-f)}}const k9={ariaLabel:"bar"};class E9 extends yg{constructor(e,n={}){const{x:r,y1:i,y2:o}=n;super(e,{y1:{value:i,scale:"y"},y2:{value:o,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,k9)}_transform(e,n,{y:r}){e.call(Ie,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:i}){const{insetTop:o}=this;return Fr(e)?i+o:a=>Math.min(n[a],r[a])+o}_height({y:e},{y1:n,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:f,insetBottom:s}=this;return Fr(e)?a-i-o-f-s:u=>Math.max(0,Math.abs(r[u]-n[u])-f-s)}}function A9(t,e={}){return V6(e)||(e={...e,x:$u,y2:Bt}),new E9(t,d9(Em(c9(e))))}const C9={ariaLabel:"cell"};class N9 extends yg{constructor(e,{x:n,y:r,...i}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,C9)}_transform(e,n){e.call(Ie,n,{},0,0)}}function D9(t,{x:e,y:n,...r}={}){return[e,n]=Eu(e,n),new N9(t,{...r,x:e,y:n})}const F9={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class L9 extends ce{constructor(e,n={}){const{x:r,y:i,z:o,curve:a,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:D1(n),optional:!0}},n,F9),this.z=o,this.curve=H7(a,f),Ja(this,n)}filter(e){return e}project(e,n,r){this.curve!==la&&super.project(e,n,r)}render(e,n,r,i,o){const{x:a,y:f}=r,{curve:s}=this;return zt("svg:g",o).call(en,this,i,o).call(Ie,this,n).call(u=>u.selectAll().data(X8(e,[a,f],this,r)).enter().append("path").call(nn,this).call(W8,this,r).call(b4,this,r,o).attr("d",s===la&&o.projection?R9(o.projection,a,f):i6().curve(s).defined(c=>c>=0).x(c=>a[c]).y(c=>f[c]))).node()}}function R9(t,e,n){const r=ou(t);return e=Nr(e),n=Nr(n),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function _g(t,{x:e=$u,y:n=Bt,...r}={}){return new L9(t,V7({...r,x:e,y:n}))}const I9={ariaLabel:"tick",fill:null,stroke:"currentColor"};class P9 extends ce{constructor(e,n,r){super(e,n,r,I9),Ja(this,r)}render(e,n,r,i,o){return zt("svg:g",o).call(en,this,i,o).call(this._transform,this,n).call(a=>a.selectAll().data(e).enter().append("line").call(nn,this).attr("x1",this._x1(n,r,i)).attr("x2",this._x2(n,r,i)).attr("y1",this._y1(n,r,i)).attr("y2",this._y2(n,r,i)).call(Jn,this,r).call(Wu,this,r,o)).node()}}class O9 extends P9{constructor(e,n={}){const{x:r,y:i,inset:o=0,insetTop:a=o,insetBottom:f=o}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},n),this.insetTop=Mt(a),this.insetBottom=Mt(f)}_transform(e,n,{x:r}){e.call(Ie,n,{x:r},Gt,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){const{insetTop:i}=this;return n&&e?o=>n[o]+i:r+i}_y2({y:e},{y:n},{height:r,marginBottom:i}){const{insetBottom:o}=this;return n&&e?a=>n[a]+e.bandwidth()-o:r-i-o}}function U9(t,{x:e=Bt,...n}={}){return new O9(t,{...n,x:e})}function B9(t){let e,n,r,i,o,a;return{c(){e=I("main"),n=I("div"),o=K(),a=I("div"),a.textContent=`Each note is represented by a tick placed at its onset time from left to
        right. A smaller gap indicates an early note.`,Q(n,"width",r=t[0]+"px"),Q(n,"height",i=t[1]+"px"),ln(e,"width",t[0]+"px")},m(f,s){st(f,e,s),M(e,n),t[4](n),M(e,o),M(e,a)},p(f,[s]){s&1&&r!==(r=f[0]+"px")&&Q(n,"width",r),s&2&&i!==(i=f[1]+"px")&&Q(n,"height",i),s&1&&ln(e,"width",f[0]+"px")},i:At,o:At,d(f){f&&ot(e),t[4](null)}}}function z9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;ki(()=>{const s=zr({width:i,height:o,marginLeft:1,marginRight:1,x:{axis:!1},y:{axis:!1},marks:[U9(r,{x:u=>u})]});n(2,a.textContent="",a),a.appendChild(s)});function f(s){hn[s?"unshift":"push"](()=>{a=s,n(2,a)})}return t.$$set=s=>{"pattern"in s&&n(3,r=s.pattern),"width"in s&&n(0,i=s.width),"height"in s&&n(1,o=s.height)},[i,o,a,r,f]}class ha extends ve{constructor(e){super(),we(this,e,z9,B9,_e,{pattern:3,width:0,height:1})}}function q9(t){let e,n,r,i,o,a;return{c(){e=I("main"),n=I("div"),o=K(),a=I("div"),a.textContent=`For each note but the first, the bars' height shows the distance to the
    previous note. A smaller bar indicates an early note.`,Q(n,"width",r=t[0]+"px"),Q(n,"height",i=t[1]+"px"),ln(e,"width",t[0]+"px")},m(f,s){st(f,e,s),M(e,n),t[4](n),M(e,o),M(e,a)},p(f,[s]){s&1&&r!==(r=f[0]+"px")&&Q(n,"width",r),s&2&&i!==(i=f[1]+"px")&&Q(n,"height",i),s&1&&ln(e,"width",f[0]+"px")},i:At,o:At,d(f){f&&ot(e),t[4](null)}}}function Y9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;ki(()=>{const s=r.map((c,h)=>h===0?0:c-r[h-1]),u=zr({width:i,height:o,marginLeft:0,marginRight:1,y:{axis:!1},marks:[A9(s,{x:(c,h)=>h+1,y:c=>c})]});n(2,a.textContent="",a),a.appendChild(u)});function f(s){hn[s?"unshift":"push"](()=>{a=s,n(2,a)})}return t.$$set=s=>{"pattern"in s&&n(3,r=s.pattern),"width"in s&&n(0,i=s.width),"height"in s&&n(1,o=s.height)},[i,o,a,r,f]}class da extends ve{constructor(e){super(),we(this,e,Y9,q9,_e,{pattern:3,width:0,height:1})}}function H9(t){let e,n,r,i,o,a;return{c(){e=I("main"),n=I("div"),o=K(),a=I("div"),a.textContent=`For each note but the first, the rectangles' color shows the distance to the
    previous note. A brighter recangle indicates an early note.`,Q(n,"width",r=t[0]+"px"),Q(n,"height",i=t[1]+"px"),ln(e,"width",t[0]+"px")},m(f,s){st(f,e,s),M(e,n),t[4](n),M(e,o),M(e,a)},p(f,[s]){s&1&&r!==(r=f[0]+"px")&&Q(n,"width",r),s&2&&i!==(i=f[1]+"px")&&Q(n,"height",i),s&1&&ln(e,"width",f[0]+"px")},i:At,o:At,d(f){f&&ot(e),t[4](null)}}}function W9(t,e,n){let{pattern:r}=e,{width:i=800}=e,{height:o=100}=e,a;ki(()=>{const s=r.map((c,h)=>h===0?0:c-r[h-1]),u=zr({width:i,height:o,marginLeft:0,marginRight:1,y:{axis:!1},color:{label:"time since previous note",scheme:"Greys"},marks:[D9(s,{x:(c,h)=>h+1,fill:c=>c})]});n(2,a.textContent="",a),a.appendChild(u)});function f(s){hn[s?"unshift":"push"](()=>{a=s,n(2,a)})}return t.$$set=s=>{"pattern"in s&&n(3,r=s.pattern),"width"in s&&n(0,i=s.width),"height"in s&&n(1,o=s.height)},[i,o,a,r,f]}class pa extends ve{constructor(e){super(),we(this,e,W9,H9,_e,{pattern:3,width:0,height:1})}}function G9(t){let e,n,r,i,o,a;return{c(){e=I("main"),n=I("div"),o=K(),a=I("div"),a.textContent=`The waveform of the audio showing the loudness over time time from left to
    right. Note onsets show up as peaks. A smaller gap between peaks indicates
    an early note.`,Q(n,"width",r=t[0]+"px"),Q(n,"height",i=t[1]+"px"),ln(e,"width",t[0]+"px")},m(f,s){st(f,e,s),M(e,n),t[6](n),M(e,o),M(e,a)},p(f,[s]){s&1&&r!==(r=f[0]+"px")&&Q(n,"width",r),s&2&&i!==(i=f[1]+"px")&&Q(n,"height",i),s&1&&ln(e,"width",f[0]+"px")},i:At,o:At,d(f){f&&ot(e),t[6](null)}}}function V9(t,e,n){let{pattern:r}=e,{audioFile:i}=e,{width:o=800}=e,{height:a=50}=e,f,s=null,u;const c=async p=>{n(5,s=await Fh(p)),console.log(`Loaded ${p}, sr= ${s.sampleRate}`),u=s.sampleRate};let h=null;const l=(p,m)=>{m&&(h=Lh(m,p,.5))};ki(()=>{if(n(2,f.textContent="",f),!h)return;const p=zr({width:o,height:a,marginLeft:0,marginRight:1,x:{axis:!1,label:"time in seconds"},y:{axis:!1},marks:[_g(h,{x:(m,g)=>g/u,y:m=>m})]});f.appendChild(p)});function d(p){hn[p?"unshift":"push"](()=>{f=p,n(2,f)})}return t.$$set=p=>{"pattern"in p&&n(3,r=p.pattern),"audioFile"in p&&n(4,i=p.audioFile),"width"in p&&n(0,o=p.width),"height"in p&&n(1,a=p.height)},t.$$.update=()=>{t.$$.dirty&16&&c(i),t.$$.dirty&40&&l(r,s)},[o,a,f,r,i,s,d]}class ma extends ve{constructor(e){super(),we(this,e,V9,G9,_e,{pattern:3,audioFile:4,width:0,height:1})}}function X9(t){let e,n,r,i,o,a;return{c(){e=I("main"),n=I("audio"),r=K(),i=I("button"),i.textContent="play audio (p)",n.controls=!1},m(f,s){st(f,e,s),M(e,n),t[6](n),M(e,r),M(e,i),o||(a=$t(i,"click",t[1]),o=!0)},p:At,i:At,o:At,d(f){f&&ot(e),t[6](null),o=!1,a()}}}function j9(t,e,n){let{pattern:r}=e,{audioFile:i}=e,{currentTrialNumber:o=-1}=e,a=null;const f=async d=>{n(5,a=await Fh(d)),console.log(`Loaded ${d}, sr= ${a.sampleRate}`)};let s=null,u;const c=(d,p)=>{p&&u&&(s=Lh(p,d),o2(s,p.sampleRate,u))},h=()=>{u&&(u.pause(),n(0,u.currentTime=0,u),u.play())};Ch(()=>{document.querySelector("html").addEventListener("keyup",d=>{d.key==="p"&&h()})});function l(d){hn[d?"unshift":"push"](()=>{u=d,n(0,u)})}return t.$$set=d=>{"pattern"in d&&n(2,r=d.pattern),"audioFile"in d&&n(3,i=d.audioFile),"currentTrialNumber"in d&&n(4,o=d.currentTrialNumber)},t.$$.update=()=>{t.$$.dirty&8&&f(i),t.$$.dirty&4&&console.log(r),t.$$.dirty&16&&o>-1&&window.setTimeout(h,200),t.$$.dirty&36&&c(r,a)},[u,h,r,i,o,a,l]}class ga extends ve{constructor(e){super(),we(this,e,j9,X9,_e,{pattern:2,audioFile:3,currentTrialNumber:4})}}function uh(t,e,n){const r=t.slice();return r[8]=e[n],r}function ch(t){let e,n=t[8].substring(0,30)+"",r;return{c(){e=I("option"),r=rt(n),e.__value=t[8],gt(e,e.__value)},m(i,o){st(i,e,o),M(e,r)},p:At,d(i){i&&ot(e)}}}function Z9(t){let e,n,r,i,o,a,f,s=(So*1e3).toFixed(0)+"",u,c,h,l,d,p,m,g,_=t[0].toFixed(1)+"",b,v,y=(t[2]*1e3).toFixed(1)+"",w,x,$,E,N,D,T,L,O,P,S,z,G,j,X,q,B,U,H,J,Z=dn(t[5]),V=[];for(let F=0;F<Z.length;F+=1)V[F]=ch(uh(t,Z,F));return O=new ga({props:{pattern:t[1],audioFile:t[3]}}),S=new ma({props:{pattern:t[1],audioFile:t[3],width:bo,height:yo}}),G=new ha({props:{pattern:t[1],width:bo,height:yo}}),X=new da({props:{pattern:t[1],width:bo,height:yo}}),B=new pa({props:{pattern:t[1],width:bo,height:yo}}),{c(){e=I("main"),n=I("h2"),n.textContent="Playground",r=K(),i=I("p"),i.textContent=`All stimuli (audio and visualizations) and configurable deviation. Play
    around with different values to compare how stimuli look and how small
    deviations can be`,o=K(),a=I("div"),f=rt("inter-onset interval (IOI): "),u=rt(s),c=rt(" milliseconds ("),h=rt(t[4]),l=rt(` bpm)
    `),d=I("label"),p=rt(`deviation as percent of IOI
      `),m=I("input"),g=K(),b=rt(_),v=rt(`
      (`),w=rt(y),x=rt(" milliseconds)"),$=K(),E=I("label"),N=rt(`instrument sample:
      `),D=I("select");for(let F=0;F<V.length;F+=1)V[F].c();T=K(),L=I("div"),xt(O.$$.fragment),P=K(),xt(S.$$.fragment),z=K(),xt(G.$$.fragment),j=K(),xt(X.$$.fragment),q=K(),xt(B.$$.fragment),Q(m,"type","range"),Q(m,"min","-20"),Q(m,"max","20"),Q(m,"step","1"),Q(d,"class","svelte-1sot113"),t[3]===void 0&&In(()=>t[7].call(D)),Q(E,"class","svelte-1sot113"),Q(L,"class","stimuli svelte-1sot113")},m(F,R){st(F,e,R),M(e,n),M(e,r),M(e,i),M(e,o),M(e,a),M(a,f),M(a,u),M(a,c),M(a,h),M(a,l),M(a,d),M(d,p),M(d,m),gt(m,t[0]),M(d,g),M(d,b),M(d,v),M(d,w),M(d,x),M(a,$),M(a,E),M(E,N),M(E,D);for(let k=0;k<V.length;k+=1)V[k]&&V[k].m(D,null);un(D,t[3],!0),M(e,T),M(e,L),_t(O,L,null),M(L,P),_t(S,L,null),M(L,z),_t(G,L,null),M(L,j),_t(X,L,null),M(L,q),_t(B,L,null),U=!0,H||(J=[$t(m,"change",t[6]),$t(m,"input",t[6]),$t(D,"change",t[7])],H=!0)},p(F,[R]){if((!U||R&16)&&se(h,F[4]),R&1&&gt(m,F[0]),(!U||R&1)&&_!==(_=F[0].toFixed(1)+"")&&se(b,_),(!U||R&4)&&y!==(y=(F[2]*1e3).toFixed(1)+"")&&se(w,y),R&32){Z=dn(F[5]);let W;for(W=0;W<Z.length;W+=1){const lt=uh(F,Z,W);V[W]?V[W].p(lt,R):(V[W]=ch(lt),V[W].c(),V[W].m(D,null))}for(;W<V.length;W+=1)V[W].d(1);V.length=Z.length}R&40&&un(D,F[3]);const k={};R&2&&(k.pattern=F[1]),R&8&&(k.audioFile=F[3]),O.$set(k);const C={};R&2&&(C.pattern=F[1]),R&8&&(C.audioFile=F[3]),S.$set(C);const Y={};R&2&&(Y.pattern=F[1]),G.$set(Y);const A={};R&2&&(A.pattern=F[1]),X.$set(A);const et={};R&2&&(et.pattern=F[1]),B.$set(et)},i(F){U||(tt(O.$$.fragment,F),tt(S.$$.fragment,F),tt(G.$$.fragment,F),tt(X.$$.fragment,F),tt(B.$$.fragment,F),U=!0)},o(F){ct(O.$$.fragment,F),ct(S.$$.fragment,F),ct(G.$$.fragment,F),ct(X.$$.fragment,F),ct(B.$$.fragment,F),U=!1},d(F){F&&ot(e),ba(V,F),wt(O),wt(S),wt(G),wt(X),wt(B),H=!1,Fe(J)}}}let bo=600,yo=100,So=.5,K9=6,Q9=3,J9=!0,tx=0;function ex(t,e,n){let r,i;const o=["./FluidR3_GM_acoustic_grand_piano-mp3_A4.mp3","./MailboxBadgerPublicDomainDrumSamples27LiveDrumsHiHat.mp3"];let a=o[0],f=5,s=[];function u(){f=wr(this.value),n(0,f)}function c(){a=To(this),n(3,a),n(5,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(2,i=f/100*So),t.$$.dirty&6&&(n(1,s=ko(K9,So,Q9,i,J9,tx)),console.log("generated pattern",s))},n(4,r=1/So*60),[f,s,i,a,r,o,u,c]}class nx extends ve{constructor(e){super(),we(this,e,ex,Z9,_e,{})}}var wg={exports:{}};(function(t,e){(function(n,r){r()})(Yr,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,h){var l=new XMLHttpRequest;l.open("GET",u),l.responseType="blob",l.onload=function(){s(l.response,c,h)},l.onerror=function(){console.error("could not download file")},l.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Yr=="object"&&Yr.global===Yr?Yr:void 0,f=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(u,c,h){var l=a.URL||a.webkitURL,d=document.createElement("a");c=c||u.name||"download",d.download=c,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?o(d):i(d.href)?r(u,c,h):o(d,d.target="_blank")):(d.href=l.createObjectURL(u),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){o(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),c);else if(i(u))r(u,c,h);else{var l=document.createElement("a");l.href=u,l.target="_blank",setTimeout(function(){o(l)})}}:function(u,c,h,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,h);var d=u.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&p||f)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var v=g.result;v=m?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=v:location=v,l=null},g.readAsDataURL(u)}else{var _=a.URL||a.webkitURL,b=_.createObjectURL(u);l?l.location=b:location.href=b,l=null,setTimeout(function(){_.revokeObjectURL(b)},4e4)}});a.saveAs=s.saveAs=s,t.exports=s})})(wg);var rx=wg.exports;const ix=Dh(rx);function St(t){this.stairs={};for(const e in t){if(this.stairs[e]=t[e],this.stairs[e].name=e,typeof t[e].firstVal>"u")throw new Error("No firstVal specified for "+e);if(t[e].hasOwnProperty("firstVal")&&(this.stairs[e].firstVal=t[e].firstVal),typeof t[e].stepSizeDown>"u")throw new Error("No stepSizeDown specified for "+e);if(this.stairs[e].stepSizeDown=t[e].stepSizeDown,typeof t[e].stepSizeUp>"u")throw new Error("No stepSizeUp specified for "+e);this.stairs[e].stepSizeUp=t[e].stepSizeUp,this.stairs[e].down=t[e].down||1,this.stairs[e].up=t[e].up||1,this.stairs[e].direction=t[e].direction||-1,this.stairs[e].reversalLimit=t[e].reversalLimit||0,this.stairs[e].limits=t[e].limits||!1,this.stairs[e].operation=t[e].operation||"add",this.stairs[e].wait=t[e].wait||1,this.stairs[e].val=t[e].val||[this.stairs[e].firstVal],this.stairs[e].active=t[e].active||!1,this.stairs[e].sameStairMax=t[e].sameStairMax||-1,this.stairs[e].limitReached=t[e].limitReached||!1,this.stairs[e].reversals=t[e].reversals||0,this.stairs[e].successiveGood=t[e].successiveGood||0,this.stairs[e].successiveBad=t[e].successiveBad||0,this.stairs[e].sameStairCount=t[e].sameStairCount||0,this.stairs[e].verbosity=t[e].verbosity||0,this.stairs[e].verbosity>0&&console.log("Built staircase '"+this.stairs[e].name+"' ("+this.stairs[e].operation+"): Start="+this.stairs[e].firstVal+"; StepSize="+this.stairs[e].stepSize+"; Limits=["+this.stairs[e].limits[0]+", "+this.stairs[e].limits[1]+"]")}this.tasks={easier:{add:{noWait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]-e.stepSizeDown*(e.stepSizeDown/e.up)},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]+e.stepSizeUp*(e.stepSizeUp/e.up)}},wait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]-e.stepSizeDown:e.val[e.val.length-1]},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]+e.stepSizeUp:e.val[e.val.length-1]}}},multiply:{noWait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]/Math.pow(e.stepSizeDown,e.down/e.up)},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.val[e.val.length-1]*e.stepSizeUp}},wait:{1:function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]/e.stepSizeDown:e.val[e.val.length-1]},"-1":function(e){return e.successiveGood=0,e.successiveBad++,e.successiveBad>=e.up?e.val[e.val.length-1]*e.stepSizeUp:e.val[e.val.length-1]}}}},harder:{add:{wait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]+e.stepSizeUp:e.val[e.val.length-1]},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]-e.stepSizeDown:e.val[e.val.length-1]}},noWait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]+e.stepSizeUp*(e.stepSizeUp/e.down)},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]-e.stepSizeDown*(e.stepSize/e.down)}}},multiply:{wait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]*e.stepSizeUp:e.val[e.val.length-1]},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.successiveGood>=e.down?e.val[e.val.length-1]/e.stepSizeDown:e.val[e.val.length-1]}},noWait:{1:function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]*e.stepSizeUp},"-1":function(e){return e.sameStairCount++,e.successiveGood++,e.successiveBad=0,e.val[e.val.length-1]/Math.pow(e.stepSizeDown,e.up/e.down)}}}}}}St.prototype.choose=function(t){const e=this.getActive(),n=t?"harder":"easier";t||(e.startingExplorationScale=1);const r=e.wait?"wait":"noWait";return e.verbosity>0&&console.log("Staircase '"+e.name+"' ("+e.operation+"): making test "+n+", "+r+" mode."),this.tasks[n][e.operation][r][e.direction](e)};St.prototype.checkLimits=function(t){const e=t;e.val[e.val.length-1]<e.val[e.val.length-2]&&e.val[e.val.length-1]<e.limits[0]?(e.val[e.val.length-1]=e.limits[0],e.limitReached=!0):e.val[e.val.length-1]>e.val[e.val.length-2]&&e.val[e.val.length-1]>e.limits[1]?(e.val[e.val.length-1]=e.limits[1],e.limitReached=!0):e.limitReached=!1};St.prototype.next=function(t){this.checkErr.ARG("next",arguments,1);const e=this.getActive();return e.val[e.val.length]=this.choose(t),this.checkLimits(e),e.val[e.val.length-1]};St.prototype.init=function(){const t=[];for(const n in this.stairs)this.stairs[n].active&&this.deactivate(n),this.stairs[n].lock||(t[t.length]=n);const e=vg(0,t.length-1);return this.activate(t[e]),this};St.prototype.changeActive=function(){const t=[];for(const n in this.stairs)!this.stairs[n].active&&!this.stairs[n].lock?t[t.length]=n:this.stairs[n].active&&this.deactivate(n);const e=vg(0,t.length-1);this.activate(t[e])};St.prototype.setsameStairMax=function(t,e){return this.checkErr.ARG("setsameStairMax",arguments,2),this.checkErr.UNDEFINED(this.stairs,e),this.stairs[e].sameStairMax=t};St.prototype.get=function(t){return this.checkErr.ARG("get",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val};St.prototype.getLast=function(t){return this.checkErr.ARG("getLast",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val[this.stairs[t].val.length-1]};St.prototype.getActive=function(){for(const t in this.stairs)if(this.stairs[t].active)return this.stairs[t];throw new Error("There is no active staircase. Consider initialize before using 'next' method")};St.prototype.activate=function(t){this.checkErr.ARG("activate",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active=!0,this.stairs[t].verbosity>0&&console.log("Staircase '"+this.stairs[t].name+"' now active")};St.prototype.deactivate=function(t){this.checkErr.ARG("deactivate",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active=!1,this.stairs[t].verbosity>0&&console.log("Staircase '"+this.stairs[t].name+"' deactivated")};St.prototype.resetCounts=function(t){this.stairs[t].sameStairCount=0,this.stairs[t].successiveGood=0,this.stairs[t].limitReached=!1};St.prototype.isActive=function(t){return this.checkErr.ARG("isActive",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].active};St.prototype.active=function(t){this.checkErr.ARG("active",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);for(const e in this.stairs)if(this.stairs[e].active)return e};St.prototype.lock=function(t){this.checkErr.ARG("lock",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock=!0};St.prototype.unlock=function(t){this.checkErr.ARG("unlock",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock=!1};St.prototype.isLocked=function(t){return this.checkErr.ARG("isLocked",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].lock};St.prototype.setVal=function(t,e){this.checkErr.ARG("setVal",arguments,2),this.checkErr.UNDEFINED(this.stairs,t),this.stairs[t].val[this.stairs[t].val.length]=e};St.prototype.getReversals=function(t){this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);const e=[];let n=this.stairs[t].direction*-1;for(let r=1;r<this.stairs[t].val.length;r++)(n===1&&this.stairs[t].val[r]>this.stairs[t].val[r-1]||n===-1&&this.stairs[t].val[r]<this.stairs[t].val[r-1])&&(e[e.length]=this.stairs[t].val[r-1],n=n*-1);return e.shift(),e};St.prototype.reversalLimitReached=function(t){return this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t),this.getReversals(t).length>=this.stairs[t].reversalLimit&&this.stairs[t].reversalLimit!==0};St.prototype.getFinalVal=function(t){this.checkErr.ARG("getFinalVal",arguments,1),this.checkErr.UNDEFINED(this.stairs,t);const e=this.getReversals(t);if(!e.length)throw new Error("Staircase '"+this.stairs[t].name+"': Not enough reversals to calculate final value.");let n=0;for(let r=0;r<e.length;r++)n=n+e[r];return n/e.length};const Ju=function(){};Ju.prototype.UNDEFINED=function(t,e){if(t[e]===void 0)throw new Error("Unable to find the staircase '"+e+"'")};Ju.prototype.ARG=function(t,e,n){if(e.length===0)throw new Error("Wrong number of arguments for the method '"+t+"'. Required: "+n)};St.prototype.checkErr=new Ju;function vg(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ox(t){let e,n,r,i;return{c(){e=I("main"),n=I("div"),Q(n,"width",r=t[0]+"px"),Q(n,"height",i=t[1]+"px")},m(o,a){st(o,e,a),M(e,n),t[6](n)},p(o,[a]){a&1&&r!==(r=o[0]+"px")&&Q(n,"width",r),a&2&&i!==(i=o[1]+"px")&&Q(n,"height",i)},i:At,o:At,d(o){o&&ot(e),t[6](null)}}}function ax(t,e,n){let{data:r=[]}=e,{final:i=0}=e,{width:o=800}=e,{height:a=150}=e,{showAbsolute:f=!1}=e,s;ki(()=>{const c=zr({width:o,height:a,marginLeft:50,x:{axis:!0,label:"step"},y:{axis:!0},marks:[_g(f?r.map(h=>Math.abs(h)):r,{x:(h,l)=>l,y:h=>h}),Us([i],{stroke:"red",strokeDasharray:"2 3"}),Us([0])]});n(2,s.textContent="",s),s.appendChild(c)});function u(c){hn[c?"unshift":"push"](()=>{s=c,n(2,s)})}return t.$$set=c=>{"data"in c&&n(3,r=c.data),"final"in c&&n(4,i=c.final),"width"in c&&n(0,o=c.width),"height"in c&&n(1,a=c.height),"showAbsolute"in c&&n(5,f=c.showAbsolute)},[o,a,s,r,i,f,u]}class xg extends ve{constructor(e){super(),we(this,e,ax,ox,_e,{data:3,final:4,width:0,height:1,showAbsolute:5})}}function lh(t){let e,n,r,i,o,a,f,s,u,c,h,l,d,p,m,g,_,b,v,y,w,x,$,E,N,D,T,L,O,P,S,z,G,j,X,q,B,U,H,J,Z,V,F;return{c(){e=I("div"),n=I("label"),r=rt(`ID:
        `),i=I("input"),o=K(),a=I("label"),f=rt(`Age:
        `),s=I("select"),u=I("option"),u.textContent="20-24",c=I("option"),c.textContent="25-29",h=I("option"),h.textContent="30-34",l=I("option"),l.textContent="35-39",d=I("option"),d.textContent="40-44",p=I("option"),p.textContent="45-49",m=I("option"),m.textContent="50-54",g=I("option"),g.textContent="55-60",_=K(),b=I("label"),v=rt(`Gender:
        `),y=I("input"),w=K(),x=I("label"),$=rt(`Highest finished education (select the best fitting one):
        `),E=I("select"),N=I("option"),N.textContent="none",D=I("option"),D.textContent="high school",T=I("option"),T.textContent="bachelor",L=I("option"),L.textContent="master",O=I("option"),O.textContent="phd",P=K(),S=I("label"),z=rt(`Which music instruments do you play?
        `),G=I("input"),j=K(),X=I("label"),q=rt(`For how many years do you roughly play it/them?
        `),B=I("input"),U=K(),H=I("label"),J=rt(`How many years of experience do you have with visualization?
        `),Z=I("input"),Q(i,"type","text"),Q(i,"placeholder","ID"),Q(n,"class","svelte-q3yxdh"),u.__value="20-24",gt(u,u.__value),c.__value="25-29",gt(c,c.__value),h.__value="30-34",gt(h,h.__value),l.__value="35-39",gt(l,l.__value),d.__value="40-44",gt(d,d.__value),p.__value="45-49",gt(p,p.__value),m.__value="50-54",gt(m,m.__value),g.__value="55-60",gt(g,g.__value),t[5]===void 0&&In(()=>t[25].call(s)),Q(a,"class","svelte-q3yxdh"),Q(y,"type","text"),Q(y,"placeholder","m, f, d, or self-describe"),Q(b,"class","svelte-q3yxdh"),N.__value="none",gt(N,N.__value),D.__value="highs",gt(D,D.__value),T.__value="bachelor",gt(T,T.__value),L.__value="master",gt(L,L.__value),O.__value="phd",gt(O,O.__value),t[7]===void 0&&In(()=>t[27].call(E)),Q(x,"class","svelte-q3yxdh"),Q(G,"type","text"),Q(G,"placeholder","free text"),Q(S,"class","svelte-q3yxdh"),Q(B,"type","number"),Q(B,"min","0"),Q(B,"step","1"),Q(X,"class","svelte-q3yxdh"),Q(Z,"type","number"),Q(Z,"min","0"),Q(Z,"step","1"),Q(H,"class","svelte-q3yxdh"),Q(e,"class","demo-form svelte-q3yxdh")},m(R,k){st(R,e,k),M(e,n),M(n,r),M(n,i),gt(i,t[4]),M(e,o),M(e,a),M(a,f),M(a,s),M(s,u),M(s,c),M(s,h),M(s,l),M(s,d),M(s,p),M(s,m),M(s,g),un(s,t[5],!0),M(e,_),M(e,b),M(b,v),M(b,y),gt(y,t[6]),M(e,w),M(e,x),M(x,$),M(x,E),M(E,N),M(E,D),M(E,T),M(E,L),M(E,O),un(E,t[7],!0),M(e,P),M(e,S),M(S,z),M(S,G),gt(G,t[8]),M(e,j),M(e,X),M(X,q),M(X,B),gt(B,t[9]),M(e,U),M(e,H),M(H,J),M(H,Z),gt(Z,t[10]),V||(F=[$t(i,"input",t[24]),$t(s,"change",t[25]),$t(y,"input",t[26]),$t(E,"change",t[27]),$t(G,"input",t[28]),$t(B,"input",t[29]),$t(Z,"input",t[30])],V=!0)},p(R,k){k[0]&16&&i.value!==R[4]&&gt(i,R[4]),k[0]&32&&un(s,R[5]),k[0]&64&&y.value!==R[6]&&gt(y,R[6]),k[0]&128&&un(E,R[7]),k[0]&256&&G.value!==R[8]&&gt(G,R[8]),k[0]&512&&wr(B.value)!==R[9]&&gt(B,R[9]),k[0]&1024&&wr(Z.value)!==R[10]&&gt(Z,R[10])},d(R){R&&ot(e),V=!1,Fe(F)}}}function hh(t){let e,n,r,i,o,a;const f=[sx,fx],s=[];function u(c,h){return c[13]?0:c[17].length>0?1:-1}return~(r=u(t))&&(i=s[r]=f[r](t)),{c(){e=I("p"),e.innerHTML=`You will be presented with a sequence of six notes which should have equal
      distances. The <b>fourth note</b> might be played too early or too late, also
      affecting the ones after.`,n=K(),i&&i.c(),o=qs()},m(c,h){st(c,e,h),st(c,n,h),~r&&s[r].m(c,h),st(c,o,h),a=!0},p(c,h){let l=r;r=u(c),r===l?~r&&s[r].p(c,h):(i&&(Vn(),ct(s[l],1,1,()=>{s[l]=null}),Xn()),~r?(i=s[r],i?i.p(c,h):(i=s[r]=f[r](c),i.c()),tt(i,1),i.m(o.parentNode,o)):i=null)},i(c){a||(tt(i),a=!0)},o(c){ct(i),a=!1},d(c){c&&(ot(e),ot(n),ot(o)),~r&&s[r].d(c)}}}function fx(t){let e,n,r,i,o;return i=new xg({props:{data:t[17],final:t[18]}}),{c(){e=I("p"),n=rt(t[19]),r=K(),xt(i.$$.fragment)},m(a,f){st(a,e,f),M(e,n),st(a,r,f),_t(i,a,f),o=!0},p(a,f){(!o||f[0]&524288)&&se(n,a[19]);const s={};f[0]&131072&&(s.data=a[17]),f[0]&262144&&(s.final=a[18]),i.$set(s)},i(a){o||(tt(i.$$.fragment,a),o=!0)},o(a){ct(i.$$.fragment,a),o=!1},d(a){a&&(ot(e),ot(r)),wt(i,a)}}}function sx(t){let e,n,r,i,o=t[3]+1+"",a,f,s,u,c,h=t[12]+1+"",l,d,p,m,g,_;const b=[cx,ux],v=[];function y(w,x){return w[16]==="audio"?0:w[15]===!1?1:-1}return~(p=y(t))&&(m=v[p]=b[p](t)),{c(){e=I("p"),e.textContent="Use the arrow keys: left for too early, right for too late.",n=K(),r=I("p"),i=rt("Test number "),a=rt(o),f=rt(" / 7"),s=K(),u=I("p"),c=rt("Trial number "),l=rt(h),d=K(),m&&m.c(),g=qs()},m(w,x){st(w,e,x),st(w,n,x),st(w,r,x),M(r,i),M(r,a),M(r,f),st(w,s,x),st(w,u,x),M(u,c),M(u,l),st(w,d,x),~p&&v[p].m(w,x),st(w,g,x),_=!0},p(w,x){(!_||x[0]&8)&&o!==(o=w[3]+1+"")&&se(a,o),(!_||x[0]&4096)&&h!==(h=w[12]+1+"")&&se(l,h);let $=p;p=y(w),p===$?~p&&v[p].p(w,x):(m&&(Vn(),ct(v[$],1,1,()=>{v[$]=null}),Xn()),~p?(m=v[p],m?m.p(w,x):(m=v[p]=b[p](w),m.c()),tt(m,1),m.m(g.parentNode,g)):m=null)},i(w){_||(tt(m),_=!0)},o(w){ct(m),_=!1},d(w){w&&(ot(e),ot(n),ot(r),ot(s),ot(u),ot(d),ot(g)),~p&&v[p].d(w)}}}function ux(t){let e,n,r,i;const o=[px,dx,hx,lx],a=[];function f(s,u){return s[16]==="waveform"?0:s[16]==="tick"?1:s[16]==="bar"?2:s[16]==="color"?3:-1}return~(e=f(t))&&(n=a[e]=o[e](t)),{c(){n&&n.c(),r=qs()},m(s,u){~e&&a[e].m(s,u),st(s,r,u),i=!0},p(s,u){let c=e;e=f(s),e===c?~e&&a[e].p(s,u):(n&&(Vn(),ct(a[c],1,1,()=>{a[c]=null}),Xn()),~e?(n=a[e],n?n.p(s,u):(n=a[e]=o[e](s),n.c()),tt(n,1),n.m(r.parentNode,r)):n=null)},i(s){i||(tt(n),i=!0)},o(s){ct(n),i=!1},d(s){s&&ot(r),~e&&a[e].d(s)}}}function cx(t){let e,n,r,i;return e=new ga({props:{pattern:[...t[0].slice(0,t[0].length-1),t[0].at(-1)+Math.random()*1e-4],audioFile:t[1],currentTrialNumber:t[12]}}),{c(){xt(e.$$.fragment),n=K(),r=I("p"),r.textContent="You can play the audio as many times as you like."},m(o,a){_t(e,o,a),st(o,n,a),st(o,r,a),i=!0},p(o,a){const f={};a[0]&1&&(f.pattern=[...o[0].slice(0,o[0].length-1),o[0].at(-1)+Math.random()*1e-4]),a[0]&2&&(f.audioFile=o[1]),a[0]&4096&&(f.currentTrialNumber=o[12]),e.$set(f)},i(o){i||(tt(e.$$.fragment,o),i=!0)},o(o){ct(e.$$.fragment,o),i=!1},d(o){o&&(ot(n),ot(r)),wt(e,o)}}}function lx(t){let e,n;return e=new pa({props:{pattern:t[0],width:nf,height:rf}}),{c(){xt(e.$$.fragment)},m(r,i){_t(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(tt(e.$$.fragment,r),n=!0)},o(r){ct(e.$$.fragment,r),n=!1},d(r){wt(e,r)}}}function hx(t){let e,n;return e=new da({props:{pattern:t[0],width:nf,height:rf}}),{c(){xt(e.$$.fragment)},m(r,i){_t(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(tt(e.$$.fragment,r),n=!0)},o(r){ct(e.$$.fragment,r),n=!1},d(r){wt(e,r)}}}function dx(t){let e,n;return e=new ha({props:{pattern:t[0],width:nf,height:rf}}),{c(){xt(e.$$.fragment)},m(r,i){_t(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),e.$set(o)},i(r){n||(tt(e.$$.fragment,r),n=!0)},o(r){ct(e.$$.fragment,r),n=!1},d(r){wt(e,r)}}}function px(t){let e,n;return e=new ma({props:{pattern:t[0],audioFile:t[1],width:nf,height:rf}}),{c(){xt(e.$$.fragment)},m(r,i){_t(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.pattern=r[0]),i[0]&2&&(o.audioFile=r[1]),e.$set(o)},i(r){n||(tt(e.$$.fragment,r),n=!0)},o(r){ct(e.$$.fragment,r),n=!1},d(r){wt(e,r)}}}function dh(t){let e,n,r,i,o,a;return{c(){e=I("div"),n=I("label"),r=rt(`Any final feedback?
        `),i=I("textarea")},m(f,s){st(f,e,s),M(e,n),M(n,r),M(n,i),gt(i,t[11]),o||(a=$t(i,"input",t[31]),o=!0)},p(f,s){s[0]&2048&&gt(i,f[11])},d(f){f&&ot(e),o=!1,a()}}}function ph(t){let e,n,r,i,o,a;return{c(){e=I("div"),e.textContent="Thanks for participating!",n=K(),r=I("div"),i=I("button"),i.textContent="Download results"},m(f,s){st(f,e,s),st(f,n,s),st(f,r,s),M(r,i),o||(a=$t(i,"click",t[21]),o=!0)},p:At,d(f){f&&(ot(e),ot(n),ot(r)),o=!1,a()}}}function mh(t){let e,n,r;return{c(){e=I("button"),e.textContent="next step"},m(i,o){st(i,e,o),n||(r=$t(e,"click",t[20]),n=!0)},p:At,d(i){i&&ot(e),n=!1,r()}}}function mx(t){let e,n,r,i,o,a,f,s,u=t[2]==="demo"&&lh(t),c=t[2]==="tests"&&hh(t),h=t[2]==="feedback"&&dh(t),l=t[2]==="done"&&ph(t),d=!t[14]&&t[2]!=="done"&&mh(t);return{c(){e=I("main"),n=I("h2"),n.textContent="Study",r=K(),u&&u.c(),i=K(),c&&c.c(),o=K(),h&&h.c(),a=K(),l&&l.c(),f=K(),d&&d.c()},m(p,m){st(p,e,m),M(e,n),M(e,r),u&&u.m(e,null),M(e,i),c&&c.m(e,null),M(e,o),h&&h.m(e,null),M(e,a),l&&l.m(e,null),M(e,f),d&&d.m(e,null),s=!0},p(p,m){p[2]==="demo"?u?u.p(p,m):(u=lh(p),u.c(),u.m(e,i)):u&&(u.d(1),u=null),p[2]==="tests"?c?(c.p(p,m),m[0]&4&&tt(c,1)):(c=hh(p),c.c(),tt(c,1),c.m(e,o)):c&&(Vn(),ct(c,1,1,()=>{c=null}),Xn()),p[2]==="feedback"?h?h.p(p,m):(h=dh(p),h.c(),h.m(e,a)):h&&(h.d(1),h=null),p[2]==="done"?l?l.p(p,m):(l=ph(p),l.c(),l.m(e,f)):l&&(l.d(1),l=null),!p[14]&&p[2]!=="done"?d?d.p(p,m):(d=mh(p),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(p){s||(tt(c),s=!0)},o(p){ct(c),s=!1},d(p){p&&ot(e),u&&u.d(),c&&c.d(),h&&h.d(),l&&l.d(),d&&d.d()}}}let gh=.5;const qf=20;let gx=6,bx=!0,yx=0,nf=600,rf=100;function _x(t,e,n){let r;const i=["./FluidR3_GM_acoustic_grand_piano-mp3_A4.mp3","./MailboxBadgerPublicDomainDrumSamples27LiveDrumsHiHat.mp3"];let o=i[0],a=[{stimulus:"audio",audioFile:i[0]},{stimulus:"audio",audioFile:i[1]},{stimulus:"waveform",audioFile:i[0]},{stimulus:"waveform",audioFile:i[1]},{stimulus:"tick"},{stimulus:"bar"},{stimulus:"color"}],f="start",s=0,u="",c="20-24",h="m",l="master",d="",p=0,m=0,g="",_=0,b,v={},y=[],w,x,$=!1,E=!1,N=!1,D="tick",T=qf,L=4-1,O=[],P=[],S=0,z="";const G=[];Ch(()=>{document.querySelector("html").addEventListener("keyup",Z)});const j=()=>{x=new St({ratio:{firstVal:qf,down:2,up:1,stepSizeDown:1,stepSizeUp:1*.5488,limits:[0,qf],direction:-1,reversalLimit:5,verbosity:1}}),x.init()};function X(){f==="start"?(a=a2(a),n(2,f="demo")):f==="demo"?(n(2,f="tests"),n(3,s=0)):f==="tests"?s<a.length?(n(16,D=a[s].stimulus),n(1,o=a[s].audioFile),q()):n(2,f="feedback"):f==="feedback"&&n(2,f="done")}function q(){j(),n(12,_=0),b=0,w=0,n(13,$=!0),n(17,P=[]),y=[],B()}function B(){console.log("Starting trial "+_),v={},n(14,E=!0),U()}function U(){let bt=Math.round(x.getLast("ratio"));bt=Math.random()<.5?bt:-bt,v.deviation=bt,n(22,T=bt),console.log("generated pattern",O),n(15,N=!0),window.setTimeout(()=>{n(15,N=!1)},1e3)}function H(ht){if(!E)return;n(14,E=!1),v.decisionChoice=ht,v.errorCode=0;const bt=w;(v.decisionChoice==0&&v.deviation<0||v.decisionChoice==1&&v.deviation>0)&&v.errorCode==0&&w++,v.errorCode==0&&(x.next(bt!=w),y[y.length]=v),v.errorCode==0&&b++,n(12,_++,_),x.reversalLimitReached("ratio")?J():B()}function J(){n(13,$=!1),V(),n(17,P=[]),n(18,S=x.getFinalVal("ratio"));for(let ht=0;ht<y.length;ht++)n(17,P[ht]=y[ht].deviation,P);console.log(P),G.push({encoding:D,audioFile:o,final:S,data:P,score:w,testNumber:s,trialCount:_+1,trials:y,validTrialCount:b+1}),n(3,s++,s)}function Z(ht){switch(ht.key){case"ArrowLeft":H(0);break;case"ArrowRight":H(1);break}}function V(){n(19,z=`You scored ${w} / ${_+1} (${(w/(_+1)*100).toFixed(1)}%) Your end difficulty was ${x.getFinalVal("ratio")}`)}function F(){const ht={demographics:{partID:u,partAge:c,partGender:h,partEduation:l,partMusicInstr:d,partMusicInstrYears:p,partVisExperienceYears:m,partFeedback:g},date:new Date().toISOString(),tests:G};console.log(ht);const bt=JSON.stringify(ht),te=new Blob([bt],{type:"text/plain;charset=utf-8"});ix(te,"results.json")}function R(){u=this.value,n(4,u)}function k(){c=To(this),n(5,c)}function C(){h=this.value,n(6,h)}function Y(){l=To(this),n(7,l)}function A(){d=this.value,n(8,d)}function et(){p=wr(this.value),n(9,p)}function W(){m=wr(this.value),n(10,m)}function lt(){g=this.value,n(11,g)}return t.$$.update=()=>{t.$$.dirty[0]&4194304&&n(23,r=T/100*gh),t.$$.dirty[0]&8388609&&(n(0,O=ko(gx,gh,L,r,bx,yx)),console.log("generated pattern",O))},[O,o,f,s,u,c,h,l,d,p,m,g,_,$,E,N,D,P,S,z,X,F,T,r,R,k,C,Y,A,et,W,lt]}class wx extends ve{constructor(e){super(),we(this,e,_x,mx,_e,{},null,[-1,-1])}}function bh(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function yh(t,e,n){const r=t.slice();return r[8]=e[n],r}function _h(t){let e,n=t[8].encoding+"",r,i,o=(t[8].encoding==="audio"||t[8].encoding==="waveform"?t[8].audioFile:"")+"",a,f,s=t[8].final.toFixed(2)+"",u,c,h,l;return h=new xg({props:{data:t[8].data,final:t[8].final,showAbsolute:t[2],height:150}}),{c(){e=I("h5"),r=rt(n),i=K(),a=rt(o),f=rt(`
        (final: `),u=rt(s),c=rt(`)
        `),xt(h.$$.fragment)},m(d,p){st(d,e,p),M(e,r),st(d,i,p),st(d,a,p),st(d,f,p),st(d,u,p),st(d,c,p),_t(h,d,p),l=!0},p(d,p){(!l||p&1)&&n!==(n=d[8].encoding+"")&&se(r,n),(!l||p&1)&&o!==(o=(d[8].encoding==="audio"||d[8].encoding==="waveform"?d[8].audioFile:"")+"")&&se(a,o),(!l||p&1)&&s!==(s=d[8].final.toFixed(2)+"")&&se(u,s);const m={};p&1&&(m.data=d[8].data),p&1&&(m.final=d[8].final),p&4&&(m.showAbsolute=d[2]),h.$set(m)},i(d){l||(tt(h.$$.fragment,d),l=!0)},o(d){ct(h.$$.fragment,d),l=!1},d(d){d&&(ot(e),ot(i),ot(a),ot(f),ot(u),ot(c)),wt(h,d)}}}function wh(t){let e,n,r=t[1][t[7]]+"",i,o,a,f,s=dn(t[5]),u=[];for(let h=0;h<s.length;h+=1)u[h]=_h(yh(t,s,h));const c=h=>ct(u[h],1,1,()=>{u[h]=null});return{c(){e=I("div"),n=I("h4"),i=rt(r),o=K();for(let h=0;h<u.length;h+=1)u[h].c();a=K()},m(h,l){st(h,e,l),M(e,n),M(n,i),M(e,o);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(e,null);M(e,a),f=!0},p(h,l){if((!f||l&2)&&r!==(r=h[1][h[7]]+"")&&se(i,r),l&5){s=dn(h[5]);let d;for(d=0;d<s.length;d+=1){const p=yh(h,s,d);u[d]?(u[d].p(p,l),tt(u[d],1)):(u[d]=_h(p),u[d].c(),tt(u[d],1),u[d].m(e,a))}for(Vn(),d=s.length;d<u.length;d+=1)c(d);Xn()}},i(h){if(!f){for(let l=0;l<s.length;l+=1)tt(u[l]);f=!0}},o(h){u=u.filter(Boolean);for(let l=0;l<u.length;l+=1)ct(u[l]);f=!1},d(h){h&&ot(e),ba(u,h)}}}function vx(t){let e,n,r,i,o,a,f,s,u,c,h,l,d,p,m=dn(t[0]),g=[];for(let b=0;b<m.length;b+=1)g[b]=wh(bh(t,m,b));const _=b=>ct(g[b],1,1,()=>{g[b]=null});return{c(){e=I("main"),n=I("h2"),n.textContent="Analysis",r=K(),i=I("p"),i.textContent=`Open a file that you saved after a study here to see the staircases and
    final values.`,o=K(),a=I("input"),f=K(),s=I("button"),u=rt("toggle absolute values "),c=rt(t[2]),h=K();for(let b=0;b<g.length;b+=1)g[b].c();Q(a,"type","file"),Q(a,"accept",".json"),a.multiple=!0},m(b,v){st(b,e,v),M(e,n),M(e,r),M(e,i),M(e,o),M(e,a),M(e,f),M(e,s),M(s,u),M(s,c),M(e,h);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(e,null);l=!0,d||(p=[$t(a,"input",t[3]),$t(s,"click",t[4])],d=!0)},p(b,[v]){if((!l||v&4)&&se(c,b[2]),v&7){m=dn(b[0]);let y;for(y=0;y<m.length;y+=1){const w=bh(b,m,y);g[y]?(g[y].p(w,v),tt(g[y],1)):(g[y]=wh(w),g[y].c(),tt(g[y],1),g[y].m(e,null))}for(Vn(),y=m.length;y<g.length;y+=1)_(y);Xn()}},i(b){if(!l){for(let v=0;v<m.length;v+=1)tt(g[v]);l=!0}},o(b){g=g.filter(Boolean);for(let v=0;v<g.length;v+=1)ct(g[v]);l=!1},d(b){b&&ot(e),ba(g,b),d=!1,Fe(p)}}}function xx(t,e,n){let r=[],i=[],o=!1;return[r,i,o,async s=>{const u=[],c=[];for(const h of s.target.files){const l=await h.text();u.push(JSON.parse(l)),c.push(h.name)}n(0,r=u),n(1,i=c)},()=>n(2,o=!o)]}class Mx extends ve{constructor(e){super(),we(this,e,xx,vx,_e,{})}}function vh(t,e,n){const r=t.slice();return r[8]=e[n],r}function xh(t){let e,n=t[8].substring(0,30)+"",r;return{c(){e=I("option"),r=rt(n),e.__value=t[8],gt(e,e.__value)},m(i,o){st(i,e,o),M(e,r)},p:At,d(i){i&&ot(e)}}}function $x(t){let e,n,r,i,o,a,f,s,u=(t[1]*1e3).toFixed(1)+"",c,h,l,d,p,m,g,_,b,v,y,w,x,$,E,N,D,T,L,O,P,S,z,G,j,X,q,B,U,H,J,Z,V,F,R=dn(t[5]),k=[];for(let C=0;C<R.length;C+=1)k[C]=xh(vh(t,R,C));return x=new ga({props:{pattern:t[3],audioFile:t[2]}}),E=new ga({props:{pattern:t[4],audioFile:t[2]}}),D=new ma({props:{pattern:t[3],audioFile:t[2],width:rn,height:on}}),L=new ma({props:{pattern:t[4],audioFile:t[2],width:rn,height:on}}),P=new ha({props:{pattern:t[3],width:rn,height:on}}),z=new ha({props:{pattern:t[4],width:rn,height:on}}),j=new da({props:{pattern:t[3],width:rn,height:on}}),q=new da({props:{pattern:t[4],width:rn,height:on}}),U=new pa({props:{pattern:t[3],width:rn,height:on}}),J=new pa({props:{pattern:t[4],width:rn,height:on}}),{c(){e=I("main"),n=I("h2"),n.textContent="Examples",r=K(),i=I("div"),o=I("label"),a=rt(`deviation
      `),f=I("input"),s=rt(`
      (`),c=rt(u),h=rt(" milliseconds)"),l=K(),d=I("label"),p=rt(`instrument sample:
      `),m=I("select");for(let C=0;C<k.length;C+=1)k[C].c();g=K(),_=I("div"),b=I("h2"),b.textContent="early fourth note",v=K(),y=I("h2"),y.textContent="late fourth note",w=K(),xt(x.$$.fragment),$=K(),xt(E.$$.fragment),N=K(),xt(D.$$.fragment),T=K(),xt(L.$$.fragment),O=K(),xt(P.$$.fragment),S=K(),xt(z.$$.fragment),G=K(),xt(j.$$.fragment),X=K(),xt(q.$$.fragment),B=K(),xt(U.$$.fragment),H=K(),xt(J.$$.fragment),Q(f,"type","range"),Q(f,"min","0"),Q(f,"max","20"),Q(f,"step","1"),Q(o,"class","svelte-1kjj0oz"),t[2]===void 0&&In(()=>t[7].call(m)),Q(d,"class","svelte-1kjj0oz"),Q(_,"class","stimuli svelte-1kjj0oz")},m(C,Y){st(C,e,Y),M(e,n),M(e,r),M(e,i),M(i,o),M(o,a),M(o,f),gt(f,t[0]),M(o,s),M(o,c),M(o,h),M(i,l),M(i,d),M(d,p),M(d,m);for(let A=0;A<k.length;A+=1)k[A]&&k[A].m(m,null);un(m,t[2],!0),M(e,g),M(e,_),M(_,b),M(_,v),M(_,y),M(_,w),_t(x,_,null),M(_,$),_t(E,_,null),M(_,N),_t(D,_,null),M(_,T),_t(L,_,null),M(_,O),_t(P,_,null),M(_,S),_t(z,_,null),M(_,G),_t(j,_,null),M(_,X),_t(q,_,null),M(_,B),_t(U,_,null),M(_,H),_t(J,_,null),Z=!0,V||(F=[$t(f,"change",t[6]),$t(f,"input",t[6]),$t(m,"change",t[7])],V=!0)},p(C,[Y]){if(Y&1&&gt(f,C[0]),(!Z||Y&2)&&u!==(u=(C[1]*1e3).toFixed(1)+"")&&se(c,u),Y&32){R=dn(C[5]);let qt;for(qt=0;qt<R.length;qt+=1){const Xi=vh(C,R,qt);k[qt]?k[qt].p(Xi,Y):(k[qt]=xh(Xi),k[qt].c(),k[qt].m(m,null))}for(;qt<k.length;qt+=1)k[qt].d(1);k.length=R.length}Y&36&&un(m,C[2]);const A={};Y&8&&(A.pattern=C[3]),Y&4&&(A.audioFile=C[2]),x.$set(A);const et={};Y&16&&(et.pattern=C[4]),Y&4&&(et.audioFile=C[2]),E.$set(et);const W={};Y&8&&(W.pattern=C[3]),Y&4&&(W.audioFile=C[2]),D.$set(W);const lt={};Y&16&&(lt.pattern=C[4]),Y&4&&(lt.audioFile=C[2]),L.$set(lt);const ht={};Y&8&&(ht.pattern=C[3]),P.$set(ht);const bt={};Y&16&&(bt.pattern=C[4]),z.$set(bt);const te={};Y&8&&(te.pattern=C[3]),j.$set(te);const $n={};Y&16&&($n.pattern=C[4]),q.$set($n);const er={};Y&8&&(er.pattern=C[3]),U.$set(er);const nr={};Y&16&&(nr.pattern=C[4]),J.$set(nr)},i(C){Z||(tt(x.$$.fragment,C),tt(E.$$.fragment,C),tt(D.$$.fragment,C),tt(L.$$.fragment,C),tt(P.$$.fragment,C),tt(z.$$.fragment,C),tt(j.$$.fragment,C),tt(q.$$.fragment,C),tt(U.$$.fragment,C),tt(J.$$.fragment,C),Z=!0)},o(C){ct(x.$$.fragment,C),ct(E.$$.fragment,C),ct(D.$$.fragment,C),ct(L.$$.fragment,C),ct(P.$$.fragment,C),ct(z.$$.fragment,C),ct(j.$$.fragment,C),ct(q.$$.fragment,C),ct(U.$$.fragment,C),ct(J.$$.fragment,C),Z=!1},d(C){C&&ot(e),ba(k,C),wt(x),wt(E),wt(D),wt(L),wt(P),wt(z),wt(j),wt(q),wt(U),wt(J),V=!1,Fe(F)}}}let rn=600,on=100,Yf=.5,Mh=6,$h=3,Sh=!0,Th=0;function Sx(t,e,n){let r;const i=["./FluidR3_GM_acoustic_grand_piano-mp3_A4.mp3","./MailboxBadgerPublicDomainDrumSamples27LiveDrumsHiHat.mp3"];let o=i[0],a=20,f=[],s=[];function u(){a=wr(this.value),n(0,a)}function c(){o=To(this),n(2,o),n(5,i)}return t.$$.update=()=>{t.$$.dirty&1&&n(1,r=a/100*Yf),t.$$.dirty&2&&n(3,f=ko(Mh,Yf,$h,-r,Sh,Th)),t.$$.dirty&2&&n(4,s=ko(Mh,Yf,$h,r,Sh,Th))},[a,r,o,f,s,i,u,c]}class Tx extends ve{constructor(e){super(),we(this,e,Sx,$x,_e,{})}}function kx(t){let e,n;return e=new Mx({}),{c(){xt(e.$$.fragment)},m(r,i){_t(e,r,i),n=!0},i(r){n||(tt(e.$$.fragment,r),n=!0)},o(r){ct(e.$$.fragment,r),n=!1},d(r){wt(e,r)}}}function Ex(t){let e,n;return e=new wx({}),{c(){xt(e.$$.fragment)},m(r,i){_t(e,r,i),n=!0},i(r){n||(tt(e.$$.fragment,r),n=!0)},o(r){ct(e.$$.fragment,r),n=!1},d(r){wt(e,r)}}}function Ax(t){let e,n;return e=new Tx({}),{c(){xt(e.$$.fragment)},m(r,i){_t(e,r,i),n=!0},i(r){n||(tt(e.$$.fragment,r),n=!0)},o(r){ct(e.$$.fragment,r),n=!1},d(r){wt(e,r)}}}function Cx(t){let e,n;return e=new nx({}),{c(){xt(e.$$.fragment)},m(r,i){_t(e,r,i),n=!0},i(r){n||(tt(e.$$.fragment,r),n=!0)},o(r){ct(e.$$.fragment,r),n=!1},d(r){wt(e,r)}}}function Nx(t){let e,n,r,i,o,a,f,s,u,c,h,l,d,p,m,g,_;const b=[Cx,Ax,Ex,kx],v=[];function y(w,x){return w[0]==="playground"?0:w[0]==="examples"?1:w[0]==="study"?2:w[0]==="analysis"?3:-1}return~(d=y(t))&&(p=v[d]=b[d](t)),{c(){e=I("main"),n=I("h1"),n.textContent="Rhythm Error Perception Study",r=K(),i=I("div"),o=I("button"),o.textContent="Playground",a=K(),f=I("button"),f.textContent="Examples",s=K(),u=I("button"),u.textContent="Study",c=K(),h=I("button"),h.textContent="Analysis",l=K(),p&&p.c()},m(w,x){st(w,e,x),M(e,n),M(e,r),M(e,i),M(i,o),M(i,a),M(i,f),M(i,s),M(i,u),M(i,c),M(i,h),M(e,l),~d&&v[d].m(e,null),m=!0,g||(_=[$t(o,"click",t[1]),$t(f,"click",t[2]),$t(u,"click",t[3]),$t(h,"click",t[4])],g=!0)},p(w,[x]){let $=d;d=y(w),d!==$&&(p&&(Vn(),ct(v[$],1,1,()=>{v[$]=null}),Xn()),~d?(p=v[d],p||(p=v[d]=b[d](w),p.c()),tt(p,1),p.m(e,null)):p=null)},i(w){m||(tt(p),m=!0)},o(w){ct(p),m=!1},d(w){w&&ot(e),~d&&v[d].d(),g=!1,Fe(_)}}}function Dx(t,e,n){let r="study";return[r,()=>n(0,r="playground"),()=>n(0,r="examples"),()=>n(0,r="study"),()=>n(0,r="analysis")]}class Fx extends ve{constructor(e){super(),we(this,e,Dx,Nx,_e,{})}}new Fx({target:document.getElementById("app")});export{Dh as g};
